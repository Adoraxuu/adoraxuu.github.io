<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Advent of code 2023 â€”Day 01</title>
    <url>/2023/12/17/AOC-day01/</url>
    <content><![CDATA[<style>
.em-div{
background-color: #d4a373;
color: white;
padding: 10px;
margin: 10px;
border-radius: 5px;
}

.em-div2{
border:2px #d4a373 solid;
margin:5px;
padding:10px 2px 2px 2px;
border-style:dashed;
}
</style>

<h3 id="é—œæ–¼Advent-of-code"><a href="#é—œæ–¼Advent-of-code" class="headerlink" title="é—œæ–¼Advent of code"></a>é—œæ–¼Advent of code</h3><blockquote>
<p><a href="https://adventofcode.com/">â€œAdvent of codeâ€</a>æ˜¯ä¸€å¹´ä¸€åº¦çš„ä»¥è–èª•ç¯€ç‚ºä¸»é¡Œçš„è¨ˆç®—æ©Ÿç¨‹å¼æŒ‘æˆ°ã€‚è‡ª2015å¹´ä»¥ä¾†ä¸€ç›´åœ¨é‹è¡Œã€‚ç¨‹å¼é›£é¡Œæ¶µè“‹å„ç¨®æŠ€èƒ½é›†å’ŒæŠ€èƒ½ç´šåˆ¥ï¼Œå¯ä»¥ä½¿ç”¨ä»»ä½•ç·¨ç¨‹èªè¨€ä¾†è§£æ±ºã€‚åƒèˆ‡è€…é‚„å¯ä»¥åœ¨å…¨çƒå’Œç§äººæ’è¡Œæ¦œä¸Šæ ¹æ“šé€Ÿåº¦é€²è¡Œç«¶çˆ­ã€‚è©²æ´»å‹•ç”±è»Ÿä»¶å·¥ç¨‹å¸«Eric Wastlå‰µç«‹ä¸¦ç¶­è­·ã€‚</p>
</blockquote>
<p>ä¾†æºï¼š<a href="https://en.wikipedia.org/wiki/Advent_of_Code">ç¶­åŸºç™¾ç§‘</a></p>
<h3 id="Day-1-part-1"><a href="#Day-1-part-1" class="headerlink" title="Day 1 - part.1"></a>Day 1 - part.1</h3><p>ä»Šå¹´ç¬¬ä¸€æ¬¡ä¾†åƒèˆ‡Advent of codeï¼Œé †ä¾¿æŠŠæˆ‘çš„è§£é¡Œéç¨‹ä¹Ÿè¨˜éŒ„ä¸‹ä¾†Ù©(^á´—^)Û¶</p>
<p>é€™æ˜¯ç¬¬ä¸€å¤© Part 1çš„é¡Œç›®ï¼š</p>
<img src="/images/AOC/01.png">

<p>ç¬¬ä¸€éƒ¨åˆ†æ¯”è¼ƒç°¡å–®ï¼Œåªè¦é€égsubå°±å¯ä»¥è§£æ±ºï¼</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">process_input</span>(<span class="hljs-params">input_array</span>)<br>  results = []<br><span class="hljs-comment">#è¨­å®šä¸€å€‹ç©ºé™£åˆ—</span><br><br><span class="hljs-comment"># ä½¿ç”¨each doå°‡é™£åˆ—è£¡çš„æ•¸ä¸Ÿå‡ºè™•ç†ä¸¦æ›¿æ›</span><br>  input_array.each <span class="hljs-keyword">do</span> |<span class="hljs-params">input_string</span>|<br>    digits = input_string.gsub(<span class="hljs-regexp">/\D/</span>, <span class="hljs-string">&#x27;&#x27;</span>)<br>    result = <span class="hljs-string">&quot;<span class="hljs-subst">#&#123;digits[<span class="hljs-number">0</span>]&#125;</span><span class="hljs-subst">#&#123;digits[-<span class="hljs-number">1</span>]&#125;</span>&quot;</span><br><span class="hljs-comment">#åˆ©ç”¨å­—ä¸²å°‡é¦–ä½æ•¸+å°¾æ•¸ä¸²èµ·ä¾†ï¼Œå¦‚æœåªæœ‰ä¸€å€‹æ•¸å­—å‰‡é‡è¤‡</span><br>    results.push(result)<br><span class="hljs-comment">#å°‡çµæœæ¨é€²resultè£¡</span><br>  <span class="hljs-keyword">end</span><br><br>  <span class="hljs-comment"># è¨ˆç®—çµæœé™£åˆ—ä¸­æ•¸å­—çš„ç¸½å’Œ #åˆ©ç”¨.map(&amp;:to_i)å°‡é™£åˆ—è£¡çš„å­—ä¸²è½‰ç‚ºæ•¸å­—æ‰å¯ä»¥ç›¸åŠ </span><br>  sum_result = results.map(&amp;<span class="hljs-symbol">:to_i</span>).sum<br><br>  <span class="hljs-comment"># è¼¸å‡ºçµæœ</span><br>  puts sum_result<br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure>

<h3 id="Day1-Part-2"><a href="#Day1-Part-2" class="headerlink" title="Day1 Part.2"></a>Day1 Part.2</h3><p>ç¬¬äºŒéƒ¨åˆ†æˆ‘æ•´å€‹å¤§å¡é—œ(á—’á—£á—•)Õ</p>
<img src="/images/AOC/02.png">

<p>æœ‰æƒ³å‡ºèªªåšå‡ºä¸€å€‹hashï¼Œå°‡â€oneâ€ &#x3D;&gt; â€œ1â€ä¾åºè¼¸å…¥é€²å»ï¼Œ<br>æ¥è‘—ä½¿ç”¨each+gsubå°‡å°‡è£¡é¢çš„æ•¸å­—æ›¿æ›æ‰ï¼Œ<br>ä½†é‡åˆ°eightwothreeï¼Œè¼¸å‡ºçš„çµæœå»æ˜¯eigh23â€¦.</p>
<p>æœ€å¾Œä¸Šç¶²æ‰¾äº†<a href="https://www.youtube.com/@cjav_dev">CJ Avilla</a>åˆ†äº«çš„è§£æ³•ï¼Œ<br>ä¾†æºï¼š <a href="https://www.youtube.com/watch?v=lrJfC2dF84k&list=PLS6F722u-R6KYlGyUv65EFpGKl2Esmurr&index=15">Match and Scan - Day 01 - Advent of Code 2023</a></p>
<p>åŸä¾†ä½¿ç”¨matchæ–¹æ³•å°±å¯ä»¥äº†Ê• â€¢Ì€ o â€¢Ì Ê”</p>
<p>é—œæ–¼matchï¼Œ<a href="https://rubyapi.org/3.2/o/s?q=match">Ruby API</a>æ˜¯é€™æ¨£è§£é‡‹ï¼š<br><strong><strong><a href="https://rubyapi.org/3.2/o/string#method-i-match">String#match</a></strong></strong></p>
<div class="em-div2">

<p>Returns a MatchData object (orÂ <code>nil</code>) based onÂ <code>self</code>Â and the givenÂ <code>pattern</code>.<br>Note: also updatesÂ <a href="https://rubyapi.org/3.2/o/regexp#class-Regexp-label-Special+global+variables">Special global variables atÂ <code>Regexp</code></a>.<br> ComputesÂ <code>regexp</code>Â by convertingÂ <code>pattern</code>Â (if not already a Regexp).</p>
</div>
matchæœƒå›å‚³ç¬¦åˆå…§å®¹çš„ç‰©ä»¶ï¼Œçœ‹èµ·ä¾†åƒé€™å€‹æ¨£å­ï¼š

<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-string">&#x27;foo&#x27;</span>.match(<span class="hljs-string">&#x27;f&#x27;</span>) <span class="hljs-comment"># =&gt; #&lt;MatchData &quot;f&quot;&gt;</span><br></code></pre></td></tr></table></figure>

<p>å¦å¤–å¯ä»¥ä½¿ç”¨å¸¸è¦è¡¨é”æ³•è½‰æ›ï¼Œæ‰€ä»¥è§£æ³•å¯ä»¥é€™æ¨£å¯«ï¼š</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby">input = <span class="hljs-string">&lt;&lt;~INPUT</span><br><span class="hljs-string">two1nine</span><br><span class="hljs-string">eightwothree</span><br><span class="hljs-string">abcone2threexyz</span><br><span class="hljs-string">xtwone3four</span><br><span class="hljs-string">4nineeightseven2</span><br><span class="hljs-string">zoneight234</span><br><span class="hljs-string">7pqrstsixteen</span><br><span class="hljs-string">INPUT</span><br><br>replacement = &#123;<br>  <span class="hljs-string">&quot;one&quot;</span> =&gt; <span class="hljs-string">&quot;1&quot;</span>,<br>  <span class="hljs-string">&quot;two&quot;</span> =&gt; <span class="hljs-string">&quot;2&quot;</span>,<br>  <span class="hljs-string">&quot;three&quot;</span> =&gt; <span class="hljs-string">&quot;3&quot;</span>,<br>  <span class="hljs-string">&quot;four&quot;</span> =&gt; <span class="hljs-string">&quot;4&quot;</span>,<br>  <span class="hljs-string">&quot;five&quot;</span> =&gt; <span class="hljs-string">&quot;5&quot;</span>,<br>  <span class="hljs-string">&quot;six&quot;</span> =&gt; <span class="hljs-string">&quot;6&quot;</span>,<br>  <span class="hljs-string">&quot;seven&quot;</span> =&gt; <span class="hljs-string">&quot;7&quot;</span>,<br>  <span class="hljs-string">&quot;eight&quot;</span> =&gt; <span class="hljs-string">&quot;8&quot;</span>,<br>  <span class="hljs-string">&quot;nine&quot;</span> =&gt; <span class="hljs-string">&quot;9&quot;</span>,<br>  <span class="hljs-string">&quot;1&quot;</span> =&gt; <span class="hljs-string">&quot;1&quot;</span>,<br>  <span class="hljs-string">&quot;2&quot;</span> =&gt; <span class="hljs-string">&quot;2&quot;</span>,<br>  <span class="hljs-string">&quot;3&quot;</span> =&gt; <span class="hljs-string">&quot;3&quot;</span>,<br>  <span class="hljs-string">&quot;4&quot;</span> =&gt; <span class="hljs-string">&quot;4&quot;</span>,<br>  <span class="hljs-string">&quot;5&quot;</span> =&gt; <span class="hljs-string">&quot;5&quot;</span>,<br>  <span class="hljs-string">&quot;6&quot;</span> =&gt; <span class="hljs-string">&quot;6&quot;</span>,<br>  <span class="hljs-string">&quot;7&quot;</span> =&gt; <span class="hljs-string">&quot;7&quot;</span>,<br>  <span class="hljs-string">&quot;8&quot;</span> =&gt; <span class="hljs-string">&quot;8&quot;</span>,<br>  <span class="hljs-string">&quot;9&quot;</span> =&gt; <span class="hljs-string">&quot;9&quot;</span>,<br>  <span class="hljs-string">&quot;0&quot;</span> =&gt; <span class="hljs-string">&quot;0&quot;</span><br>&#125;<br>result = input.each_line.map <span class="hljs-keyword">do</span> |<span class="hljs-params">line</span>|<br>  digits = line.match(<span class="hljs-regexp">/(<span class="hljs-subst">#&#123;replacement.keys.join(<span class="hljs-string">&#x27;|&#x27;</span>)&#125;</span>)/</span>, <span class="hljs-number">0</span>)<br><span class="hljs-comment">#åŒ¹é…hashçš„keyï¼Œä¸¦å°‡æ‰€æœ‰keysç”¨|(or)éš”é–‹ï¼Œä¸€å€‹ç¬¦åˆå³å¯ï¼Œå¾Œé¢çš„0ç‚ºå¾æœ€å·¦é‚Šæœ€ä¸€é–‹å§‹åŒ¹é…</span><br>  first = replacement[digits[<span class="hljs-number">0</span>]]<br><br>  digits = line.reverse.match(<span class="hljs-regexp">/(<span class="hljs-subst">#&#123;replacement.keys.map(&amp;<span class="hljs-symbol">:reverse</span>).join(<span class="hljs-string">&#x27;|&#x27;</span>)&#125;</span>)/</span>, <span class="hljs-number">0</span>)<br>  last = replacement[digits[<span class="hljs-number">0</span>].reverse]<br><span class="hljs-comment">#ä½¿ç”¨åè½‰æœç´¢æœ€å¾Œä¸€å€‹æ•¸</span><br><br>  (first+last).to_i<br><span class="hljs-keyword">end</span>.sum<br><br>p result<br></code></pre></td></tr></table></figure>

<p>è¼¸å…¥çµæœæœ€å¾Œæ‹¿åˆ°æ˜Ÿæ˜Ÿäº†(Â´âˆ€&#96;)ï¼ˆæœ‰é»å¿ƒè™›ï¼‰</p>
<img src="/images/AOC/03.png">

<p>ä¸éåœ¨æŒ‘æˆ°çš„éç¨‹ä¸­ï¼Œæ„Ÿè¦ºè‡ªå·±åˆé€²æ­¥äº†ä¸€äº›ãƒ¾(*Â´âˆ‡&#96;)ï¾‰</p>
<p>æœ€å¾ŒçœŸçš„å¾ˆæ„Ÿè¬<a href="https://www.youtube.com/@cjav_dev">CJ Avilla</a>å¤§ç¥èƒ½å¤ æä¾›è§£æ³•ï¼</p>
<p>å¦‚æœæ‚¨æœ‰èˆˆè¶£äº†è§£æ›´å¤šï¼Œè«‹åƒè€ƒï¼š</p>
<h3 id="åƒè€ƒè³‡æ–™ï¼š"><a href="#åƒè€ƒè³‡æ–™ï¼š" class="headerlink" title="åƒè€ƒè³‡æ–™ï¼š"></a>åƒè€ƒè³‡æ–™ï¼š</h3><blockquote>
<p><a href="https://www.youtube.com/watch?v=lrJfC2dF84k&list=PLS6F722u-R6KYlGyUv65EFpGKl2Esmurr&index=15">Match and Scan - Day 01 - Advent of Code 2023</a></p>
</blockquote>
]]></content>
      <categories>
        <category>Ruby</category>
      </categories>
      <tags>
        <tag>AOC</tag>
        <tag>Advent of code</tag>
        <tag>Ruby</tag>
      </tags>
  </entry>
  <entry>
    <title>Ruby on Rails: MVCæ˜¯ä»€éº¼?</title>
    <url>/2023/12/02/MVC/</url>
    <content><![CDATA[<style>
  .em-div{
  background-color: #d4a373;
  color: white;
  padding: 10px;
  margin: 10px;
  border-radius: 5px;
  }

  .em-div2{
    border:2px #d4a373 solid;
    margin:5px;
    padding:10px 2px 2px 2px;
    border-style:dashed;
  }
</style>

<img src="/images/MVC/banner.png" alt="">

<h3 id="MVC-å®šç¾©ï¼š"><a href="#MVC-å®šç¾©ï¼š" class="headerlink" title="MVC å®šç¾©ï¼š"></a>MVC å®šç¾©ï¼š</h3><p>ä¾æ“š<a href="https://zh.wikipedia.org/zh-tw/MVC">ç¶­åŸºç™¾ç§‘</a>çš„ä»‹ç´¹ï¼š</p>
<div class="em-div2">
MVCæ¨¡å¼ï¼ˆModelâ€“viewâ€“controllerï¼‰æ˜¯è»Ÿé«”å·¥ç¨‹ä¸­çš„ä¸€ç¨®è»Ÿé«”æ¶æ§‹æ¨¡å¼ï¼Œ
æŠŠè»Ÿé«”ç³»çµ±åˆ†ç‚ºä¸‰å€‹åŸºæœ¬éƒ¨åˆ†ï¼šæ¨¡å‹ï¼ˆModelï¼‰ã€è¦–åœ–ï¼ˆViewï¼‰å’Œæ§åˆ¶å™¨ï¼ˆControllerï¼‰ã€‚
</div>

<p>MVC æ¨¡å¼æœ€æ—©ç”± Trygve Reenskaug åœ¨ 1978 å¹´æå‡ºï¼Œæ˜¯å…¨éŒ„å¸•ç¾…å¥§å¤šç ”ç©¶ä¸­å¿ƒï¼ˆXerox PARCï¼‰åœ¨ 20 ä¸–ç´€ 80 å¹´ä»£ç‚ºç¨‹å¼èªè¨€ Smalltalk ç™¼æ˜çš„ä¸€ç¨®è»Ÿé«”æ¶æ§‹ã€‚</p>
<p>æˆ‘å€‘ä»Šå¤©ä½¿ç”¨çš„ç¶²ç«™æ˜¯å¾ˆè¤‡é›œçš„æ‡‰ç”¨ç¨‹åº( Ë˜â€¢Ï‰â€¢Ë˜ )ï¼Œç‚ºäº†ç°¡åŒ–ç¨‹å¼ç¢¼ä¸¦ä½¿å…¶æ›´æ–¹ä¾¿ä½¿ç”¨ï¼Œè¨±å¤šå·¥ç¨‹å¸«é¸æ“‡ä½¿ç”¨<strong>MVC</strong>ä¾†ä½ˆå±€ä»–å€‘çš„å°ˆæ¡ˆã€‚</p>
<p>å°‡å¤§å‹æ‡‰ç”¨ç¨‹å¼åˆ†è§£ç‚ºè¼ƒå°çš„éƒ¨åˆ†ï¼Œå†å„è‡ªè² è²¬å°ˆé–€çš„äº‹ o(<em>^â–½^</em>)o</p>
<h2 id="MVC-å„è‡ªè² è²¬ä»€éº¼ï¼Ÿ"><a href="#MVC-å„è‡ªè² è²¬ä»€éº¼ï¼Ÿ" class="headerlink" title="MVC å„è‡ªè² è²¬ä»€éº¼ï¼Ÿ"></a>MVC å„è‡ªè² è²¬ä»€éº¼ï¼Ÿ</h2><p>ç†è§£å®Œ MVC çš„èƒŒæ™¯äº†ï¼Œæ¥ä¸‹ä¾†çœ‹çœ‹ï¼ŒMVC å„è‡ªè² è²¬ä»€éº¼å·¥ä½œå…§å®¹ï¼š</p>
<ul>
<li>æ¨¡å‹ï¼ˆModelï¼‰ - ç¨‹å¼è¨­è¨ˆå¸«ç·¨å¯«ç¨‹å¼æ‡‰æœ‰çš„åŠŸèƒ½ï¼ˆå¯¦ç¾æ¼”ç®—æ³•ç­‰ç­‰ï¼‰ã€è³‡æ–™åº«å°ˆå®¶é€²è¡Œè³‡æ–™ç®¡ç†å’Œè³‡æ–™åº«è¨­è¨ˆ(å¯ä»¥å¯¦ç¾å…·é«”çš„åŠŸèƒ½)ã€‚</li>
<li>è¦–åœ–ï¼ˆViewï¼‰ - ä»‹é¢è¨­è¨ˆäººå“¡é€²è¡Œåœ–å½¢ä»‹é¢è¨­è¨ˆã€‚</li>
<li>æ§åˆ¶å™¨ï¼ˆControllerï¼‰- è² è²¬è½‰ç™¼è«‹æ±‚ï¼Œå°è«‹æ±‚é€²è¡Œè™•ç†ã€‚</li>
</ul>
<p>åƒè€ƒè³‡æ–™ï¼š<a href="https://zh.wikipedia.org/zh-tw/MVC">ç¶­åŸºç™¾ç§‘ MVC</a></p>
<h2 id="MVC-ç•¶å‰è¶¨å‹¢"><a href="#MVC-ç•¶å‰è¶¨å‹¢" class="headerlink" title="MVC ç•¶å‰è¶¨å‹¢"></a>MVC ç•¶å‰è¶¨å‹¢</h2><p>MVC æ¶æ§‹å·²ç¶“è®Šå¾—å¦‚æ­¤æµè¡Œï¼Œä»¥è‡³æ–¼ç¾åœ¨å¤§å¤šæ•¸æµè¡Œçš„æ¡†æ¶éƒ½éµå¾ª MVC è¨­è¨ˆæ¨¡å¼ä¾†é–‹ç™¼æ‡‰ç”¨ç¨‹å¼ã€‚</p>
<p>ç›®å‰ MVC è¨­è¨ˆæ¨¡å¼çš„æµè¡Œæ¡†æ¶æœ‰ï¼š <img src="/images/MVC/mvcframwork2.png" alt=""></p>
<h2 id="Ruby-on-Rails-çš„-MVC-æ¶æ§‹"><a href="#Ruby-on-Rails-çš„-MVC-æ¶æ§‹" class="headerlink" title="Ruby on Rails çš„ MVC æ¶æ§‹"></a>Ruby on Rails çš„ MVC æ¶æ§‹</h2><p>çœ‹å®Œäº†ä»¥ä¸Šä¸‰é …è§£é‡‹ï¼Œæ‡‰è©²é‚„æ˜¯å¾ˆé›£æ˜ç™½åˆ°åº• MVC çš„å¯¦éš›æ‡‰ç”¨ï¼Œä»¥ä¸‹å°‡ç”¨ Ruby on Rails è£¡çš„ï¼­é‹ä½œæµç¨‹ï¼Œæ­é…åœ–ç‰‡ä¾†è¬›è§£ d(&#96;ï½¥âˆ€ï½¥)b</p>
<p>å¯ä»¥é€éä»¥ä¸‹åœ–ç‰‡ä¾†ç†è§£ï¼š <img src="/images/MVC/01.png" alt=""></p>
<h3 id="1-Routes"><a href="#1-Routes" class="headerlink" title="1. Routes"></a>1. Routes</h3> <!-- <img src="/images/MVC/02.png" alt=""> -->

<p>ç•¶æœ‰ä½¿ç”¨è€…è¼¸å…¥ç¶²å€ï¼Œé€£åˆ°ç¶²ç«™çš„æ™‚å€™ï¼Œç¬¬ä¸€é—œæœƒé‡åˆ°çš„æ˜¯ routes Rails æœƒæ ¹æ“šä½¿ç”¨è€…è¼¸å…¥çš„ç¶²å€åŠåƒæ•¸ï¼Œå»å°‹æ‰¾ç›¸å°æ‡‰ Controller ä¸Šçš„ Actionã€‚</p>
<h3 id="2-Controller"><a href="#2-Controller" class="headerlink" title="2. Controller"></a>2. Controller</h3><!-- <img src="/images/MVC/03.png" alt=""> -->

<p>å¯ä»¥æƒ³åƒæˆæ§åˆ¶è™•ç†ä¸­å¿ƒ or æŒ‡æ®å®˜ï¼Œ Controller æœƒå’Œ model è¦è³‡æ–™ã€View è¦ç•«é¢ï¼Œæœ€å¾Œæä¾›çµ¦ routesï¼Œå†è®“ä½¿ç”¨è€…çœ‹åˆ°ç¶²é ç•«é¢ã€‚ Controller é€šå¸¸æœƒæœ‰ä¸€å€‹ä»¥ä¸Šçš„ Actionï¼Œé€™äº› Action å°±æ˜¯ Ruby è£¡çš„æ–¹æ³•ï¼ˆmethodï¼‰ã€‚</p>
<h3 id="3-Model"><a href="#3-Model" class="headerlink" title="3. Model"></a>3. Model</h3><!-- <img src="/images/MVC/04.png" alt=""> -->

<p>Model æœ¬èº«ä¸¦ä¸æ˜¯è³‡æ–™åº«ï¼Œä½ å¯ä»¥æŠŠå®ƒæƒ³åƒæˆç¿»è­¯å®˜ï¼Œå®ƒå¯ä»¥å¹«ä½ æŠŠä½ è·Ÿ Model èªªçš„ã€Œäººè©±ã€è½‰æˆè³‡æ–™åº«çœ‹å¾—æ‡‚çš„è³‡æ–™åº«æŸ¥è©¢èªè¨€ï¼ˆStructured Query Languageï¼Œç°¡ç¨± SQLï¼‰ï¼Œé€é SQLï¼ŒModel å¯ä»¥è·Ÿè³‡æ–™åº«å–å¾—ä½ æƒ³è¦çš„è³‡æ–™ã€‚</p>
<h3 id="4-View"><a href="#4-View" class="headerlink" title="4. View"></a>4. View</h3><!-- <img src="/images/MVC/05.png" alt=""> -->

<p>View ç‚ºä½¿ç”¨è€…æœ€å¾Œçœ‹åˆ°çš„ç•«é¢ï¼Œé›–ç„¶ Controller&#x2F;Action æ‹¿åˆ°è³‡æ–™äº†ï¼Œä½†ç›®å‰é€™åŒ…æ±è¥¿é‚„æ²’ç¾åŒ–ã€æ•´ç†éï¼Œé‚„ä¸é©åˆçµ¦ä½¿ç”¨è€…çœ‹ï¼Œæ‰€ä»¥ Controller&#x2F;Action é‚„éœ€è¦è·Ÿ View å€Ÿä¸€ä¸‹ç•«é¢ï¼Œè®“è³‡æ–™æ›´é©åˆä½¿ç”¨è€…é–±è®€ã€‚</p>
<p>é€šå¸¸ç•«é¢çš„å‘ˆç¾æœƒå¯«åœ¨é€™è£¡ï¼Œä½¿ç”¨çš„æ˜¯<code>.html.erb</code>æª”æ¡ˆã€‚</p>
<p>è©³ç´°å…§å®¹å¯ä»¥åƒè€ƒé¾å“¥çš„<a href="https://railsbook.tw/chapters/10-mvc#mvc-flow">ç‚ºä½ è‡ªå·±å­¸ Ruby on Rails</a></p>
<hr>
<p>æœ¬ç¯‡æ–‡ç« æ˜¯åƒè€ƒä»¥ä¸‹è³‡æ–™ï¼Œé€éè‡ªå·±ç¹ªåœ–+æ•´ç†è€Œæˆï¼Œå¦‚æœæœ‰ä»€éº¼å•é¡Œæ­¡è¿èˆ‡æˆ‘è¨è«–ï¼(<em>^â–½^</em>)</p>
<div class="em-div2">
åƒè€ƒè³‡æ–™ï¼š

<p><a href="https://railsbook.tw/chapters/10-mvc#mvc-flow">ç‚ºä½ è‡ªå·±å­¸ Ruby on Rails</a></p>
<p><a href="https://zh.wikipedia.org/zh-tw/MVC">ç¶­åŸºç™¾ç§‘ MVC</a></p>
<p><a href="https://www.interviewbit.com/blog/mvc-architecture/">MVC Architecture â€“ Detailed Explanation</a></p>
</div>
]]></content>
      <categories>
        <category>Ruby on Rails</category>
      </categories>
      <tags>
        <tag>Ruby</tag>
        <tag>Rails</tag>
        <tag>MVC</tag>
      </tags>
  </entry>
  <entry>
    <title>ä½¿ç”¨ Django REST Framework å’Œ React å»ºç½®é–‹ç™¼ç’°å¢ƒ</title>
    <url>/2024/09/15/Quick-Start-Setting-Up-a-Development-Environment-with-Django-REST-Framework-and-React/</url>
    <content><![CDATA[<img src="/images/Quick-Start-Setting-Up-a-Development-Environment-with-Django-REST-Framework-and-React/Main.webp">

<p>åœ–ç‰‡ä¾†æºï¼šå¥—ç”¨ Canva æ¨¡æ¿(@veronikagotovceva)</p>
<p>ä½¿ç”¨ Django çš„éç¨‹ä¸­ï¼Œè¦ºå¾— Django äº¦é©åˆæ¡ç”¨å‰å¾Œç«¯åˆ†é›¢çš„é–‹ç™¼æ¨¡å¼ï¼Œå› æ­¤è‡ªå·±å»ºäº†åŸºç¤ React ç‚ºå‰ç«¯ã€Django ç‚ºå¾Œç«¯çš„ç¶²é å°ˆæ¡ˆï¼Œå»ºç½®çš„éç¨‹æ¥ä¸‹ä¾†æœƒé€ä¸€è§£èªª ( Ë¶â€™áµ•â€™Ë¶)</p>
<p>ä¹Ÿå¯ä»¥åˆ°<a href="https://github.com/Adoraxuu/NoteWords">æˆ‘çš„ GitHub</a> çœ‹å®Œæˆçš„ç¨‹å¼ç¢¼</p>
<h2 id="é–‹å§‹ä¹‹å‰"><a href="#é–‹å§‹ä¹‹å‰" class="headerlink" title="é–‹å§‹ä¹‹å‰"></a>é–‹å§‹ä¹‹å‰</h2><p>è«‹ç¢ºèªå®‰è£äº†ä»¥ä¸‹é …ç›®ï¼š</p>
<ul>
<li>Python(version &gt;&#x3D;3.8)</li>
<li><a href="https://python-poetry.org/docs/">Poetry</a>(Django å¥—ä»¶ç®¡ç†å·¥å…·)</li>
<li>NPM(React å¥—ä»¶ç®¡ç†å·¥å…·)</li>
</ul>
<h2 id="å»ºç«‹-React"><a href="#å»ºç«‹-React" class="headerlink" title="å»ºç«‹ React"></a>å»ºç«‹ React</h2><h3 id="1-åˆ°å°ˆæ¡ˆè³‡æ–™å¤¾å…§ï¼Œä½¿ç”¨çµ‚ç«¯æ©Ÿè¼¸å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼š"><a href="#1-åˆ°å°ˆæ¡ˆè³‡æ–™å¤¾å…§ï¼Œä½¿ç”¨çµ‚ç«¯æ©Ÿè¼¸å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼š" class="headerlink" title="1. åˆ°å°ˆæ¡ˆè³‡æ–™å¤¾å…§ï¼Œä½¿ç”¨çµ‚ç«¯æ©Ÿè¼¸å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼š"></a>1. åˆ°å°ˆæ¡ˆè³‡æ–™å¤¾å…§ï¼Œä½¿ç”¨çµ‚ç«¯æ©Ÿè¼¸å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼š</h3><figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">$ npm create vite@latest frontend -- --template react<br></code></pre></td></tr></table></figure>

<p>é€™æ¢æŒ‡ä»¤çš„ä½œç”¨æ˜¯ï¼š</p>
<ul>
<li>ä½¿ç”¨ npm(å¥—ä»¶ç®¡ç†å·¥å…·)ä¸‹è¼‰æœ€æ–°çš„ Viteï¼ˆæ‰“åŒ…å™¨ï¼‰ï¼Œä¸¦å»ºç«‹ä¸€å€‹åç‚º <code>frontend</code> çš„ React æ¡†æ¶ã€‚ï¼ˆç•¶ç„¶ä½ ä¹Ÿå¯ä»¥å–åˆ¥çš„åå­—ï¼‰</li>
<li>Vite æœƒæ ¹æ“š template(æ¨¡æ¿)ç”¢ç”ŸåŸºæœ¬çš„ React é …ç›®ã€‚</li>
</ul>
<h3 id="2-å®‰è£-npm-ä¾è³´é …ç›®ï¼š"><a href="#2-å®‰è£-npm-ä¾è³´é …ç›®ï¼š" class="headerlink" title="2. å®‰è£ npm ä¾è³´é …ç›®ï¼š"></a>2. å®‰è£ npm ä¾è³´é …ç›®ï¼š</h3><figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">$ <span class="hljs-built_in">cd</span> frontend <span class="hljs-comment">#é€²å…¥Reactæ¡†æ¶è³‡æ–™å¤¾</span><br>$ npm instal <span class="hljs-comment"># ä½¿ç”¨npmå®‰è£ä¾è³´é …ç›®</span><br>$ npm run dev <span class="hljs-comment"># é–‹å•Ÿæœå‹™å™¨</span><br></code></pre></td></tr></table></figure>

<p>æ›´å¤šå…§å®¹å¯ä»¥åƒè€ƒ:<a href="https://cn.vitejs.dev/guide/">Vite å®˜æ–¹æ–‡æª”</a></p>
<h3 id="3-å®Œæˆ-React-å®‰è£ï¼š"><a href="#3-å®Œæˆ-React-å®‰è£ï¼š" class="headerlink" title="3. å®Œæˆ React å®‰è£ï¼š"></a>3. å®Œæˆ React å®‰è£ï¼š</h3><p>ç…§è‘—æŒ‡ç¤ºé–‹å•Ÿç¶²å€<a href="http://localhost:5173/">http://localhost:5173/</a>ï¼Œæ²’æ„å¤–çš„è©±å°±æœƒçœ‹åˆ°ä»¥ä¸‹ç•«é¢ï¼ŒReact åŸºç¤çš„å®‰è£å°±å®Œæˆäº†ã€‚</p>
<img src="/images/Quick-Start-Setting-Up-a-Development-Environment-with-Django-REST-Framework-and-React/1.webp">

<h2 id="å»ºç«‹-Django-å°ˆæ¡ˆ"><a href="#å»ºç«‹-Django-å°ˆæ¡ˆ" class="headerlink" title="å»ºç«‹ Django å°ˆæ¡ˆ"></a>å»ºç«‹ Django å°ˆæ¡ˆ</h2><h3 id="1-å°ˆæ¡ˆè³‡æ–™å¤¾å…§ä½¿ç”¨çµ‚ç«¯æ©ŸåŸ·è¡Œï¼š"><a href="#1-å°ˆæ¡ˆè³‡æ–™å¤¾å…§ä½¿ç”¨çµ‚ç«¯æ©ŸåŸ·è¡Œï¼š" class="headerlink" title="1. å°ˆæ¡ˆè³‡æ–™å¤¾å…§ä½¿ç”¨çµ‚ç«¯æ©ŸåŸ·è¡Œï¼š"></a>1. å°ˆæ¡ˆè³‡æ–™å¤¾å…§ä½¿ç”¨çµ‚ç«¯æ©ŸåŸ·è¡Œï¼š</h3><figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">$ pip install django djangorestframework django-cors-headers<br></code></pre></td></tr></table></figure>

<p>æ­¤æŒ‡ä»¤ä½¿ç”¨ pip å®‰è£äº†ä¸‰å€‹å¥—ä»¶ï¼š</p>
<ul>
<li>Djangoï¼šå¾Œç«¯ç¶²é æ¡†æ¶</li>
<li><a href="https://www.django-rest-framework.org/">Django REST framework</a>ï¼šç”¨æ–¼å»ºç«‹ API çš„æ“´å……å¥—ä»¶</li>
<li>Django CORS headersï¼šç”¨æ–¼è™•ç† CORS è·¨åŸŸè«‹æ±‚å•é¡Œï¼Œè®“ API å®‰å…¨åœ°å¯ä»¥è¢«ä¸åŒçš„ç¶²é è¨ªå•ã€‚</li>
</ul>
<h3 id="2-èª¿æ•´å°ˆæ¡ˆæ¶æ§‹ï¼š"><a href="#2-èª¿æ•´å°ˆæ¡ˆæ¶æ§‹ï¼š" class="headerlink" title="2. èª¿æ•´å°ˆæ¡ˆæ¶æ§‹ï¼š"></a>2. èª¿æ•´å°ˆæ¡ˆæ¶æ§‹ï¼š</h3><figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">$ django-admin startproject core <span class="hljs-comment"># ä½¿ç”¨djangoå®‰è£å°ˆæ¡ˆ</span><br>$ <span class="hljs-built_in">mv</span> core backend <span class="hljs-comment"># å°‡å¤–å±¤çš„coreæ”¹åç‚ºbackend</span><br>$ <span class="hljs-built_in">cd</span> backend <span class="hljs-comment"># é€²å…¥å¾Œç«¯è³‡æ–™å¤¾</span><br>$ poetry init --no-interaction --dependency django <span class="hljs-comment"># ä½¿ç”¨å¾Œæ¹å¥—ä»¶ç®¡ç†å·¥å…·</span><br>$ <span class="hljs-built_in">touch</span> [README.md](http://README.md) <span class="hljs-comment">#æ–°å¢å°ˆæ¡ˆèªªæ˜æª”æ¡ˆï¼ˆéå¿…è¦ï¼‰</span><br>$ poetry install <span class="hljs-comment"># å®‰è£ä¾è³´å¥—ä»¶</span><br></code></pre></td></tr></table></figure>

<p>å®Œæˆä»¥ä¸Šæ­¥é©Ÿå°±å¯ä»¥ä½¿ç”¨æ–‡å­—ç·¨è¼¯å™¨é–‹å•Ÿå°ˆæ¡ˆå•¦( à©­ Ë™á—œË™ )à©­</p>
<p>å¦å¤–å¯ä»¥åœ¨ poetry ç®¡ç†å¥—ä»¶çš„æª”æ¡ˆï¼š<code>pyproject.toml</code>åŠ ä¸Š<code>package-mode = false</code>ã€‚<br>å› ç‚º poetry æœƒå”åŠ©å»ºç«‹è™›æ“¬ç’°å¢ƒï¼Œæ‰€ä»¥å¾€å¾Œåœ¨å°ˆæ¡ˆå…§çš„çµ‚ç«¯æ©Ÿè¦ä¸‹æŒ‡ä»¤æ™‚éƒ½è¦è¨˜å¾—ä½¿ç”¨<code>$ poetry shell</code>ã€‚</p>
<p>é€™æ™‚å€™å¯ä»¥çœ‹åˆ°ç›®å‰å°ˆæ¡ˆçµæ§‹ï¼š</p>
<img src="/images/Quick-Start-Setting-Up-a-Development-Environment-with-Django-REST-Framework-and-React/2.webp">

<h3 id="3-é€²è¡Œè³‡æ–™-migrate"><a href="#3-é€²è¡Œè³‡æ–™-migrate" class="headerlink" title="3. é€²è¡Œè³‡æ–™ migrate"></a>3. é€²è¡Œè³‡æ–™ migrate</h3><ul>
<li>è·‘è³‡æ–™åº«é·ç§» ï¼š<code>$ python manage.py migrate</code></li>
<li>é–‹å•Ÿä¼ºæœå™¨ï¼š<code>$ python manage.py runserver</code></li>
</ul>
<p>é€™è£¡ä½¿ç”¨ Django å…§å»ºçš„ SQLiteï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è‡ªå·±å–œæ­¡çš„è³‡æ–™åº«ï¼ˆåœ¨ GitHub æˆ‘å¾Œä¾†æœ‰æ”¹ç”¨ <a href="https://www.postgresql.org/">PostgreSQL</a> æ‰ä¸Šå‚³ï¼‰</p>
<h2 id="4-å»ºç«‹-superuser-ï¼†-App"><a href="#4-å»ºç«‹-superuser-ï¼†-App" class="headerlink" title="4.å»ºç«‹ superuser ï¼† App"></a>4.å»ºç«‹ superuser ï¼† App</h2><ul>
<li>å»ºç«‹ç®¡ç†å“¡ï¼Œæ–¹ä¾¿é€²å…¥ Django å…§å»ºå¾Œå°ï¼š <code>python manage.py createsuperuser</code></li>
<li>å»ºç«‹ä¸€å€‹åç‚º Word çš„ APPï¼š<code>python manage.py startapp word</code></li>
</ul>
<p>é€™æ™‚å€™åŸºç¤çš„ Django å°±å®‰è£å®Œæˆäº†ï¼Œä¸éé‚„éœ€è¦è¨­å®š APIï¼Œæ‰èƒ½æ­èµ·å‰ç«¯å’Œå¾Œç«¯çš„æ©‹æ¨‘ ( Ë¶â€™áµ•â€™Ë¶)</p>
<h2 id="è¨­å®šå¾Œç«¯-API-APP"><a href="#è¨­å®šå¾Œç«¯-API-APP" class="headerlink" title="è¨­å®šå¾Œç«¯ API &amp; APP"></a>è¨­å®šå¾Œç«¯ API &amp; APP</h2><p>åŸºæœ¬ä¸Šé€™è£¡çš„æ­¥é©Ÿéƒ½æœƒæ˜¯åœ¨ backend è³‡æ–™å¤¾å…§è¨­å®š</p>
<h3 id="1-Django-çš„ç’°å¢ƒè¨­ç½®"><a href="#1-Django-çš„ç’°å¢ƒè¨­ç½®" class="headerlink" title="1. Django çš„ç’°å¢ƒè¨­ç½®"></a>1. Django çš„ç’°å¢ƒè¨­ç½®</h3><figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># backend.core.setting</span><br>INSTALLED_APPS = [<br>    <span class="hljs-string">&#x27;django.contrib.admin&#x27;</span>,<br>    <span class="hljs-string">&#x27;django.contrib.auth&#x27;</span>,<br>    <span class="hljs-string">&#x27;django.contrib.contenttypes&#x27;</span>,<br>    <span class="hljs-string">&#x27;django.contrib.sessions&#x27;</span>,<br>    <span class="hljs-string">&#x27;django.contrib.messages&#x27;</span>,<br>    <span class="hljs-string">&#x27;django.contrib.staticfiles&#x27;</span>,<br>    <span class="hljs-string">&#x27;rest_framework&#x27;</span>, <span class="hljs-comment">#REST framework</span><br>    <span class="hljs-string">&#x27;corsheaders&#x27;</span>, <span class="hljs-comment"># CORS headers</span><br>    <span class="hljs-string">&#x27;words&#x27;</span> <span class="hljs-comment">#APP</span><br>]<br><br>CORS_ALLOW_ORIGINS = [<span class="hljs-string">&#x27;http://localhost:5173&#x27;</span>] <span class="hljs-comment">#è®“djangoå¯ä»¥æ¥å—é€™å€‹reactæ‰“éä¾†çš„apiï¼Œäº¦å¯ä½¿ç”¨ENVä»£å…¥</span><br><br>MIDDLEWARE = [<br>    <span class="hljs-string">&#x27;django.middleware.security.SecurityMiddleware&#x27;</span>,<br>    <span class="hljs-string">&#x27;django.contrib.sessions.middleware.SessionMiddleware&#x27;</span>, <span class="hljs-comment"># å»ºç«‹sessionçš„middleware</span><br>    <span class="hljs-string">&#x27;corsheaders.middleware.CorsMiddleware&#x27;</span>,<br>    <span class="hljs-string">&#x27;django.middleware.common.CommonMiddleware&#x27;</span>,<br>    <span class="hljs-string">&#x27;django.middleware.csrf.CsrfViewMiddleware&#x27;</span>,<br>    <span class="hljs-string">&#x27;django.contrib.auth.middleware.AuthenticationMiddleware&#x27;</span>,<br>    <span class="hljs-string">&#x27;django.contrib.messages.middleware.MessageMiddleware&#x27;</span>,<br>    <span class="hljs-string">&#x27;django.middleware.clickjacking.XFrameOptionsMiddleware&#x27;</span>,<br>]<br></code></pre></td></tr></table></figure>

<p>é€™éƒ¨çš„ç›®çš„æ˜¯å°‡å‰›å‰›å®‰è£çš„æ“´å……å·¥å…·ã€APP éƒ½è®“ Django çŸ¥é“ï¼Œä¸¦è¨­å®š CORS ä¾†æºç¶²å€ã€‚</p>
<h2 id="æ–°å»º-word-model"><a href="#æ–°å»º-word-model" class="headerlink" title="æ–°å»º word model"></a>æ–°å»º word model</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># backend.words.models</span><br><span class="hljs-keyword">from</span> django.db <span class="hljs-keyword">import</span> models<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Word</span>(models.Model):<br>    word = models.CharField(max_length=<span class="hljs-number">200</span>, unique=<span class="hljs-literal">True</span>)<br>    pronunciation = models.CharField(max_length=<span class="hljs-number">100</span>)<br><br></code></pre></td></tr></table></figure>

<p>æ–°å¢ word modelï¼Œä½¿ç”¨é€™å€‹æ˜¯å› ç‚ºæˆ‘æƒ³åšä¸€å€‹å–®å­—å¡ç¶²ç«™ï¼Œå…ˆä½¿ç”¨æœ€ç°¡å–®çš„å®šç¾©ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ä»»ä½•æ‚¨è¦ model æ¶æ§‹ã€‚</p>
<h2 id="è¨»å†Š-admin-py"><a href="#è¨»å†Š-admin-py" class="headerlink" title="è¨»å†Š admin.py"></a>è¨»å†Š admin.py</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> django.contrib <span class="hljs-keyword">import</span> admin<br><span class="hljs-keyword">from</span> .models <span class="hljs-keyword">import</span> Word<br><br>admin.site.register(Word)<br></code></pre></td></tr></table></figure>

<p>è®“å‰›å‰›å‰µçš„ model èƒ½å‡ºç¾åœ¨ admin å…§ï¼Œé€™æ­¥é©Ÿéå¿…è¦ï¼Œä¸»è¦æ˜¯æ–°å¢è³‡æ–™è€Œå·²ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ Django çš„ ORM æ–°å¢è³‡æ–™ï¼Œæˆ‘è‡ªå·±è¦ºå¾—å…§å»ºçš„ admin è »æ–¹ä¾¿çš„æ‰€ä»¥å…ˆæ–°å¢ã€‚</p>
<h2 id="è¨­å®š-Django-REST-framework"><a href="#è¨­å®š-Django-REST-framework" class="headerlink" title="è¨­å®š Django REST framework"></a>è¨­å®š Django REST framework</h2><h3 id="1-words-å…§æ–°å¢-api-è³‡æ–™å¤¾"><a href="#1-words-å…§æ–°å¢-api-è³‡æ–™å¤¾" class="headerlink" title="1. words å…§æ–°å¢ api è³‡æ–™å¤¾"></a>1. words å…§æ–°å¢ api è³‡æ–™å¤¾</h3><p>æ–°å¢<code>serializers.py</code>ã€<code>urls.py</code>ã€<code>views.py</code>é€™ä¸‰å€‹æª”æ¡ˆï¼š</p>
<img src="/images/Quick-Start-Setting-Up-a-Development-Environment-with-Django-REST-Framework-and-React/3.webp">

<h3 id="2-åºåˆ—åŒ–å™¨ï¼ˆserializersï¼‰"><a href="#2-åºåˆ—åŒ–å™¨ï¼ˆserializersï¼‰" class="headerlink" title="2. åºåˆ—åŒ–å™¨ï¼ˆserializersï¼‰"></a>2. <strong>åºåˆ—åŒ–å™¨ï¼ˆserializersï¼‰</strong></h3><p>é€™ä¸€æ­¥æ˜¯ Django REST Frameworkï¼ˆDRFï¼‰ä¸­éå¸¸é‡è¦çš„åŠŸèƒ½ã€‚<br><strong>åºåˆ—åŒ–å™¨ï¼ˆserializersï¼‰</strong>è² è²¬å°‡æ•¸æ“šè½‰æ›æˆå…¶ä»–æ ¼å¼ä¾†å‚³è¼¸ï¼Œä¾‹å¦‚æˆ‘å€‘å¸¸ç”¨çš„ JSON æ ¼å¼ã€‚<br>å®ƒåŒæ™‚é‚„èƒ½è™•ç†æ•¸æ“šçš„é©—è­‰å’Œã€Œååºåˆ—åŒ–ã€ï¼ˆå³æ¥æ”¶ JSON è³‡æ–™ä¸¦è½‰æ›æˆ Django çš„è³‡æ–™åº«æ¨¡å‹ç‰©ä»¶ï¼‰ï¼Œè®“å»ºç«‹ API çš„éç¨‹æ›´åŠ ç°¡å–®ã€‚</p>
<p>ç°¡å–®ä¾†èªªï¼Œåºåˆ—åŒ–å™¨å°±åƒæ˜¯ã€Œç¿»è­¯ã€ï¼Œå®ƒå¹«åŠ©ä½¿ç”¨ä¸åŒèªè¨€çš„å‰ç«¯å’Œå¾Œç«¯é€²è¡Œæºé€šã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># backend.words.api.serializers.py</span><br><br><span class="hljs-keyword">from</span> rest_framework.serializers <span class="hljs-keyword">import</span> ModelSerializer<br><span class="hljs-keyword">from</span> ..models <span class="hljs-keyword">import</span> Word<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">WordSerializer</span>(<span class="hljs-title class_ inherited__">ModelSerializer</span>):<br>    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Meta</span>:<br>        model = Word<br>        fields = [<span class="hljs-string">&#x27;id&#x27;</span>, <span class="hljs-string">&#x27;word&#x27;</span>, <span class="hljs-string">&#x27;pronunciation&#x27;</span>]<br></code></pre></td></tr></table></figure>

<ul>
<li><code>ModelSerializer</code> ï¼šé€™æ˜¯å¹«åŠ©å°‡ Django æ¨¡å‹è½‰æ›ç‚º API æ ¼å¼çš„å·¥å…·ã€‚</li>
<li><code>class WordSerializer(ModelSerializer)</code> : å®šç¾©äº†ä¸€å€‹åç‚º WordSerializer çš„åºåˆ—åŒ–å™¨çš„ class</li>
<li><code>fields = [&#39;id&#39;, &#39;word&#39;, &#39;pronunciation&#39;]</code>ï¼šç•¶æˆ‘å€‘ä½¿ç”¨ <code>WordSerializer</code> æŠŠ <code>Word</code> æ¨¡å‹çš„è³‡æ–™è½‰æ›ç‚º JSON æ™‚ï¼Œè¼¸å‡ºå…§å®¹æœƒåŒ…å«é€™ä¸‰å€‹æ¬„ä½ã€‚åéä¾†ï¼ŒæŠŠ JSON è³‡æ–™è½‰æ›å› Django ç‰©ä»¶æ™‚ï¼Œä¹Ÿåªæœƒè™•ç†é€™äº›æ¬„ä½ã€‚å¦‚æœä½ æƒ³è™•ç†æ‰€æœ‰æ¬„ä½ï¼Œä¹Ÿå¯ä»¥å¯«æˆï¼š<code>fields = &#39;__all__&#39;</code>ã€‚</li>
</ul>
<h2 id="3-è¨­å®š-WordViewSetï¼Œä¸¦æŒ‡å®š-WordSerializer"><a href="#3-è¨­å®š-WordViewSetï¼Œä¸¦æŒ‡å®š-WordSerializer" class="headerlink" title="3. è¨­å®š WordViewSetï¼Œä¸¦æŒ‡å®š WordSerializer"></a>3. è¨­å®š WordViewSetï¼Œä¸¦æŒ‡å®š WordSerializer</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># backend.words.api.views.py</span><br><span class="hljs-keyword">from</span> rest_framework.viewsets <span class="hljs-keyword">import</span> ModelViewSet<br><span class="hljs-keyword">from</span> ..models <span class="hljs-keyword">import</span> Word<br><span class="hljs-keyword">from</span> .serializers <span class="hljs-keyword">import</span> WordSerializer<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">WordViewSet</span>(<span class="hljs-title class_ inherited__">ModelViewSet</span>):<br>    queryset = Word.objects.<span class="hljs-built_in">all</span>() <span class="hljs-comment"># å–å¾—æ‰€æœ‰ Word æ¨¡å‹çš„è³‡æ–™</span><br>    serializer_class = WordSerializer <span class="hljs-comment"># æŒ‡å®šä½¿ç”¨ WordSerializer</span><br></code></pre></td></tr></table></figure>

<ul>
<li><code>ModelViewSet</code>ï¼šé¡§åæ€ç¾©ï¼Œé€™æ˜¯ã€Œè¦–åœ–çš„é›†åˆã€ï¼Œå°ˆé–€ç”¨ä¾†å¹«æˆ‘å€‘è™•ç†è¦–åœ–é‚è¼¯çš„ã€‚é€™æ˜¯ DRF å…§å»ºçš„åŠŸèƒ½ï¼Œèƒ½è‡ªå‹•å¹«ä½ æå®šå¸¸è¦‹çš„ CRUD æ“ä½œã€‚</li>
<li><code>WordViewSet</code>ï¼šé€™æ˜¯è‡ªå®šç¾©çš„è¦–åœ–é›†ï¼Œå°ˆé–€è² è²¬è™•ç† <code>Word</code> æ¨¡å‹çš„ API è«‹æ±‚ã€‚ç„¡è«–æ˜¯æŸ¥è³‡æ–™é‚„æ˜¯æ–°å¢ä¿®æ”¹ï¼Œå®ƒéƒ½èƒ½è™•ç†ï¼</li>
<li><code>serializer_class = WordSerializer</code>ï¼šé€™è£¡æŒ‡å®šäº†åºåˆ—åŒ–å™¨ï¼Œæˆ‘å€‘ç”¨å‰›å‰›å‰µå»ºçš„ <code>WordSerializer</code> ä¾†è™•ç†è³‡æ–™çš„è½‰æ›å’Œé©—è­‰ï¼Œç¢ºä¿æ•¸æ“šæ ¼å¼æ­£ç¢º (â€¢Ì€á´—â€¢Ì)Ùˆã€‚</li>
</ul>
<p>ç¸½çµä¸€ä¸‹ï¼Œé€™æ®µç¨‹å¼ç¢¼å¹«æˆ‘å€‘è‡ªå‹•å»ºç«‹äº†ä¸€å€‹å¯ä»¥è™•ç† <code>Word</code> æ¨¡å‹è³‡æ–™çš„ APIã€‚ä½ åªéœ€è¦ç™¼é€è«‹æ±‚ï¼Œå°±èƒ½è¼•é¬†å®ŒæˆæŸ¥è©¢ã€æ–°å¢ã€ä¿®æ”¹å’Œåˆªé™¤è³‡æ–™çš„æ“ä½œï¼ŒçœŸæ˜¯çœæ™‚åˆçœåŠ›ï¼ãƒ½(âœ¿ ï¾Ÿ â–½ ï¾Ÿ)ãƒ</p>
<h3 id="4-è¨­å®š-URLS-è·¯å¾‘"><a href="#4-è¨­å®š-URLS-è·¯å¾‘" class="headerlink" title="4. è¨­å®š URLS è·¯å¾‘"></a>4. è¨­å®š URLS è·¯å¾‘</h3><p>åœ¨é€™å€‹æ­¥é©Ÿä¸­ï¼Œæˆ‘å€‘å°‡æœƒé€é Django REST Framework çš„ Routers ä¾†è¼•é¬†ç®¡ç† URLï¼Œè®“ä¸åŒçš„ API è«‹æ±‚å¯ä»¥æ­£ç¢ºå°å‘ç›¸æ‡‰çš„è™•ç†é‚è¼¯ã€‚</p>
<h4 id="4-1-api-urls-pyï¼š"><a href="#4-1-api-urls-pyï¼š" class="headerlink" title="4-1 api.urls.pyï¼š"></a>4-1 api.urls.pyï¼š</h4><p>é¦–å…ˆï¼Œæˆ‘å€‘æœƒåœ¨ <code>words</code> ç›¸é—œçš„è³‡æ–™å¤¾ä¸­æ–°å¢ä¸€å€‹ <code>urls.py</code> æª”æ¡ˆï¼Œä¸¦è¨»å†Š <code>WordViewSet</code> è·¯ç”±ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># backend.words.api.urls.py</span><br><span class="hljs-keyword">from</span> django.urls <span class="hljs-keyword">import</span> path, include<br><span class="hljs-keyword">from</span> rest_framework.routers <span class="hljs-keyword">import</span> DefaultRouter<br><span class="hljs-keyword">from</span> .views <span class="hljs-keyword">import</span> WordViewSet<br><br>word_router = DefaultRouter()<br>word_router.register(<span class="hljs-string">r&#x27;words&#x27;</span>, WordViewSet)<br></code></pre></td></tr></table></figure>

<ul>
<li><code>DefaultRouter()</code>ï¼šé€™æ˜¯ Django REST Framework æä¾›çš„é è¨­ Routersï¼Œå®ƒæœƒå¹«ä½ è‡ªå‹•ç”Ÿæˆå¸¸ç”¨çš„ API è·¯å¾‘ï¼Œåƒæ˜¯ <code>GET /words/</code>ã€<code>POST /words/</code>ç­‰ã€‚</li>
<li><code>register()</code>ï¼šé€™è£¡æˆ‘å€‘å°‡ <code>WordViewSet</code> è¨»å†Šåˆ° Routersï¼Œè®“ <code>/words/</code> è·¯å¾‘å’Œ <code>WordViewSet</code> é€£çµåœ¨ä¸€èµ·ã€‚</li>
</ul>
<h4 id="4-2-core-api-urls-py"><a href="#4-2-core-api-urls-py" class="headerlink" title="4-2 core.api.urls.py"></a>4-2 core.api.urls.py</h4><p>æ¥è‘—ï¼Œæˆ‘å€‘åœ¨ <code>core</code> è³‡æ–™å¤¾è£¡æ–°å¢ä¸€å€‹ <code>api</code> è³‡æ–™å¤¾ï¼Œä¸¦åœ¨è£¡é¢æ–°å¢ä¸€å€‹ <code>urls.py</code> æª”æ¡ˆã€‚<br>é€™ä¸€æ­¥çš„é‡é»æ˜¯å°‡ä¹‹å‰è¨­å®šå¥½çš„ <code>words</code> è·¯å¾‘æ•´åˆèµ·ä¾†ï¼Œè®“æ‰€æœ‰çš„ API è·¯å¾‘éƒ½çµ±ä¸€ç”±é€™å€‹ <code>urls.py</code> ä¾†ç®¡ç†ã€‚</p>
<p>é€™è£¡å°±åƒæ˜¯ API è·¯å¾‘çš„ã€Œéƒ¨é–€ç¶“ç†ã€ï¼Œæ‰€æœ‰çš„ API URL éƒ½è¦äº¤çµ¦å®ƒä¾†ç™¼è™Ÿæ–½ä»¤ï½</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># backend.core.api.urls.py</span><br><span class="hljs-keyword">from</span> rest_framework.routers <span class="hljs-keyword">import</span> DefaultRouter<br><span class="hljs-keyword">from</span> words.api.urls <span class="hljs-keyword">import</span> word_router<br><span class="hljs-keyword">from</span> django.urls <span class="hljs-keyword">import</span> path, include<br><br>router = DefaultRouter()<br><br><span class="hljs-comment"># words</span><br>router.registry.extend(word_router.registry)<br><br><span class="hljs-comment"># å®šç¾©ä¸»è¦çš„ API URL è·¯å¾‘</span><br>urlpatterns = [<br>    path(<span class="hljs-string">&#x27;&#x27;</span>, include(router.urls)),<br>]<br></code></pre></td></tr></table></figure>

<ul>
<li><code>router.registry.extend()</code>ï¼šé€™è¡Œç¨‹å¼æŠŠä¹‹å‰åœ¨ <code>words.api.urls.py</code> è£¡è¨­å®šå¥½çš„ Router ä¹Ÿã€Œå ±åˆ°ã€çµ¦éƒ¨é–€ç¶“ç†ï¼Œè®“ <code>/words/</code> è·¯å¾‘èˆ‡å…¶ä»– API ä¸€èµ·è¢«ç®¡ç† (ï½¡â€¢Ì€á´—-)âœ§ï¼Œå°±åƒæ˜¯æ–°å“¡å·¥å ±åˆ°ä¸€æ¨£ï¼Œè®“éƒ¨é–€ç¶“ç†çŸ¥é“æœ‰é€™å€‹è·¯å¾‘åœ¨ã€‚</li>
<li><code>path(&#39;&#39;, include(router.urls))</code>ï¼šé€™è¡Œå®šç¾©äº†é€²å…¥ API çš„ä¸»è¦è·¯å¾‘ã€‚ç•¶æœ‰äººä¾†è¨ªå•é€™å€‹ç¶²å€æ™‚ï¼Œéƒ¨é–€ç¶“ç†æœƒæŠŠä»»å‹™äº¤çµ¦ç›¸æ‡‰çš„ä¸»ç®¡ routerï¼Œè®“å®ƒå»ç™¼è™Ÿæ–½ä»¤ã€‚</li>
</ul>
<h4 id="4-4-core-urls-py"><a href="#4-4-core-urls-py" class="headerlink" title="4.4 core.urls.py"></a>4.4 core.urls.py</h4><p>é€™éƒ¨åˆ†æ‡‰è©²ä¸é›£ç†è§£ï¼Œä¸»è¦æ˜¯è¨­å®š API çš„ä¸»è¦è·¯å¾‘ã€‚å°±åƒæ˜¯ API éƒ¨é–€çš„ç¶“ç†è·Ÿ URL çš„ç¸½ç¶“ç†å ±å‘Šï¼šã€Œæˆ‘å€‘çš„ API éƒ¨é–€å·²ç¶“å»ºç½®å®Œæˆï¼Œå¯ä»¥æ­£å¼é–‹å§‹é‹ä½œå•¦ï¼ã€ (à¹‘â€¢Ì€ã…‚â€¢Ì)Ùˆâœ§</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># backend.core.urls.pu</span><br><span class="hljs-keyword">from</span> django.contrib <span class="hljs-keyword">import</span> admin<br><span class="hljs-keyword">from</span> django.urls <span class="hljs-keyword">import</span> path, include<br><br>urlpatterns = [<br>    path(<span class="hljs-string">&#x27;admin/&#x27;</span>, admin.site.urls),<br>    path(<span class="hljs-string">&#x27;api/&#x27;</span>, include(<span class="hljs-string">&#x27;core.api.urls&#x27;</span>)),<br>]<br></code></pre></td></tr></table></figure>

<h2 id="5-åŸ·è¡Œ-migrate-ä¸¦å•Ÿå‹•ä¼ºæœå™¨"><a href="#5-åŸ·è¡Œ-migrate-ä¸¦å•Ÿå‹•ä¼ºæœå™¨" class="headerlink" title="5. åŸ·è¡Œ migrate ä¸¦å•Ÿå‹•ä¼ºæœå™¨"></a>5. åŸ·è¡Œ <code>migrate</code> ä¸¦å•Ÿå‹•ä¼ºæœå™¨</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">python manage.py makemigrations<br>python manage.py migrate<br>python manage.py runserver<br></code></pre></td></tr></table></figure>

<p>ç¶“éä»¥ä¸Šæ­¥é©Ÿï¼Œæˆ‘å€‘çš„å¾Œç«¯ API ä»‹é¢çµ‚æ–¼å»ºç½®å®Œæˆå•¦ï¼ğŸ‰<br>æ‰“é–‹ç€è¦½å™¨ï¼Œè¼¸å…¥ <a href="https://127.0.0.1:8000/api/words">https://127.0.0.1:8000/api/words</a>ï¼Œä½ å°±èƒ½çœ‹åˆ° API ä»‹é¢ï¼<br>åœ¨é€™è£¡ï¼Œä½ å¯ä»¥ç›´æ¥æ–°å¢è³‡æ–™ï¼Œæˆ–è€…æŸ¥çœ‹å¾å¾Œå° Admin æ–°å¢çš„ <code>Word</code> è³‡æ–™ã€‚</p>
<p>é€™ä»£è¡¨å¾Œç«¯çš„ API å·²ç¶“æ­£å¼å»ºç½®å®Œæˆï¼Œå‰ç«¯ä¹Ÿå¯ä»¥é€éé€™å€‹ API ä¾†ç²å–è³‡æ–™å•¦ï¼(à¹‘â€¢Ì€ã…‚â€¢Ì)Ùˆâœ§</p>
<img src="/images/Quick-Start-Setting-Up-a-Development-Environment-with-Django-REST-Framework-and-React/4.webp">

<h2 id="è¨­å®š-React-ç’°å¢ƒ"><a href="#è¨­å®š-React-ç’°å¢ƒ" class="headerlink" title="è¨­å®š React ç’°å¢ƒ"></a>è¨­å®š React ç’°å¢ƒ</h2><ul>
<li>é€™è£¡çš„å‹•ä½œéƒ½æœƒåœ¨<code>frontend</code> é€²è¡Œ</li>
</ul>
<h3 id="1-åœ¨-frontend-è³‡æ–™å¤¾æ–°å¢-env-æª”æ¡ˆ"><a href="#1-åœ¨-frontend-è³‡æ–™å¤¾æ–°å¢-env-æª”æ¡ˆ" class="headerlink" title="1. åœ¨ frontend è³‡æ–™å¤¾æ–°å¢ .env æª”æ¡ˆ"></a>1. åœ¨ <code>frontend</code> è³‡æ–™å¤¾æ–°å¢ <code>.env</code> æª”æ¡ˆ</h3><p>é¦–å…ˆï¼Œæˆ‘å€‘è¦åœ¨ <code>frontend</code> è³‡æ–™å¤¾è£¡æ–°å¢ä¸€å€‹ <code>.env</code> æª”æ¡ˆï¼Œè£¡é¢è¨­å®š API çš„ç¶²å€ï¼Œé€™æ¨£ä¹‹å¾Œæˆ‘å€‘åœ¨ç¨‹å¼ç¢¼è£¡å°±å¯ä»¥é€éç’°å¢ƒè®Šæ•¸ä¾†è®€å– API è·¯å¾‘äº†ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">VITE_API_URL=http://localhost:<span class="hljs-number">8000</span>/api/<br></code></pre></td></tr></table></figure>

<h3 id="2-æ¸¬è©¦ç’°å¢ƒè®Šæ•¸"><a href="#2-æ¸¬è©¦ç’°å¢ƒè®Šæ•¸" class="headerlink" title="2. æ¸¬è©¦ç’°å¢ƒè®Šæ•¸"></a>2. æ¸¬è©¦ç’°å¢ƒè®Šæ•¸</h3><p>æ¥ä¸‹ä¾†ï¼Œæˆ‘å€‘è¦ç¢ºèªç’°å¢ƒè®Šæ•¸æ˜¯å¦è¨­ç½®æˆåŠŸã€‚åœ¨ <code>src/app.jsx</code> è£¡æ–°å¢ä»¥ä¸‹ä»£ç¢¼ï¼Œç„¶å¾Œåœ¨ç€è¦½å™¨çš„æ§åˆ¶å°ä¸­çœ‹çœ‹çµæœå§ï¼âœ¨</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># src.app.jsx</span><br><span class="hljs-keyword">import</span> &#123; useState, useEffect &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><br>function App() &#123;<br><br>  useEffect(() =&gt; &#123;<br>    console.log(<span class="hljs-keyword">import</span>.meta.env.VITE_API_URL)<br>  &#125;, [])<br><br>  <span class="hljs-keyword">return</span> (<br>    &lt;div&gt;<br>      &lt;h1&gt;Hello World&lt;/h1&gt;<br>    &lt;/div&gt;<br>  )<br>&#125;<br><br>export default App<br><br></code></pre></td></tr></table></figure>

<p>ç€è¦½å™¨æ‰“é–‹å¾Œï¼Œå¦‚æœæ§åˆ¶å°æˆåŠŸè¼¸å‡ºæˆ‘å€‘å‰›å‰›åœ¨ <code>.env</code> æª”æ¡ˆè£¡è¨­å®šçš„ API URLï¼Œé‚£å°±ä»£è¡¨ç’°å¢ƒè®Šæ•¸è¨­ç½®æˆåŠŸå•¦ï¼Ù©(â—•â€¿â—•ï½¡)Û¶</p>
<img src="/images/Quick-Start-Setting-Up-a-Development-Environment-with-Django-REST-Framework-and-React/5.webp">

<h3 id="3-å¾-API-æŠ“å–è³‡æ–™"><a href="#3-å¾-API-æŠ“å–è³‡æ–™" class="headerlink" title="3. å¾ API æŠ“å–è³‡æ–™"></a>3. å¾ API æŠ“å–è³‡æ–™</h3><p>ç¾åœ¨ï¼Œæˆ‘å€‘ä¾†è®“ React å¾ API æŠ“å–è³‡æ–™ï¼Œä¸¦åœ¨ç¶²é ä¸Šé¡¯ç¤ºçµæœã€‚ä»¥ä¸‹æ˜¯æ›´æ–°å¾Œçš„ <code>App</code> å…ƒä»¶ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># src.app.jsx</span><br><br><span class="hljs-keyword">import</span> &#123; useState, useEffect &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><br>function App() &#123;<br>  const [data, setData] = useState([])<br><br>  useEffect(() =&gt; &#123;<br>    <span class="hljs-keyword">async</span> function fetchData() &#123;<br>      <span class="hljs-keyword">try</span> &#123;<br>        const response = <span class="hljs-keyword">await</span> fetch(`$&#123;<span class="hljs-keyword">import</span>.meta.env.VITE_API_URL&#125;/words/`);<br>        <span class="hljs-keyword">if</span> (!response.ok) &#123;<br>          throw new Error(<span class="hljs-string">&#x27;Network response was not ok&#x27;</span>);<br>        &#125;<br>        const data = <span class="hljs-keyword">await</span> response.json();<br>        setData(data);<br>        console.log(data)<br>      &#125; catch (error) &#123;<br>        console.error(<span class="hljs-string">&#x27;Error fetching data:&#x27;</span>, error);<br>      &#125;<br>    &#125;<br>    fetchData();<br>  &#125;, [])<br><br>  <span class="hljs-keyword">return</span> (<br>    &lt;div&gt;<br>      &lt;h1&gt;Hello World&lt;/h1&gt;<br>      &#123;data.<span class="hljs-built_in">map</span>((word) =&gt; (<br>        &lt;div key=&#123;word.<span class="hljs-built_in">id</span>&#125;&gt;<br>          &lt;h2&gt;&#123;word.word&#125;&lt;/h2&gt;<br>          &lt;p&gt;&#123;word.pronunciation&#125;&lt;/p&gt;<br>        &lt;/div&gt;<br>      ))&#125;<br>    &lt;/div&gt;<br>  )<br>&#125;<br><br>export default App<br><br></code></pre></td></tr></table></figure>

<p>åœ¨é€™æ®µç¨‹å¼ç¢¼ä¸­ï¼š</p>
<ul>
<li>æˆ‘å€‘ç”¨ <code>useState</code> ä¾†å­˜æ”¾å¾ API å–å¾—çš„è³‡æ–™ã€‚</li>
<li>ä½¿ç”¨ <code>useEffect</code> ä¾†åœ¨å…ƒä»¶è¼‰å…¥æ™‚æŠ“å– API è³‡æ–™ï¼Œä¸¦å°‡è³‡æ–™é¡¯ç¤ºåœ¨ç•«é¢ä¸Šã€‚</li>
<li>æ¯å€‹å–®å­—æœƒé¡¯ç¤ºå…¶ <code>word</code> å’Œ <code>pronunciation</code>ã€‚</li>
</ul>
<p>é€™æ¨£ä¸€ä¾†ï¼Œæˆ‘å€‘å°±èƒ½å¾å¾Œç«¯ API æ‹¿åˆ°è³‡æ–™ä¸¦åœ¨å‰ç«¯ç¶²é ä¸Šå‹•æ…‹é¡¯ç¤ºå•¦ï¼ãƒ¾(ï¼¾ âˆ‡ ï¼¾)</p>
<img src="/images/Quick-Start-Setting-Up-a-Development-Environment-with-Django-REST-Framework-and-React/6.webp">

<p>æœ¬ç¯‡æ–‡ç« æ˜¯æˆ‘ç”±ä»¥ä¸‹åƒè€ƒè³‡æ–™æ•´ç†è€Œæˆï¼Œå¦‚æœæ‚¨æœ‰èˆˆè¶£äº†è§£æ›´å¤šï¼Œè«‹åƒè€ƒï¼š</p>
<h3 id="åƒè€ƒè³‡æ–™ï¼š"><a href="#åƒè€ƒè³‡æ–™ï¼š" class="headerlink" title="åƒè€ƒè³‡æ–™ï¼š"></a>åƒè€ƒè³‡æ–™ï¼š</h3><ul>
<li><a href="https://vitejs.dev/">Vite</a></li>
<li><a href="https://react.dev/learn">React</a></li>
<li><a href="https://docs.djangoproject.com/en/stable/">Django</a></li>
<li><a href="https://www.django-rest-framework.org/">Django REST Framework</a></li>
<li><a href="https://github.com/twtrubiks/django-rest-framework-tutorial">django-rest-framework-tutorial</a></li>
</ul>
]]></content>
      <categories>
        <category>Django</category>
        <category>React</category>
        <category>Django REST</category>
      </categories>
      <tags>
        <tag>Django</tag>
        <tag>React</tag>
        <tag>Django REST</tag>
        <tag>Frontend</tag>
        <tag>Backend</tag>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>Ruby on Rails : ActiveStorageé€£ç·šAmazon S3</title>
    <url>/2024/01/07/active-storage-amazon-s3/</url>
    <content><![CDATA[<img src="/images/active-storage-amazon-s3/01.avif">

<blockquote>
<p>åœ–ç‰‡ä¾†æº<a href="https://unsplash.com/photos/black-samsung-galaxy-smartphone-displaying-amazon-logo-rymh7EZPqRs">Usplash</a></p>
</blockquote>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p>åœ¨ä½¿ç”¨Ruby on Railsè£½ä½œç¶²é çš„æ™‚å€™ï¼Œå¸¸å¸¸æœƒä½¿ç”¨Railsçš„ <a href="https://edgeguides.rubyonrails.org/active_storage_overview.html#s3-service-amazon-s3-and-s3-compatible-apis">Active Storage</a>ä¾†å„²å­˜åœ–ç‰‡ï¼Œ<br>è®“ç¶²é å…§å®¹æ›´åŠ è±å¯ŒÙ©(â—Ë™â–¿Ë™â—)Û¶â€¦â‹†à¸ºä¸»è¦ä½¿ç”¨æ–¹æ³•å¯ä»¥åƒè€ƒ <a href="https://edgeguides.rubyonrails.org/active_storage_overview.html#s3-service-amazon-s3-and-s3-compatible-apis">Rails Guide</a>çš„ä»‹ç´¹</p>
<p>æœ¬ç¯‡ä¸»è¦ä»‹ç´¹å¦‚ä½•æŠŠActive Storageçš„è³‡æ–™å„²å­˜åœ¨Amazon S3ï¼Œ</p>
<p>å› ç‚ºç¶²ç«™å¸¸å¸¸æœ‰è¨±å¤šå‹•æ…‹å¢é•·çš„æª”æ¡ˆï¼Œæœ€å¸¸è¦‹çš„å°±æ˜¯ä½¿ç”¨è€…ä¸Šå‚³çš„ç…§ç‰‡ã€‚<br>å› ç‚ºæª”æ¡ˆå¾ˆå¤šå¾ˆè¤‡é›œï¼Œè¦è™•ç†é€™äº›æª”æ¡ˆæ˜¯ä¸€å¤§é›£é¡Œã€‚<br>æˆ‘å€‘å¯ä»¥åˆ©ç”¨ä¸Šå‚³æª”æ¡ˆåˆ°S3ï¼Œä¾†è¼•é¬†çš„è™•ç†ï½<br>ä¹Ÿèƒ½å¤ é™ä½è³‡æ–™ä¿å­˜çš„é¢¨éšªï¼ˆé›è›‹ä¸è¦æ”¾åœ¨åŒä¸€å€‹ç±ƒå­çš„æ¦‚å¿µï¼‰</p>
<p>åœ¨æ‰¾é—œæ–¼é€£æ¥Amazon S3çš„è³‡æ–™æ™‚ï¼Œå…¶å¯¦èŠ±äº†ä¸€æ®µæ™‚é–“ï¼Œ<br>é€™æ˜¯ç›®å‰è¦ºå¾—æ•™å­¸æœ€è©³ç´°çš„æ˜¯é€™å€‹å½±ç‰‡ï¼š<br><a href="https://www.youtube.com/watch?v=UOLpv2f8mz8">Build a Blog with Rails Part 17: Handling File Uploads with ActiveStorage &amp; Amazon S3</a></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/UOLpv2f8mz8?si=eEjG_z97PKTQvtWR" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>


<p>æœ¬ç¯‡æ–‡ç« ä¹Ÿæœƒåƒè€ƒæ­¤å½±ç‰‡ä¾†ç·¨å¯«ï¼Œå¥½çš„å°±è®“æˆ‘å€‘é–‹å§‹å§ (^ãƒ»Ï‰ãƒ»^ )</p>
<ul>
<li><p>å…ˆåˆ°<a href="https://aws.amazon.com/tw/pm/serv-s3/">AWS S3</a>è¨»å†Šå¸³è™Ÿ</p>
</li>
<li><p>æ¥è‘—åˆ°S3 å‰µå»ºå­˜æ”¾è³‡æ–™çš„åœ°æ–¹ï¼Œé»é¸Create Bucket</p>
<img src="/images/active-storage-amazon-s3/03.png">
</li>
<li><p>é¸æ“‡Bucketçš„æ‰€åœ¨åœ°ï¼†Bucket Name</p>
<img src="/images/active-storage-amazon-s3/04.png"></li>
</ul>
<p>ä¾å€‹äººå–œå¥½è€Œå®šï¼Œé€šå¸¸é¸é›¢å¤§éƒ¨åˆ†ä½¿ç”¨è€…è¼ƒè¿‘çš„ä½ç½®ï¼Œè®€å–é€Ÿåº¦æœƒå¿«ä¸€å’ªå’ª</p>
<ul>
<li><p>ACLs enabled<br>é€™å€‹è¦–éœ€æ±‚è€Œå®šè€Œå‹¾é¸ï¼Œæ„æ€æ˜¯èªªæ­¤Bucketçš„ç‰©ä»¶å¯ä»¥è¢«å…¶ä»– AWS å¸³æˆ¶æ‰€æ“æœ‰ï¼Œä¸¦ä¸”å¯ä»¥é€é ACLs ä¾†æŒ‡å®šå°è©²BucketåŠå…¶å…§éƒ¨ç‰©ä»¶çš„è¨ªå•æ¬Šé™ã€‚<br>é€™æ„å‘³è‘—å¯ä»¥ä½¿ç”¨ ACLs ä¾†ç®¡ç†èª°å¯ä»¥è®€å–ã€å¯«å…¥æˆ–åˆªé™¤è©²å„²å­˜æ¡¶ä¸­çš„æª”æ¡ˆï¼Œä»¥åŠé€™äº›æ¬Šé™çš„å…·é«”é…ç½®ã€‚</p>
</li>
<li><p>å­˜å–æ¬Šé™ Access Settings</p>
</li>
</ul>
<img src="/images/active-storage-amazon-s3/05.png">

<p>é€™éƒ¨åˆ†æ˜¯å¯«å…¥è³‡æ–™çš„é‚„æœ‰è¨ªå•çš„æ¬Šé™ï¼Œå› ç‚ºèƒ½å¤ é–‹æ”¾è®“ä½¿ç”¨è€…ä¸Šå‚³åœ–ç‰‡ï¼Œ<br>æ‰€ä»¥æˆ‘åªå‹¾é¸äº†ä¸‹é¢å…©é …ã€‚</p>
<ul>
<li>è¨­å®šCORS<br>åœ¨Bucketçš„é é¢é»é¸Permissionæ‹‰åˆ°æœ€ä¸‹é¢<br>å¯ä»¥ç›´æ¥è¤‡è£½Rails Guidsä¸Šé¢çš„è³‡æ–™ï¼Œä¸¦å°‡ç¶²å€æ”¹æˆæœ¬æ¬¡æ¸¬è©¦çš„ç¶²å€ï¼Œ<br>å¦‚æœä½ æœ‰æ­£å¼ç™¼ä½ˆçš„ç¶²å€ï¼Œä¹Ÿèƒ½è¬›ç¶²å€å¡«å¯«åœ¨é€™è£¡<img src="/images/active-storage-amazon-s3/CORS.png"></li>
<li>æ¥è‘—åˆ°<a href="https://aws.amazon.com/tw/iam/">I AM</a> å»ºé€ ä½¿ç”¨è€…ä¸¦æ–°å¢Policyï¼Œç‚ºäº†è¨­ç½®è¨ªå•çš„æ¬Šé™åŠå¾—åˆ°å¯†é‘°<img src="/images/active-storage-amazon-s3/07.png"></li>
</ul>
<p>é¸æ“‡S3ï¼Œä¸¦åœ¨ä¸‹é¢å‹¾é¸</p>
<ul>
<li>List : ListBucket</li>
<li>Read: GetObj</li>
<li>Write: PutObj,DeleteObj</li>
<li>Permission management: PutObjAcl</li>
</ul>
<p>é€™éƒ¨åˆ†æ˜¯åƒè€ƒ<a href="https://edgeguides.rubyonrails.org/active_storage_overview.html#s3-service-amazon-s3-and-s3-compatible-apis">Rails Guide- Active Storage Overview</a>çš„å»ºè­°</p>
<img src="/images/active-storage-amazon-s3/08.png">

<p>Resource &gt; Bucket é»é¸Add ARNsï¼Œå¡«å¯«ä½ å‰›å‰›å‰µå»ºçš„Bucket Nameï¼Œè®“Policyç™¼æ®æ•ˆç”¨<br>é€™é‚Šæˆ‘å¡«å¯«å…©å€‹ï¼Œé™¤äº†é€™å€‹bucketé‚„æœ‰é€™å€‹bucketä¹‹ä¸‹çš„æª”æ¡ˆéƒ½ç™¼æ®æ•ˆç”¨</p>
<figure class="highlight asciidoc"><table><tr><td class="code"><pre><code class="hljs asciidoc">adora-bucket<br><span class="hljs-strong">*adora-bucket/*</span><br></code></pre></td></tr></table></figure>

<p>æ¥è‘—ä¸‹ä¸€é å¡«å¯«å®Œpolicyåç¨±ï¼ŒæŒ‰create policyï¼ŒPolicyå°±è¨­å®šå®Œæˆäº†ï¼ï¼ğŸ¤©</p>
<ul>
<li>å‰µå»ºä½¿ç”¨è€…ï¼Œä¸¦é¸æ“‡å‰›å‰›é¸å¥½çš„Policy</li>
<li>é€²å…¥ä½¿ç”¨è€…é é¢ï¼Œé»é¸Security credentialï¼Œå‰µå»ºAccess Keyï¼Œè®“æˆ‘å€‘çš„ç¶²ç«™èƒ½å¤ é€éæ­¤å¯†é‘°ä¸Šå‚³åœ–ç‰‡åˆ°S3</li>
<li>é¸æ“‡å¯ä»¥åœ¨AWSä»¥å¤–ä½¿ç”¨<img src="/images/active-storage-amazon-s3/09.png"></li>
<li>é€²å…¥é‡‘é‘°é é¢</li>
</ul>
<p>æŠŠé‡‘é‘°å„²å­˜èµ·ä¾†ï¼ˆidå’Œsecret_keyéƒ½è¦ï¼‰ï¼Œä¹‹å¾Œå°±ä¸èƒ½è¨ªå•é€™å€‹é é¢ï¼Œ<br>æ‰€ä»¥å¾ˆé‡è¦ä¸€å®šè¦å­˜ï¼Œæ¥è‘—å‰ç½®æ­¥é©Ÿå°±å¤§å…¬å‘Šæˆäº†ğŸ¤—</p>
<ul>
<li><p>å›åˆ°æˆ‘å€‘çš„å°ˆæ¡ˆï¼Œå°‡storage.ymlå…§ï¼Œé—œæ–¼amazonçš„è¨»è§£è§£æ‰ï¼Œä¸¦è¼¸å…¥ä½ çš„è³‡æ–™</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-comment">#storage.yml</span><br><span class="hljs-symbol">amazon:</span><br>  <span class="hljs-symbol">service:</span> <span class="hljs-variable constant_">S3</span><br>  <span class="hljs-symbol">access_key_id:</span> &lt;%= <span class="hljs-title class_">Rails</span>.application.credentials.dig(<span class="hljs-symbol">:aws</span>, <span class="hljs-symbol">:access_key_id</span>) %&gt;<br>  <span class="hljs-symbol">secret_access_key:</span> &lt;%= <span class="hljs-title class_">Rails</span>.application.credentials.dig(<span class="hljs-symbol">:aws</span>, <span class="hljs-symbol">:secret_access_key</span>) %&gt;<br>  <span class="hljs-symbol">region:</span> us-east-<span class="hljs-number">1</span>&lt;æ›¿æ›æˆä½ çš„å€åŸŸ&gt;<br>  <span class="hljs-symbol">bucket:</span> adora-bucket&lt;æ›¿æ›æˆçš„ä½ çš„åç¨±&gt;<br></code></pre></td></tr></table></figure>
</li>
<li><p>æ¥è‘—åœ¨çµ‚ç«¯æ©Ÿè¼¸å…¥</p>
</li>
</ul>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-variable constant_">EDITOR</span>=<span class="hljs-string">&quot;code --wait&quot;</span> rails <span class="hljs-symbol">credentials:</span>edit<br></code></pre></td></tr></table></figure>

<p>æœƒé–‹å•Ÿä¸€å€‹æª”æ¡ˆæª”åç‚ºcrendentials.ymlï¼Œå¯ä»¥å°‡å¯†é‘°å¯«åœ¨é€™è£¡ï¼Œå¿…é ˆè¦æœ‰ç›¸å°æ‡‰çš„master.keyæ‰èƒ½é–‹å•Ÿé€™å€‹æª”æ¡ˆï¼Œgithubè¨­å®šä¸æœƒå°‡master.keyä¸Šå‚³ï½å¦‚æœé€™å€‹æ›´å‹•è¦åˆ†äº«çµ¦çµ„å“¡ï¼Œå°‡master.keyç§ä¸‹å‚³çµ¦åœ˜éšŠæˆå“¡ï¼Œè«‹ä»–æ”¾åœ¨configè³‡æ–™å¤¾åº•ä¸‹å³å¯</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-symbol">aws:</span><br>  <span class="hljs-symbol">access_key_id:</span> &lt;ä½ çš„key_id&gt;<br>  <span class="hljs-symbol">secret_access_key:</span> &lt;ä½ çš„å¯†é‘°&gt;<br></code></pre></td></tr></table></figure>

<ul>
<li>#development.rbè¨­å®šå°‡active_storageå¾:localæ”¹ç‚º:amazon</li>
</ul>
<p>(å¦‚æœè¦åœ¨æ­£å¼ç’°å¢ƒä½¿ç”¨ï¼Œå‰‡éœ€è¦æ›´æ”¹production.rb)</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-comment">#development.rb</span><br>config.active_storage.service = <span class="hljs-symbol">:amazon</span><br></code></pre></td></tr></table></figure>

<p>ä¸‹è¼‰AWS S3çš„Gem</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-comment">#gemfile</span><br>gem <span class="hljs-string">&quot;aws-sdk-s3&quot;</span>, <span class="hljs-symbol">require:</span> <span class="hljs-literal">false</span><br></code></pre></td></tr></table></figure>

<p>åŸ·è¡Œbundle i</p>
<p>é€™æ¨£å°±å¤§åŠŸå‘Šæˆäº†ï¼ï¼ï¼<br>è©¦è‘—ä¸Šå‚³åœ–ç‰‡ï¼Œå¯ä»¥çœ‹åˆ°å¾Œå°é¡¯ç¤ºç…§ç‰‡å‚³åˆ°s3</p>
<img src="/images/active-storage-amazon-s3/12.png">

<p>çœ‹s3çš„å¾Œå°ä¹Ÿçœ‹åˆ°åœ–ç‰‡æª”æ¡ˆ<br><img src="/images/active-storage-amazon-s3/11.png"></p>
<p>çµ‚æ–¼å®Œæˆé€™ç¯‡äº†â¸âš™Ì¥ê‡´âš™Ì¥â¸Œæ‡‰è©²æ˜¯æˆ‘å²ä¸Šåœ–ç‰‡æœ€å¤šçš„ä¸€ç¯‡ï¼Œ<br>çµæœåœ¨ä¸Šå‚³ä¹‹å¾Œ14å¼µç…§ç‰‡å°±æ¶ˆå¤±äº†( Í’ËƒâŒ‚Ë‚ Í’)ï¼Œ<br>åŸä¾†æˆ‘ä¸å°å¿ƒæ”¾åœ¨Publicè³‡æ–™å¤¾ï¼Œè€Œä¸”ä¸‹äº†Hexo clæŒ‡ä»¤  â—´_â—¶<br>å¯èƒ½è€å¤©çˆºæƒ³è¦æˆ‘å¤šç†Ÿç·´ä¸€é»é»ï¼Œåªå¥½èªå‘½é‡æ–°æˆªåœ–â€¦ä¹Ÿåˆªé™¤äº†ä¸€äº›ä¸å¿…è¦çš„åœ–ç‰‡</p>
<p>æœ€å¾Œå¸Œæœ›é€™ç¯‡æ–‡ç« æœ‰å¹«åŠ©åˆ°ä½ ï¼æœ‰ä»»ä½•å•é¡Œæ­¡è¿å›è¦†ï¼Œ<br>æœ¬ç¯‡æ–‡ç« æ˜¯æˆ‘ç”±ä»¥ä¸‹åƒè€ƒè³‡æ–™æ•´ç†è€Œæˆï¼Œå¦‚æœæ‚¨æœ‰èˆˆè¶£äº†è§£æ›´å¤šï¼Œè«‹åƒè€ƒï¼š</p>
<h3 id="åƒè€ƒè³‡æ–™ï¼š"><a href="#åƒè€ƒè³‡æ–™ï¼š" class="headerlink" title="åƒè€ƒè³‡æ–™ï¼š"></a>åƒè€ƒè³‡æ–™ï¼š</h3><blockquote>
<p><a href="https://www.youtube.com/watch?v=UOLpv2f8mz8">Build a Blog with Rails Part 17: Handling File Uploads with ActiveStorage &amp; Amazon S3</a></p>
</blockquote>
<blockquote>
<p><a href="https://edgeguides.rubyonrails.org/active_storage_overview.html#s3-service-amazon-s3-and-s3-compatible-apis">Rails Guide- Active Storage Overview</a></p>
</blockquote>
]]></content>
      <categories>
        <category>Ruby on Rails</category>
      </categories>
      <tags>
        <tag>AWS</tag>
        <tag>Ruby on Rails</tag>
        <tag>active stroage</tag>
        <tag>amazon</tag>
        <tag>s3</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript: defer vs async</title>
    <url>/2023/11/18/async-vs-defer/</url>
    <content><![CDATA[<style>
  .em-div{
  background-color: #d4a373;
  color: white;
  padding: 10px;
  margin: 10px;
  border-radius: 5px;
  }
</style>

<h3 id=""><a href="#" class="headerlink" title=""></a></h3><img src="/images/async_vs_defer/title.png">

<p>åœ¨è£½ä½œç¶²é æ™‚ï¼Œé€šå¸¸æœƒç”¨ä¸‰å€‹æ–¹æ³•ä¾†å°‡ JavaScript è¼‰å…¥ç¶²é ï¼š</p>
<ol>
<li>å°‡<code>&lt;script&gt;</code>æ”¾åœ¨<code>&lt;/body&gt;</code>å‰ä¸€è¡Œ</li>
<li><code>async</code></li>
<li><code>defer</code></li>
</ol>
<p>é€™æ¨£ä½ çš„ç¶²é æ‰èƒ½å¤ é †åˆ©å‹•èµ·ä¾†ï¼Œç‚ºä»€éº¼è¦é€™æ¨£åšå‘¢ï¼Ÿç©¶ç«Ÿé€™ä¸‰ç¨®æ–¹æ³•æœ‰ä»€éº¼å·®åˆ¥å‘¢ï¼Ÿä»¥ä¸‹å°‡æœƒé€ä¸€èªªæ˜(ã†Ï‰ã†*)</p>
<p>è¦å…ˆç†è§£<code>async</code>,<code>defer</code>çš„å·®åˆ¥å‰ï¼Œè¦å…ˆäº†è§£ï¼Œç€è¦½å™¨æ˜¯æ€éº¼è½‰è­¯ç¶²é çš„ï¼Œé€™æ¨£èƒ½å¤ æ›´ç†è§£ JavaScript ä½¿ç”¨ä¸åŒæ–¹æ³•è¼‰å…¥çš„å·®åˆ¥</p>
<h2 id="ç€è¦½å™¨æ˜¯æ€éº¼ç¹ªè½‰è­¯é çš„å‘¢ï¼Ÿ"><a href="#ç€è¦½å™¨æ˜¯æ€éº¼ç¹ªè½‰è­¯é çš„å‘¢ï¼Ÿ" class="headerlink" title="ç€è¦½å™¨æ˜¯æ€éº¼ç¹ªè½‰è­¯é çš„å‘¢ï¼Ÿ"></a>ç€è¦½å™¨æ˜¯æ€éº¼ç¹ªè½‰è­¯é çš„å‘¢ï¼Ÿ</h2><img src="/images/async_vs_defer/1webdev.png">

<blockquote>
<p>åœ–ç‰‡ä¾†æº<a href="https://web.dev/articles/critical-rendering-path/constructing-the-object-model?hl=zh-tw">web.dev</a></p>
</blockquote>
<h3 id="ç¶²é çš„è½‰è­¯æµç¨‹ï¼š"><a href="#ç¶²é çš„è½‰è­¯æµç¨‹ï¼š" class="headerlink" title="ç¶²é çš„è½‰è­¯æµç¨‹ï¼š"></a>ç¶²é çš„è½‰è­¯æµç¨‹ï¼š</h3><ul>
<li>Bytes â¡ï¸ Characters â¡ï¸ Tokens â¡ï¸ Nodes â¡ï¸ DOM</li>
</ul>
<h3 id="æµç¨‹è§£é‡‹ï¼š"><a href="#æµç¨‹è§£é‡‹ï¼š" class="headerlink" title="æµç¨‹è§£é‡‹ï¼š"></a>æµç¨‹è§£é‡‹ï¼š</h3><ol>
<li>å¾ä¼ºæœå™¨æ¥æ”¶åŸå§‹è³‡æ–™ä½å…ƒçµ„(raw bytes of data)ä¸¦å°‡å…¶è½‰æ›ç‚ºäººé¡çœ‹å¾—æ‡‚çš„å­—å…ƒ(Characters)ã€‚</li>
<li>è§£æå­—å…ƒä»¥æå– HTML çµæ§‹ï¼Œæ­¤æ­¥é©Ÿç¨±ç‚ºæ¨™è¨˜åŒ–ï¼ˆtokenizationï¼‰ï¼Œå®ƒæœƒç”¢ç”Ÿæ¨™è¨˜ï¼ˆtokensï¼‰ã€‚</li>
<li>å°‡æ¨™è¨˜ï¼ˆtokensï¼‰è½‰æ›ç‚ºç¯€é»ï¼ˆnodesï¼‰- å…·æœ‰å±¬æ€§çš„ä¸åŒç‰©ä»¶ã€‚</li>
<li>é€£çµç¯€é»ï¼ˆnodesï¼‰ä»¥å»ºç«‹è³‡æ–™çµæ§‹ï¼Œç¨±ç‚º <strong>DOM</strong>ï¼ˆæ–‡ä»¶ç‰©ä»¶æ¨¡å‹ï¼‰å’Œ CSSOMï¼ˆCSS ç‰©ä»¶æ¨¡å‹ï¼‰ã€‚</li>
</ol>
<p>ä»¥ä¸Šæµç¨‹ç¢ºä¿ HTML å’Œ CSS å¿«é€Ÿåœ°å‚³éåˆ°ç€è¦½å™¨(ã†Ï‰ã†*)</p>
<blockquote>
<p>è¦äº†è§£æ›´å¤šè«‹åƒè€ƒï¼š<a href="https://web.dev/articles/critical-rendering-path/constructing-the-object-model?hl=zh-tw">Web.dev å»ºæ§‹ç‰©ä»¶æ¨¡å‹</a></p>
</blockquote>
<p>é€™é‚Šå…ˆå¹«å¤§å®¶ç•«å€‹é‡é»ï¼Œã€Œ<strong>å»ºç«‹ DOM æ˜¯ç€è¦½å™¨è½‰è­¯ç¶²é çš„æœ€å¾Œä¸€æ­¥é©Ÿ</strong>ã€‚ã€è€Œã€Œ<strong>åœ¨ç€è¦½å™¨å¼•æ“å®Œæˆå»ºç½® DOM ä¹‹å‰ä½¿ç”¨è€…ä¸æœƒçœ‹åˆ°ç¶²ç«™</strong>ã€</p>
<h2 id="JavaScript-æ˜¯æ€éº¼è¢«å¼•å…¥åˆ°ç¶²é å‘¢ï¼Ÿ"><a href="#JavaScript-æ˜¯æ€éº¼è¢«å¼•å…¥åˆ°ç¶²é å‘¢ï¼Ÿ" class="headerlink" title="JavaScript æ˜¯æ€éº¼è¢«å¼•å…¥åˆ°ç¶²é å‘¢ï¼Ÿ"></a>JavaScript æ˜¯æ€éº¼è¢«å¼•å…¥åˆ°ç¶²é å‘¢ï¼Ÿ</h2><p>å¦‚æœä»»æ„æŠŠ<code>&lt;script&gt;</code>æ”¾åˆ° html æª”æ¡ˆå…§æœƒç™¼ç”Ÿä»€éº¼äº‹ï¼Ÿå¤§å®¶éƒ½çŸ¥é“ï¼Œç¶²é å¾ˆæœ‰å¯èƒ½æœƒå‡ºå•é¡Œ( Í¡Â° ÍœÊ– Í¡Â°)ï¼Œä¸éç©¶ç«Ÿæ˜¯ç‚ºä»€éº¼å‘¢ï¼Ÿ</p>
<p>åœ¨<strong>å»ºç«‹ DOM çµæ§‹çš„éç¨‹ä¸­</strong>ï¼Œç€è¦½å™¨å°‡ç™¼é€è«‹æ±‚ï¼Œä»¥ç²å–ç¶²ç«™é€£çµåˆ°çš„ä»»ä½•ç›¸é—œè³‡æºã€‚ï¼ˆåŒ…æ‹¬ JavaScript åœ¨å…§ï¼‰</p>
<p>ç‚ºäº†æ›´å¥½åœ°ç†è§£ï¼Œé€™è£¡æº–å‚™äº†ä¸€å€‹ç¯„ä¾‹ï¼Œå°‡<code>&lt;script&gt;</code>æ”¾åœ¨<code>&lt;head&gt;</code>å…§ï¼š</p>
<figure class="highlight css"><table><tr><td class="code"><pre><code class="hljs css">&lt;!DOCTYPE <span class="hljs-selector-tag">html</span>&gt;<br>&lt;<span class="hljs-selector-tag">html</span> lang=&quot;en&quot;&gt;<br>&lt;head&gt;<br>    &lt;meta charset=&quot;UTF-<span class="hljs-number">8</span>&quot;&gt;<br>    &lt;meta name=&quot;viewport&quot; <span class="hljs-attribute">content</span>=&quot;<span class="hljs-attribute">width</span>=device-<span class="hljs-attribute">width</span>, initial-scale=<span class="hljs-number">1.0</span>&quot;&gt;<br>    &lt;title&gt;Document&lt;/title&gt;<br>    &lt;script <span class="hljs-attribute">src</span>=&quot;demo<span class="hljs-selector-class">.js</span>&quot;&gt;&lt;/script&gt;<br>&lt;/head&gt;<br>&lt;<span class="hljs-selector-tag">body</span>&gt;<br>    &lt;<span class="hljs-selector-tag">div</span> class=&quot;container&quot;&gt;ç¶²é å…§å®¹&lt;/<span class="hljs-selector-tag">div</span>&gt;<br>&lt;/<span class="hljs-selector-tag">body</span>&gt;<br>&lt;/<span class="hljs-selector-tag">html</span>&gt;<br></code></pre></td></tr></table></figure>

<p>é€™æ™‚å»ºæ§‹çš„æ™‚é–“åœ–å¦‚ä¸‹ï¼š <img src="/images/async_vs_defer/2rendering-time.png"></p>
<p>é€™æœƒé€ æˆä»€éº¼æ¨£çš„å•é¡Œï¼Ÿå› ç‚º DOM å°šæœªå»ºç½®å¥½ï¼Œæ‰€ä»¥ JavaScript æŠ“ä¸åˆ° DOMï¼Œé€²è€Œç„¡æ³•é€²è¡Œæ“ä½œã€‚ï¼ˆè¾›è‹¦å¯«çš„ JavaScript ç„¡æ³•ç™¼æ®ä½œç”¨ à®‡Ğ´à®‡ï¼‰</p>
<p>å»¶é² DOM å°±ç·’ç‹€æ…‹çš„ä¸åƒ…åƒ…æ˜¯ JavaScriptã€‚é‚„æœ‰ CSSã€åœ–åƒã€å½±ç‰‡ç­‰ã€‚ç€è¦½å™¨å¼•æ“å¿…é ˆå…ˆè¼‰å…¥æ‰€æœ‰è³‡æºæ‰èƒ½å®Œæˆå…·è±¡ã€‚</p>
<p>ç•¶ç„¶ç¿æ™ºçš„å·¥ç¨‹å¸«å€‘æ—©å°±çŸ¥é“é€™å€‹å•é¡Œçš„ç ´è§£æ–¹æ³•(à¹‘ËƒÌµá´—Ë‚Ìµ)ï»­ é€™è£¡å°±è¦æåˆ°åœ¨é–‹é ­èªªçš„ç¬¬ä¸€å€‹æ–¹æ³•</p>
<h2 id="å°‡æ”¾åœ¨å‰ä¸€è¡Œ"><a href="#å°‡æ”¾åœ¨å‰ä¸€è¡Œ" class="headerlink" title="å°‡&lt;script&gt;æ”¾åœ¨&lt;/body&gt;å‰ä¸€è¡Œ"></a>å°‡<code>&lt;script&gt;</code>æ”¾åœ¨<code>&lt;/body&gt;</code>å‰ä¸€è¡Œ</h2><img src="/images/async_vs_defer/3rendering-time-endofbody.png">

<ul>
<li>ç€è¦½å™¨æœƒå…ˆè§£æå®Œæ•´å€‹ HTMLï¼Œå†ä¸‹è¼‰ JavaScript æª”æ¡ˆã€è§£æï¼Œå› æ­¤ä½¿ç”¨è€…å¯ä»¥åœ¨ç¬¬ä¸€æ™‚é–“çœ‹åˆ°ç•«é¢ã€‚</li>
<li>Script æœ‰å¯èƒ½æœƒç•°å‹•åˆ° HTML å…ƒç´ ï¼Œå› æ­¤å°‡<code> &lt;script&gt;</code> ç½®æ–¼<code>&lt;body&gt;</code>çš„åº•éƒ¨ï¼Œå¯ä»¥ç¢ºä¿ HTML å…ƒç´ å·²ç¶“å®Œå…¨è¼‰å…¥ï¼Œæ¸›å°‘ç•°å‹•å…ƒç´ é€ æˆéŒ¯èª¤çš„é¢¨éšªã€‚</li>
<li>ç›´åˆ° DOM å®Œå…¨å»ºç½®å¥½å¾Œï¼ˆä½†æœƒåœ¨ DOMContentLoaded äº‹ä»¶å‰ï¼‰æ‰è¢«ã€ŒåŸ·è¡Œã€</li>
</ul>
<p>ä½†é€™æ˜¯å¥½æ–¹æ³•å—ï¼Ÿä¸€åˆ‡éƒ½çœ‹ç¶²é çš„å…§å®¹è€Œå®šï¼Œå¦‚æœ JavaScript å¯«å¾—å¾ˆå¤šæª”æ¡ˆå¾ˆå¤§ï¼Œæˆ–æ˜¯ç”±å¤–éƒ¨è³‡æºè¼‰å…¥ï¼Œå¯èƒ½å°±æœƒå°è‡´ç¶²é è·‘å¾ˆæ…¢(ï½¡Åï¹Å)ï¼Œä½¿ç”¨è€…å¯èƒ½æœƒè¦ºå¾—ç¶²é å£æ‰ à² _à² </p>
<p>ä½†å¦‚æœæƒ³è¦ç¶²é è¼‰å…¥æ›´å¿«ä¸€é»æ€éº¼è¾¦ï¼Ÿé€™æ™‚å€™<code>async</code>å°±æ´¾ä¸Šç”¨å ´å•¦ ğŸ¤©</p>
<h2 id="async"><a href="#async" class="headerlink" title="async"></a>async</h2><p>async çš„æ„æ€æ˜¯ <strong>asynchrnous</strong>ï¼Œæ„å³<strong>éåŒæ­¥</strong> ä½¿ç”¨çš„ç¯„ä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight css"><table><tr><td class="code"><pre><code class="hljs css">&lt;script <span class="hljs-attribute">src</span>=&quot;demo1<span class="hljs-selector-class">.js</span>&quot; async&gt;&lt;/script&gt;<br>&lt;script <span class="hljs-attribute">src</span>=&quot;demo2<span class="hljs-selector-class">.js</span>&quot; async&gt;&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>å¯ä»¥ç”¨åœ–ç‰‡ç†è§£ï¼š <img src="/images/async_vs_defer/4rendering-time-async.png"></p>
<ul>
<li>è§£æ HTML èˆ‡è¼‰å…¥è…³æœ¬ï¼Œæ˜¯éåŒæ­¥é€²è¡Œã€‚å› æ­¤<code>async</code>æœƒå‘Šè¨´ç€è¦½å™¨ï¼Œåœ¨è§£æ HTML æ™‚ä¸ç”¨ç­‰<code>&lt;script&gt;</code>è…³æœ¬çš„ä¸‹è¼‰èˆ‡åŸ·è¡Œã€‚</li>
<li>async çš„è…³æœ¬è¼‰å…¥èˆ‡ HTML è§£ææ˜¯å½¼æ­¤ç¨ç«‹ï¼Œasync<strong>ä¸‹è¼‰å®Œå°±æœƒé¦¬ä¸ŠåŸ·è¡Œ</strong>ã€‚</li>
<li>é™¤äº†è·Ÿ DOM çš„å»ºæ§‹æ˜¯å½¼æ­¤ç¨ç«‹ä¹‹å¤–ï¼Œå¸¶æœ‰ async å±¬æ€§çš„è…³æœ¬è·Ÿå…¶ä»–çš„è…³æœ¬ä¹Ÿæ˜¯<strong>å½¼æ­¤ç¨ç«‹</strong>ï¼Œå“ªå€‹å…ˆä¸‹è¼‰å®Œæˆå°±å…ˆåŸ·è¡Œã€‚</li>
<li>é›–ç„¶åœ¨ä¸‹è¼‰æ™‚ä¸æœƒæš«åœ HMTL çš„è§£æï¼Œä½†åœ¨åŸ·è¡Œæ™‚å…¶ä»–çš„ Script æ™‚æœƒæš«åœè§£æï¼ˆä¾‹å¦‚ç¯„ä¾‹çš„ demo1 æœƒå…ˆåŸ·è¡Œï¼Œæ¥è‘—å†è§£æ demo2ï¼‰</li>
<li>é€šå¸¸ä½¿ç”¨åœ¨ Script è¼‰å…¥è·Ÿ DOMã€å…¶ä»–è…³æœ¬æ˜¯æ²’æœ‰ç›¸äº’ä¾è³´é—œä¿‚æ™‚ï¼Œä¾‹å¦‚ Google Analytics é€™é¡åˆ†æç”¨çš„è…³æœ¬ã€‚</li>
<li>async è‹¥æ”¾åœ¨ html ä¸­é–“ï¼Œå‰‡æ‹¿ä¸åˆ°å¾Œé¢è§£æçš„ DOMã€‚</li>
</ul>
<p>async çœŸæ˜¯çœæ™‚é–“ Ê•â€¢á´¥â€¢Ê”ï¼Œä½†é€™æ˜¯æœ€å¥½çš„æ–¹æ³•å—ï¼Ÿä¸¦ä¸æ˜¯ï¼Œä¸€åˆ‡ä¹Ÿè¦çœ‹ç¶²é çš„å…§å®¹è€Œå®šï¼Œå¦‚æœæœ‰å¾ˆå¤šç›¸äº’ä¾è³´çš„ Script æˆ–æ˜¯ Script éœ€è¦å–å¾— DOM å…ƒç´ å°±ä¸é©åˆã€‚</p>
<p>æ‰€ä»¥å°±æœ‰äº†ç¬¬ä¸‰ç¨®è§£æ±ºé€™å•é¡Œçš„æ–¹æ³•å•¦ï¼é‚£å°±æ˜¯<code>defer</code></p>
<h2 id="ä»€éº¼æ˜¯-defer"><a href="#ä»€éº¼æ˜¯-defer" class="headerlink" title="ä»€éº¼æ˜¯ defer?"></a>ä»€éº¼æ˜¯ defer?</h2><figure class="highlight css"><table><tr><td class="code"><pre><code class="hljs css">&lt;script <span class="hljs-attribute">src</span>=&quot;demo1<span class="hljs-selector-class">.js</span>&quot; defer&gt;&lt;/script&gt;<br>&lt;script <span class="hljs-attribute">src</span>=&quot;demo1<span class="hljs-selector-class">.js</span>&quot; defer&gt;&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<img src="/images/async_vs_defer/5rendering-time-defer.png">

<ul>
<li>defer æœƒå‘Šè¨´ç€è¦½å™¨ï¼Œä¸ç”¨ç­‰è…³æœ¬çš„ä¸‹è¼‰èˆ‡åŸ·è¡Œï¼Œå¯ä»¥ç¹¼çºŒå®Œæˆ HTML çš„è§£æèˆ‡ DOM çš„å»ºæ§‹ï¼›åœ¨å»ºæ§‹ DOM çš„åŒæ™‚ï¼Œæœƒåœ¨èƒŒæ™¯ä¸­è¼‰å…¥è…³æœ¬ï¼Œå› æ­¤ defer ä¸æœƒæ“‹ä½ç•«é¢çš„å…·åƒï¼ˆæ¸²æŸ“ï¼‰ã€‚</li>
<li>å¦‚æœè…³æœ¬åœ¨ HTML è§£æå®Œæˆå‰å°±ä¸‹è¼‰å¥½ï¼Œæœƒç­‰åˆ° HTML éƒ½<strong>å®Œå…¨è§£æ</strong>å¾Œï¼Œæ‰æœƒåŸ·è¡Œã€‚å› æ­¤å¦‚æœæœ‰è…³æœ¬æ˜¯éœ€è¦ç­‰ HTML è§£æå®Œã€DOM å®Œæ•´å»ºç«‹å¾Œæ‰èƒ½è¼‰å…¥ï¼Œé‚£éº¼æœƒéœ€è¦é¸ deferã€‚</li>
<li>å¦‚æœåŒæ™‚æœ‰å¤šå€‹å¸¶æœ‰ defer å±¬æ€§çš„<code>&lt;script&gt;</code>è³‡æºï¼Œç€è¦½å™¨æœƒåŒæ­¥ä¸‹è¼‰ï¼Œåªæ˜¯æœƒä¾ç…§åœ¨ HTML ä¸­çš„é †åºåŸ·è¡Œã€‚</li>
<li>æœ‰äº›æ™‚å€™ï¼Œå¯èƒ½æŸå€‹è…³æœ¬æœƒä¾è³´å¦ä¸€å€‹è…³æœ¬ï¼Œä¾‹<code>demo1.js</code>ä¾è³´<code>demo2.js</code>ï¼Œåœ¨ç¯„ä¾‹ä¸­ä½¿<code>defer</code>å¯ä»¥ç¢ºä¿<code>demo1.js</code>æœƒåœ¨<code>demo2.js</code>ä¹‹å‰åŸ·è¡Œã€‚</li>
</ul>
<h2 id="æ”¾åœ¨å‰-v-s-Async-v-s-Defer"><a href="#æ”¾åœ¨å‰-v-s-Async-v-s-Defer" class="headerlink" title="æ”¾åœ¨&lt;/body&gt;å‰ v.s. Async v.s. Defer"></a>æ”¾åœ¨<code>&lt;/body&gt;</code>å‰ v.s. Async v.s. Defer</h2><p>äº†è§£é€™ä¸‰ç¨®ä¸åŒçš„æ–¹æ³•æ™‚ï¼Œè‡ªå·±ä¹Ÿé ­æ˜çœ¼èŠ±äº†ä¸€é™£å­ï¼Œæ‰€ä»¥ç‰¹åˆ¥è£½ä½œäº†è¡¨æ ¼ä¾†å¹«åŠ©å¤§å®¶é‡æ¸…ï¼š <img src="/images/async_vs_defer/6differ-table.png"></p>
<p>æœ¬ç¯‡æ–‡ç« æ˜¯æˆ‘ç”±ä»¥ä¸‹åƒè€ƒè³‡æ–™æ•´ç†+è‡ªå·±ç¹ªåœ–è€Œæˆï¼Œå¦‚æœæ‚¨æœ‰èˆˆè¶£äº†è§£æ›´å¤šï¼Œè«‹åƒè€ƒï¼š</p>
<h3 id="åƒè€ƒè³‡æ–™ï¼š"><a href="#åƒè€ƒè³‡æ–™ï¼š" class="headerlink" title="åƒè€ƒè³‡æ–™ï¼š"></a>åƒè€ƒè³‡æ–™ï¼š</h3><blockquote>
<p><a href="https://curiosum.com/blog/seo-speed-script-tags-async-vs-defer">curiosumï¼šAsync vs Defer</a></p>
</blockquote>
<blockquote>
<p><a href="https://www.explainthis.io/zh-hant/swe/script-link-in-html">ExplainThisï¼šscript æ¨™ç±¤æ‡‰è©²æ”¾åœ¨ HTML çš„ä»€éº¼ä½ç½®ï¼Ÿlink å‘¢ï¼Ÿ</a></p>
</blockquote>
<blockquote>
<p><a href="https://www.explainthis.io/zh-hant/swe/fe-script-async-defer-difference">ExplainThisï¼šscript çš„ async èˆ‡ defer æœ‰ä»€éº¼ä¸åŒï¼Ÿ</a></p>
</blockquote>
<blockquote>
<p><a href="https://pjchender.dev/javascript/js-async-defer/">PJchenderï¼š[JS] Async, defer attributes</a></p>
</blockquote>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>defer</tag>
        <tag>async</tag>
        <tag>Web</tag>
        <tag>rendering</tag>
      </tags>
  </entry>
  <entry>
    <title>CodeWars: credit card mask</title>
    <url>/2024/02/16/codewars-credit-card-mask/</url>
    <content><![CDATA[<p>é€™å¹¾å¤©é‡åˆ°ç¨‹å¼çš„é¢è©¦é¡Œç›®ï¼Œæƒ³èªªä¹Ÿå¯ä»¥ä¸€ä½µå°‡è§£æ³•åˆ†äº«Ù©(^á´—^)Û¶<br>é¡Œç›®ï¼š<a href="https://www.codewars.com/kata/5412509bd436bd33920011bc">Codewars</a><br>ä¸€æ¨£æœƒç”¨<code>Ruby</code>ã€<code>Python</code>å’Œ<code>JavaScript</code>ä¸‰å€‹èªè¨€ä¾†è§£é¡Œï¼Œè®“æˆ‘å€‘é–‹å§‹å§ï¼<br><img src="/images/codewar-credit-card-mask/1.png"></p>
<p>å¦‚æœæœ‰åƒæ˜¯éŠ€è¡Œå¡è™Ÿã€éŠ€è¡Œå¸³è™Ÿç­‰ç­‰æ©Ÿå¯†è¨Šæ¯éœ€è¦åŠ å¯†ï¼Œå¯ä»¥ä½¿ç”¨æ­¤æ–¹æ³•ï¼Œåƒ…é¡¯ç¤ºæœ€å¾Œå››ç¢¼ï¼Œå¦‚æœç¸½æ•¸å°æ–¼å››ç¢¼å°±é¡¯ç¤ºæ‰€æœ‰å…§å®¹ã€‚</p>
<h2 id="Ruby"><a href="#Ruby" class="headerlink" title="Ruby"></a>Ruby</h2><figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">maskify</span>(<span class="hljs-params">cc</span>)<br>  cc.size &gt; <span class="hljs-number">4</span> ? <span class="hljs-string">&quot;#&quot;</span> * (cc.size - <span class="hljs-number">4</span>) + cc[-<span class="hljs-number">4</span>..-<span class="hljs-number">1</span>] : cc<br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure>
<p>Rubyå¯ä»¥ä½¿ç”¨ä¸‰å…ƒé‹ç®—å­ä¾†è§£ï¼Œé¦–å…ˆåˆ¤æ–·æ•¸å…¥çš„å€¼é•·åº¦<code>cc.size</code>æ˜¯å¦å¤§æ–¼4ç¢¼ï¼Œå› ç‚ºæœ€å¾Œé¢4ç¢¼è¦é¡¯ç¤ºï¼Œæ‰€ä»¥å¦‚æœå¤§æ–¼4ç¢¼ï¼Œå°±å°‡å‰é¢å››ç¢¼çš„é•·åº¦<code>cc.size</code>æ‰£æ‰<code>4ç¢¼</code> * <code>#</code>ï¼Œå†ä½¿ç”¨<code>cc[-4..-1]</code>é¡¯ç¤ºå€’æ•¸å››ä½ï½å€’æ•¸æœ€å¾Œä¸€ä½ã€‚</p>
<p>å¦‚æœæ²’æœ‰å¤§æ–¼4ç¢¼ï¼Œå°±ç›´æ¥é¡¯ç¤º<code>cc</code>å³å¯ Ù©(^á´—^)Û¶</p>
<h2 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h2><figure class="highlight py"><table><tr><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">def</span> <span class="hljs-title function_">maskify</span>(<span class="hljs-params">cc</span>):<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;#&quot;</span> * (<span class="hljs-built_in">len</span>(cc)-<span class="hljs-number">4</span>) + cc[-<span class="hljs-number">4</span>:]<br></code></pre></td></tr></table></figure>
<p>Pythonæ¯”è¼ƒç‰¹åˆ¥ï¼Œå¦‚æœå­—ä¸²<code>*</code>å°æ–¼ç­‰æ–¼é›¶çš„æ•¸å­—ï¼Œæœƒè¿”é‚„ç©ºå€¼ã€‚<br>æ‰€ä»¥é€™è£¡ä¸éœ€è¦ä½¿ç”¨åˆ¤æ–·å¼å°±å¯ä»¥å®Œæˆo(^â–½^)o</p>
<h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">maskify</span>(<span class="hljs-params">cc</span>) &#123;<br>    <span class="hljs-keyword">return</span> cc.<span class="hljs-property">length</span> &gt; <span class="hljs-number">4</span> ? <span class="hljs-string">&quot;#&quot;</span>.<span class="hljs-title function_">repeat</span>(cc.<span class="hljs-property">length</span> - <span class="hljs-number">4</span>) + cc.<span class="hljs-title function_">slice</span>(-<span class="hljs-number">4</span>) : cc<br>&#125;<br></code></pre></td></tr></table></figure>
<p>JSå’ŒRubyçš„è§£æ³•é‚è¼¯ä¸€æ¨£ï¼Œä½¿ç”¨ä¸‰å…ƒé‹ç®—å­åˆ¤æ–·é•·åº¦<code>cc.length</code>æ˜¯å¦ &gt; 4ï¼Œå¦‚æœå¤§æ–¼çš„è©±å‰‡è¿”å›æ‰£æ‰4å€‹é•·åº¦çš„<code> &quot;#&quot;.repeat(cc.length - 4)</code>+æœ€å¾Œå››ç¢¼<code>cc.slice(-4)</code>ï¼Œå¦‚æœå°æ–¼4ç›´æ¥è¿”é‚„<code>cc</code></p>
<p>Codewars 7kyuçš„é¡Œç›®å’Œleetcode easyç›¸æ¯”ç¨å¾®ç°¡å–®ä¸€é»ï¼Œå¾ˆé©åˆç·´ç¿’ä¸åŒç¨‹å¼çš„åŸºæœ¬ç”¨æ³•ï½å¾ˆå¯æƒœå‰å¹¾å¤©çš„LeetcodeæŒ‘æˆ°æ–·åœ¨Day 15ï¼Œæ¥ä¸‹ä¾†ç¹¼çºŒåŠªåŠ›o(^âˆ€^*)o</p>
]]></content>
      <categories>
        <category>codewars</category>
      </categories>
      <tags>
        <tag>Ruby</tag>
        <tag>Python</tag>
        <tag>JavaScript</tag>
        <tag>codewars</tag>
        <tag>credit card mask</tag>
      </tags>
  </entry>
  <entry>
    <title>CodeWars: highest and lowest</title>
    <url>/2024/02/21/codewars-highest-and-lowest/</url>
    <content><![CDATA[<p>é€™å¹¾å¤©é‡åˆ°ç¨‹å¼çš„é¢è©¦é¡Œç›®ï¼Œæƒ³èªªä¹Ÿå¯ä»¥ä¸€ä½µå°‡è§£æ³•åˆ†äº«Ù©(^á´—^)Û¶<br>é¡Œç›®ï¼š<a href="https://www.codewars.com/kata/554b4ac871d6813a03000035">Codewars - Highest and Lowest</a><br>ä¸€æ¨£æœƒç”¨<code>Ruby</code>ã€<code>Python</code>å’Œ<code>JavaScript</code>ä¸‰å€‹èªè¨€ä¾†è§£é¡Œï¼Œè®“æˆ‘å€‘é–‹å§‹å§ï¼<br><img src="/images/codewars-highest-and-lowest/0221.png"></p>
<h2 id="Ruby"><a href="#Ruby" class="headerlink" title="Ruby"></a>Ruby</h2><figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">high_and_low</span>(<span class="hljs-params">numbers</span>)<br>  numbers.split.map(&amp;<span class="hljs-symbol">:to_i</span>).minmax.reverse.join(<span class="hljs-string">&#x27; &#x27;</span>)<br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure>
<p>Rubyæœ‰ä¸€å€‹è »å¥½ç”¨çš„æ–¹æ³•ï¼Œ<a href="https://rubyapi.org/3.3/o/s?q=minmax">Array#minmax</a>ï¼Œå¯ä»¥å›å‚³é™£åˆ—çš„æœ€å°å€¼å’Œæœ€å¤§å€¼ï¼Œç¯„ä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby">[<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>].minmax <span class="hljs-comment"># =&gt; [0, 2]</span><br></code></pre></td></tr></table></figure>
<p>ä½†é¡Œç›®æ˜¯<code>high_and_low</code>ï¼Œæ‰€ä»¥éœ€è¦<code>reverse</code>ï¼Œä¸¦ä½¿ç”¨<code>.join(&#39; &#39;)</code>å°‡é™£åˆ—è½‰ç‚ºå­—ä¸²ã€‚</p>
<h2 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h2><figure class="highlight py"><table><tr><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">def</span> <span class="hljs-title function_">high_and_low</span>(<span class="hljs-params">numbers</span>):<br>    numbers = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, numbers.split()))<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">f&quot;<span class="hljs-subst">&#123;<span class="hljs-built_in">max</span>(numbers)&#125;</span> <span class="hljs-subst">&#123;<span class="hljs-built_in">min</span>(numbers)&#125;</span>&quot;</span><br></code></pre></td></tr></table></figure>
<p><code>f&quot;&#123;max(numbers)&#125; &#123;min(numbers)&#125;&quot;</code>é€™è£¡ä½¿ç”¨<a href="https://docs.python.org/zh-tw/3/tutorial/inputoutput.html">f-string</a>å°‡æœ€å¤§å€¼å’Œæœ€å°å€¼æ’å…¥åˆ°å­—ç¬¦ä¸²ä¸­</p>
<h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">highAndLow</span>(<span class="hljs-params">numbers</span>) &#123;<br>    <span class="hljs-keyword">const</span> nums = numbers.<span class="hljs-title function_">split</span>(<span class="hljs-string">&#x27; &#x27;</span>).<span class="hljs-title function_">map</span>(<span class="hljs-title class_">Number</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">$&#123;<span class="hljs-built_in">Math</span>.max(...nums)&#125;</span> <span class="hljs-subst">$&#123;<span class="hljs-built_in">Math</span>.min(...nums)&#125;</span>`</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>JSå’ŒPythonä¹Ÿæ˜¯ç”¨é¡ä¼¼æ–¹æ³•ï½</p>
]]></content>
      <categories>
        <category>codewars</category>
      </categories>
      <tags>
        <tag>Ruby</tag>
        <tag>Python</tag>
        <tag>JavaScript</tag>
        <tag>codewars</tag>
        <tag>highest and lowest</tag>
      </tags>
  </entry>
  <entry>
    <title>CodeWars: square every digit</title>
    <url>/2024/02/20/codewars-square-every-digit/</url>
    <content><![CDATA[<p>é€™å¹¾å¤©é‡åˆ°ç¨‹å¼çš„é¢è©¦é¡Œç›®ï¼Œæƒ³èªªä¹Ÿå¯ä»¥ä¸€ä½µå°‡è§£æ³•åˆ†äº«Ù©(^á´—^)Û¶<br>é¡Œç›®ï¼š<a href="https://www.codewars.com/kata/546e2562b03326a88e000020">Codewars - Square Every Digit</a><br>ä¸€æ¨£æœƒç”¨<code>Ruby</code>ã€<code>Python</code>å’Œ<code>JavaScript</code>ä¸‰å€‹èªè¨€ä¾†è§£é¡Œï¼Œè®“æˆ‘å€‘é–‹å§‹å§ï¼<br><img src="/images/codewars-square-every-digit/0220_2.png"></p>
<p>é€™æ¬¡çš„é¡Œç›®å°±æ˜¯å°‡è¼¸å…¥çš„å…§å®¹æ‹†é–‹ç‚ºé™£åˆ—ï¼Œå„åˆ¥å¹³æ–¹å¾Œï¼Œå†åŠ å…¥çµ„åˆèµ·ä¾†å°±èƒ½å¾—åˆ°ç­”æ¡ˆäº†Ù©(^á´—^)Û¶</p>
<h2 id="Ruby"><a href="#Ruby" class="headerlink" title="Ruby"></a>Ruby</h2><figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">square_digits</span>(<span class="hljs-params">num</span>)<br>  num.to_s.chars.map &#123; |<span class="hljs-params">digit</span>| digit.to_i ** <span class="hljs-number">2</span>&#125;.join.to_i<br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure>
<p>è½åˆ°<code>å„åˆ¥</code>å…©å€‹å­—ï¼Œè…¦ä¸­ä¸€å®šæœƒè‡ªå‹•è¯æƒ³åˆ°<code>map</code>ï¼Œé€™é¡Œä¹Ÿæ˜¯ä½¿ç”¨<code>map</code>å€‹å­—å¹³æ–¹å¾Œå†ä½¿ç”¨<code>join</code>çµ„åˆæˆå­—ä¸²å¾Œï¼Œå†ä½¿ç”¨<code>to_i</code>è¿”é‚„æ•¸å­—</p>
<h2 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h2><figure class="highlight py"><table><tr><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">def</span> <span class="hljs-title function_">square_digits</span>(<span class="hljs-params">num</span>):<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">int</span>(<span class="hljs-string">&#x27;&#x27;</span>.join(<span class="hljs-built_in">str</span>(<span class="hljs-built_in">int</span>(digit)**<span class="hljs-number">2</span>) <span class="hljs-keyword">for</span> digit <span class="hljs-keyword">in</span> <span class="hljs-built_in">str</span>(num)))<br></code></pre></td></tr></table></figure>
<p><code>python</code>å‰‡æ˜¯å¯«æ³•ç¨å¾®ä¸åŒï¼Œå¯ä»¥ä½¿ç”¨<code>for digit in str(num)</code>å³å¯</p>
<h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">squareDigits</span>(<span class="hljs-params">num</span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">parseInt</span>(num.<span class="hljs-title function_">toString</span>().<span class="hljs-title function_">split</span>(<span class="hljs-string">&#x27;&#x27;</span>).<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">digit</span> =&gt;</span> <span class="hljs-built_in">parseInt</span>(digit)**<span class="hljs-number">2</span>).<span class="hljs-title function_">join</span>(<span class="hljs-string">&#x27;&#x27;</span>), <span class="hljs-number">10</span>);<br>  &#125;<br></code></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>codewars</category>
      </categories>
      <tags>
        <tag>Ruby</tag>
        <tag>Python</tag>
        <tag>JavaScript</tag>
        <tag>codewars</tag>
        <tag>square every digit</tag>
      </tags>
  </entry>
  <entry>
    <title>CodeWars: sum of a sequence</title>
    <url>/2024/02/20/codewars-sum-of-a-sequence/</url>
    <content><![CDATA[<p>é€™å¹¾å¤©é‡åˆ°ç¨‹å¼çš„é¢è©¦é¡Œç›®ï¼Œæƒ³èªªä¹Ÿå¯ä»¥ä¸€ä½µå°‡è§£æ³•åˆ†äº«Ù©(^á´—^)Û¶<br>é¡Œç›®ï¼š<a href="https://www.codewars.com/kata/586f6741c66d18c22800010a">Codewars - Sum of a sequence</a><br>ä¸€æ¨£æœƒç”¨<code>Ruby</code>ã€<code>Python</code>å’Œ<code>JavaScript</code>ä¸‰å€‹èªè¨€ä¾†è§£é¡Œï¼Œè®“æˆ‘å€‘é–‹å§‹å§ï¼<br><img src="/images/Sum-of-a-sequence/0220.png"></p>
<p>é€™å€‹é¡Œç›®ä¹Ÿè »æœ‰è¶£çš„ï¼Œæœƒçµ¦ä¸‰å€‹å€¼<code>(begin,end,step)</code>ï¼Œå¦‚æœ<code>begin &gt; end</code>å‰‡å›å‚³<code>0</code>ï¼Œæ²’æœ‰çš„è©±å°±ä»¥<code>step</code>ç‚ºå·®ï¼Œç”±<code>begin</code>åŠ ç¸½è‡³<code>end</code>ï¼Œåªè¦è®€æ‡‚äº†é¡Œç›®ä¾åºå¯«æˆç¨‹å¼ç¢¼ç­”æ¡ˆå°±å‡ºä¾†äº†à­§â˜‰â–¡â˜‰à­¨</p>
<h2 id="Ruby"><a href="#Ruby" class="headerlink" title="Ruby"></a>Ruby</h2><figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">sequence_sum</span>(<span class="hljs-params">begin_number, end_number, step</span>)<br>  (begin_number..end_number).step(step).sum<br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure>
<p>Rubyçš„<code>step</code>æœ‰ä¸€å€‹æœ‰è¶£çš„åœ°æ–¹ï¼Œåªè¦ç¯„åœä¸å°çš„è©±ï¼Œå°±æœƒå›å‚³0ï¼Œ<br>æ‰€ä»¥å¦‚æœ<code>begin_number</code>&gt;<code>end_number</code>ï¼Œå³æœƒå›å‚³0ï¼Œè€Œä¸éœ€è¦å¤šåŠ åˆ¤æ–·</p>
<h2 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h2><figure class="highlight py"><table><tr><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">def</span> <span class="hljs-title function_">sequence_sum</span>(<span class="hljs-params">begin_number, end_number, step</span>):<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">sum</span>(<span class="hljs-built_in">range</span>(begin_number, end_number + <span class="hljs-number">1</span>, step))<br></code></pre></td></tr></table></figure>
<p>å’Œ<code>ruby</code>ä¸ä¸€æ¨£çš„åœ°æ–¹æ˜¯ï¼Œ<code>python</code>çš„<code>Range</code>å¦‚æœæ˜¯<code>range(1,4)</code>ï¼Œå‡ºç¾çš„çµæœæœƒæ˜¯<code>[1,2,3]</code>ä¸¦ä¸æœƒåŒ…å«æœ€å¾Œä¸€ä½æ•¸ï¼Œæ‰€ä»¥é€™è£¡éœ€è¦<code>+1</code></p>
<p>è€ŒPythonå’ŒRubyä¸€æ¨£ï¼Œå¦‚æœåŠ ç¸½çš„ç¯„åœä¸å°çš„è©±æœƒå›å‚³<code>0</code>ï¼Œå› æ­¤ä¸éœ€è¦é¡å¤–å¡«å¯«åˆ¤æ–·å¼ã€‚<br>å¯ä»¥åƒè€ƒç¯„ä¾‹:</p>
<figure class="highlight py"><table><tr><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">def</span> <span class="hljs-title function_">sequence_sum</span>(<span class="hljs-params">begin_number, end_number, step</span>):<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">sum</span>(<span class="hljs-built_in">range</span>(begin_number, end_number + <span class="hljs-number">1</span>, step))<br><br><span class="hljs-comment"># ç¯„ä¾‹</span><br><span class="hljs-built_in">print</span>(sequence_sum(<span class="hljs-number">12</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>))   <span class="hljs-comment"># è¼¸å‡º: 0</span><br></code></pre></td></tr></table></figure>

<h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">sequenceSum</span>(<span class="hljs-params">begin, end, step</span>) &#123;<br>    <span class="hljs-keyword">if</span> (begin &gt; end) &#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(&#123; <span class="hljs-attr">length</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>((end - begin) / step) + <span class="hljs-number">1</span> &#125;, <span class="hljs-function">(<span class="hljs-params">_, i</span>) =&gt;</span> begin + i * step).<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">sum, num</span>) =&gt;</span> sum + num, <span class="hljs-number">0</span>);<br>    &#125;<br>  &#125;<br></code></pre></td></tr></table></figure>
<p>JSå°±æ²’é‚£éº¼å¤šå¥½ç”¨çš„æ–¹æ³•ï¼Œä½†å› ç‚ºåŠ ç¸½çš„å…¬å¼ä¹Ÿä¸è¤‡é›œï¼Œé€™è£¡å°±ä½¿ç”¨åˆ¤æ–·å¼+åŠ ç¸½çš„å…¬å¼è§£ï¼Œæ•ˆç‡ä¹Ÿæ¯”è¼ƒé«˜ï½</p>
]]></content>
      <categories>
        <category>codewars</category>
      </categories>
      <tags>
        <tag>Ruby</tag>
        <tag>Python</tag>
        <tag>JavaScript</tag>
        <tag>codewars</tag>
        <tag>Sum of a sequence</tag>
      </tags>
  </entry>
  <entry>
    <title>CodeWars: sum of digits / digital rootï¼ˆ02/21æ›´æ–°ï¼‰</title>
    <url>/2024/02/18/codewars-sum-of-digits-digital-root/</url>
    <content><![CDATA[<p>é€™ä¹Ÿæ˜¯é€™å¹¾å¤©é‡åˆ°ç¨‹å¼çš„é¢è©¦é¡Œç›®ï¼Œä¸€ä½µå°‡è§£æ³•åˆ†äº«Ù©(^á´—^)Û¶<br>é¡Œç›®ï¼š<a href="https://www.codewars.com/kata/541c8630095125aba6000c00">Codewars</a><br>ä¸€æ¨£æœƒç”¨<code>Ruby</code>ã€<code>Python</code>å’Œ<code>JavaScript</code>ä¸‰å€‹èªè¨€ä¾†è§£é¡Œï¼Œè®“æˆ‘å€‘é–‹å§‹å§ï¼</p>
<img src="/images/codewars-digital-root/0218.png">

<p>ä»Šå¤©è§£çš„æ˜¯<code>6kyu</code>çš„é›£åº¦ï¼Œåšé€™å€‹é¡Œç›®å‰æƒ³åˆ°<code>ç”Ÿå‘½éˆæ•¸</code>ä¹Ÿæ˜¯é€™æ¨£å–çš„ï¼ŒæŠŠè‡ªå·±çš„è¥¿å…ƒå‡ºç”Ÿå¹´æœˆæ—¥ä¾åºåŠ èµ·ä¾†ï¼Œå¾—åˆ°çš„å€‹ä½æ•¸å°±æ˜¯è‡ªå·±çš„<code>ç”Ÿå‘½éˆæ•¸</code>ã€‚</p>
<p>å¯ä»¥ä½¿ç”¨<code>å…©ç¨®</code>æ–¹æ³•ä¾†è§£ï¼Œä¸€ç¨®æ˜¯<code>éè¿´</code>ï¼Œä¸€ç¨®ç¶“ç”±<code>å…¬å¼æ¨å°</code>è¨ˆç®—å¼ï¼Œè§£æ³•å¦‚ä¸‹ï¼š</p>
<h2 id="Ruby"><a href="#Ruby" class="headerlink" title="Ruby"></a>Ruby</h2><figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-comment">#è§£æ³•ä¸€</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">digital_root</span>(<span class="hljs-params">n</span>)<br>  n &lt; <span class="hljs-number">10</span> ? n : digital_root(n.digits.sum)<br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure>
<p><code>éè¿´(recursion)</code>ç°¡å–®ä¾†èªªå°±æ˜¯å‡½å¼æœƒä¸€ç›´é‡è¤‡å‘¼å«æœ¬èº«ç›´åˆ°é”æˆæ¢ä»¶ï¼Œ<br>å‡å¦‚å®šç¾©ä¸€å€‹è¼¸å…¥å€¼ç‚º<code>digital_root(666)</code><br>ç¬¬ä¸€æ¬¡çš„çµæœç‚º<code>6 + 6 + 6 = 18</code>ï¼Œä½†å€¼é‚„æ²’æœ‰é”åˆ°æ¢ä»¶çš„<code>n &lt; 10</code>ï¼Œ<br>æ‰€ä»¥æœƒå†é‡è¤‡å‘¼å«ä¸€æ¬¡ï¼Œæ­¤æ™‚<code>n = 18</code>ï¼Œ<code>1 + 8 = 9</code>ï¼Œ<br>å·²ç¶“é”åˆ°<code>n &lt; 10</code>çš„æ¢ä»¶ï¼Œå› æ­¤æœƒå›å‚³<code>9</code></p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-comment">#è§£æ³•äºŒ</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">digital_root</span>(<span class="hljs-params">n</span>)<br>  n.zero? ? <span class="hljs-number">0</span> : (n - <span class="hljs-number">1</span>) % <span class="hljs-number">9</span> + <span class="hljs-number">1</span><br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure>
<p>è§£æ³•äºŒå°±æ˜¯ä¹‹å‰å¸¸èªªçš„ï¼šå¦‚æœåœ¨çœ‹åˆ°é¡Œç›®å‰å¤šæƒ³ä¸€é»ï¼Œå¯ä»¥è®“ç¨‹å¼æ•ˆç‡æ›´é«˜ã€‚<br>å› ç‚ºæ­¤å­—æ ¹æ˜¯ä½¿ç”¨<code>10é€²ä½åˆ¶</code>ï¼Œæ¯å€‹å­—æ ¹éƒ½æ˜¯<code>é9é€²ä½</code>ï¼Œ<code>æ•¸å­—å’Œ &gt; 9</code>æ™‚å°±è¦å†é‡è¤‡ç›¸åŠ ï¼Œå› æ­¤é€™è£¡çš„<code>% 9</code>å°±æ˜¯ç°¡åŒ–é‡è¤‡ç›¸åŠ çš„æ­¥é©Ÿï¼Œä»¥ä¸‹èˆ‰ä¾‹ï¼š</p>
<figure class="highlight basic"><table><tr><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">10 </span>% <span class="hljs-number">9</span> = <span class="hljs-number">1</span><br><span class="hljs-symbol">100 </span>% <span class="hljs-number">9</span> = <span class="hljs-number">1</span><br><span class="hljs-symbol">1000 </span>% <span class="hljs-number">9</span> = <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure>
<p>é€™æ¨£çœ‹ä¾†æ‡‰è©²<code>% 9</code>å°±å¯ä»¥å¾—åˆ°ç­”æ¡ˆï¼Œç‚ºä»€éº¼ç­”æ¡ˆæœƒæ˜¯<code>n.zero? ? 0 : (n - 1) % 9 + 1</code>å‘¢ï¼Ÿ</p>
<p>ç¬¬ä¸€å€‹æ˜¯å› ç‚ºå¦‚æœè¼¸å…¥å€¼å‰›å¥½æ˜¯0çš„è©±ï¼Œæ‡‰è©²ç›´æ¥è¿”å›<code>0</code>ï¼Œå› æ­¤åœ¨å‰é¢åŠ äº†åˆ¤æ–·å¼ã€‚</p>
<p>ç¬¬äºŒå€‹æ˜¯å› ç‚º<code>% 9</code>é‡åˆ°<code>9çš„å€æ•¸</code>å°±æœƒå‡ºéŒ¯ï¼Œç‚ºäº†é¿å…é€™å€‹æƒ…æ³ï¼Œæœƒéœ€è¦å…ˆå°‡<code>n-1</code>ï¼Œ<code>%9</code>å¾Œå†<code>+1</code>ï¼Œé€™æ¨£é‡åˆ°9çš„å€æ•¸ç­”æ¡ˆä¹Ÿèƒ½æ­£ç¢ºï½</p>
<h2 id="2024-02-21æ›´æ–°"><a href="#2024-02-21æ›´æ–°" class="headerlink" title="2024&#x2F;02&#x2F;21æ›´æ–°"></a>2024&#x2F;02&#x2F;21æ›´æ–°</h2><p>é€™å¹¾å¤©å»é¢è©¦æ”¶åˆ°çš„åé¥‹ï¼Œæ—¢ç„¶å·²ç¶“çŸ¥é“æœƒæœ‰é‡åˆ°<code>9çš„å€æ•¸</code>å°±å‡ºéŒ¯çš„å•é¡Œï¼Œæ€éº¼ä¸ç›´æ¥å¯«åœ¨ç¨‹å¼ç¢¼è£¡å‘¢ï¼Ÿå› æ­¤å°±å‡ºç¾äº†<code>è§£æ³•ä¸‰</code>ï¼Œçœ‹èµ·ä¾†æ›´æ¸…æ¥šï¼</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-comment">#è§£æ³•ä¸‰</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">digital_root</span>(<span class="hljs-params">n</span>)<br>  <span class="hljs-keyword">case</span><br>  <span class="hljs-keyword">when</span> n.zero?<br>    <span class="hljs-number">0</span><br>  <span class="hljs-keyword">when</span> n % <span class="hljs-number">9</span> == <span class="hljs-number">0</span><br>    <span class="hljs-number">9</span><br>  <span class="hljs-keyword">else</span><br>    n % <span class="hljs-number">9</span><br>  <span class="hljs-keyword">end</span><br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure>
<p>å…¶å¯¦æœ¬é¡Œç›®ä¹Ÿå’Œé¼é¼å¤§åçš„è²»æ°åˆ—æ•¸è§£æ³•ç›¸é—œï¼Œä¹Ÿæœ‰ç”¨åˆ°éè¿´çš„æ¦‚å¿µï¼Œè§£æ³•ä¹Ÿä¸€ä½µè£œå……åœ¨é€™è£¡ï¼š</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">fibonacci</span>(<span class="hljs-params">n</span>)<br>  n &lt;= <span class="hljs-number">1</span> ? n : fibonacci(n - <span class="hljs-number">1</span>) + fibonacci(n - <span class="hljs-number">2</span>)<br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure>

<p>å¾Œé¢<code>Python</code>çš„è§£æ³•å’Œ<code>JS</code>è§£æ³•å¤§è‡´ç›¸åŒï¼Œåªæœ‰å¯«æ³•ä¸åŒè€Œå·²ï¼š</p>
<h2 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h2><figure class="highlight py"><table><tr><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">def</span> <span class="hljs-title function_">digital_root</span>(<span class="hljs-params">n</span>):<br>    <span class="hljs-keyword">return</span> n <span class="hljs-keyword">if</span> n &lt; <span class="hljs-number">10</span> <span class="hljs-keyword">else</span> digital_root(<span class="hljs-built_in">sum</span>(<span class="hljs-built_in">int</span>(digit) <span class="hljs-keyword">for</span> digit <span class="hljs-keyword">in</span> <span class="hljs-built_in">str</span>(n)))<br></code></pre></td></tr></table></figure>
<figure class="highlight py"><table><tr><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">def</span> <span class="hljs-title function_">digital_root</span>(<span class="hljs-params">n</span>):<br>    <span class="hljs-keyword">return</span> n <span class="hljs-keyword">if</span> n == <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> (n - <span class="hljs-number">1</span>) % <span class="hljs-number">9</span> + <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure>
<figure class="highlight py"><table><tr><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">def</span> <span class="hljs-title function_">digital_root</span>(<span class="hljs-params">n</span>):<br>    <span class="hljs-keyword">if</span> n == <span class="hljs-number">0</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span><br>    <span class="hljs-keyword">elif</span> n % <span class="hljs-number">9</span> == <span class="hljs-number">0</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">9</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">return</span> n % <span class="hljs-number">9</span><br></code></pre></td></tr></table></figure>

<h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">digitalRoot</span>(<span class="hljs-params">n</span>) &#123;<br>    <span class="hljs-keyword">return</span> n &lt; <span class="hljs-number">10</span> ? n : <span class="hljs-title function_">digitalRoot</span>([...n.<span class="hljs-title function_">toString</span>()].<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">sum, digit</span>) =&gt;</span> sum + <span class="hljs-built_in">parseInt</span>(digit), <span class="hljs-number">0</span>));<br>  &#125;<br></code></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">digitalRoot2</span>(<span class="hljs-params">n</span>) &#123;<br>    <span class="hljs-keyword">return</span> n === <span class="hljs-number">0</span> ? <span class="hljs-number">0</span> : (n - <span class="hljs-number">1</span>) % <span class="hljs-number">9</span> + <span class="hljs-number">1</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">digitalRoot</span>(<span class="hljs-params">n</span>) &#123;<br>  <span class="hljs-keyword">switch</span> (<span class="hljs-literal">true</span>) &#123;<br>    <span class="hljs-keyword">case</span> n === <span class="hljs-number">0</span>:<br>      <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">case</span> n % <span class="hljs-number">9</span> === <span class="hljs-number">0</span>:<br>      <span class="hljs-keyword">return</span> <span class="hljs-number">9</span>;<br>    <span class="hljs-attr">default</span>:<br>      <span class="hljs-keyword">return</span> n % <span class="hljs-number">9</span>;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>codewars</category>
      </categories>
      <tags>
        <tag>Ruby</tag>
        <tag>Python</tag>
        <tag>JavaScript</tag>
        <tag>codewars</tag>
        <tag>sum of digits</tag>
        <tag>digital root</tag>
        <tag>éè¿´</tag>
        <tag>recursion</tag>
      </tags>
  </entry>
  <entry>
    <title>Django: 1 - è¨­è¨ˆTable</title>
    <url>/2024/09/15/django-01/</url>
    <content><![CDATA[<img src="/images/django-01/banner.png">

<blockquote>
<p>åœ–ç‰‡ä¾†æº<a href="https://unsplash.com/@brechtcorbeel">Usplash - Brecht Corbeel</a></p>
</blockquote>
<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å­¸äº† Ruby on Rails ä¹‹å¾Œï¼Œæƒ³èªªå†ç¹¼çºŒå­¸å…¶ä»–çš„æ¡†æ¶å’Œèªè¨€ï¼Œé‚£å°±æ±ºå®šæ˜¯æœ€ç†±é–€çš„ Python èªè¨€æ‰€ä»¥ä½¿ç”¨çš„ç¶²é æ¡†æ¶ Django äº† Ù©(^á´—^)Û¶ï¼Œæœ¬ç³»åˆ—æœƒæ˜¯æˆ‘ä»¥åˆéšç¶²é å·¥ç¨‹å¸«çš„è§’åº¦æ‰€å¯«çš„å­¸ç¿’ç­†è¨˜ï¼Œæ­¡è¿ä¸åæŒ‡æ•™ï½</p>
<h2 id="é–‹å•Ÿæ–°å°ˆæ¡ˆ"><a href="#é–‹å•Ÿæ–°å°ˆæ¡ˆ" class="headerlink" title="é–‹å•Ÿæ–°å°ˆæ¡ˆ"></a>é–‹å•Ÿæ–°å°ˆæ¡ˆ</h2><p>å› ç‚º Django ä¸åƒ Rails æœ‰å…§å»ºçš„å¥—ä»¶ç®¡ç†å·¥å…·ï¼Œæ‰€ä»¥æˆ‘ä½¿ç”¨ Poetry åšç‚ºå¥—ä»¶ç®¡ç†å·¥å…·ï¼Œè©³ç´°ä¸‹è¼‰æ•™å­¸å¯ä»¥åƒè€ƒï¼š<a href="https://python-poetry.org/docs/">https://python-poetry.org/docs/</a></p>
<ul>
<li>æ–°å¢è³‡æ–™å¤¾<code>$ mkdir my_project</code></li>
<li>ä½¿ç”¨ vscode é–‹å•Ÿè³‡æ–™å¤¾</li>
<li>æ–°å¢ Â pyproject.tomlÂ  <code>$ poetry init --no-interaction --dependency django</code></li>
<li>å®‰è£ä¾è³´é …ç›® <code>$ poetry install</code></li>
<li>é€²å…¥è™›æ“¬ç’°å¢ƒ <code>$ poetry shell</code></li>
<li>åˆå§‹åŒ–å°ˆæ¡ˆ <code>$ poetry run django-admin startproject project</code></li>
<li>é€²å…¥å°ˆæ¡ˆè³‡æ–™å¤¾ <code>$ cd project</code></li>
<li>è·‘è³‡æ–™åº«é·ç§» <code>$ python manage.py migrate</code></li>
<li>é–‹å•Ÿä¼ºæœå™¨ <code>$ python manage.py runserver</code></li>
</ul>
<h3 id="MVC-v-s-MTV"><a href="#MVC-v-s-MTV" class="headerlink" title="MVC v.s. MTV?"></a>MVC v.s. MTV?</h3><p>åœ¨ Django ä¸æ˜¯æ¡ç”¨ MVC æ¶æ§‹ï¼Œè€Œæ˜¯æ¡ç”¨ MTVï¼Œå·®åˆ¥å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th>MTV</th>
<th>MVC</th>
</tr>
</thead>
<tbody><tr>
<td>Model</td>
<td>Model</td>
</tr>
<tr>
<td>Template</td>
<td>View</td>
</tr>
<tr>
<td>View</td>
<td>Controller</td>
</tr>
</tbody></table>
<p>é—œæ–¼ MVCï¼Œå¯ä»¥åƒè€ƒä¹‹å‰æ‰€å¯«çš„æ–‡ç« ï¼š<a href="https://adora-xu.com/2023/12/02/MVC/">Ruby on Rails: MVC æ˜¯ä»€éº¼?</a></p>
<h2 id="APP"><a href="#APP" class="headerlink" title="APP?"></a>APP?</h2><p>Django å°‡æ•´å€‹ç¶²ç«™åˆ†æˆå¾ˆå¤šæ¨¡å¡Šï¼Œå¯ä»¥æŠŠä¸åŒæ¨¡å¡Šæ•´ç†å‡ºä¾†ï¼Œç¨±ç‚º appï¼Œ<br>åƒæ˜¯å¦‚æœè¦è£½ä½œ blog appï¼Œå¯ä»¥é‹ç”¨æŒ‡ä»¤ç”Ÿæˆï¼š<br><code>$ python manage.py startapp blog</code></p>
<p>é‹è¡ŒæŒ‡ä»¤å¾Œæœƒé•·å‡ºå¾ˆå¤šè³‡æ–™å¤¾ï¼š</p>
<img src="/images/django-01/01.png">

<p>é€™äº›æª”æ¡ˆçš„ç›¸é—œèªªæ˜ï¼š</p>
<table>
<thead>
<tr>
<th>æª”æ¡ˆ</th>
<th>èªªæ˜</th>
</tr>
</thead>
<tbody><tr>
<td>migrations</td>
<td>è³‡æ–™åº«é·ç§»è³‡æ–™</td>
</tr>
<tr>
<td>admin.py</td>
<td>å…§å»ºçš„ admin ç«™é»</td>
</tr>
<tr>
<td>models.py</td>
<td>è³‡æ–™åº«è¨­è¨ˆ</td>
</tr>
<tr>
<td>test.py</td>
<td>æ¸¬è©¦æª”æ¡ˆ</td>
</tr>
<tr>
<td>view.py</td>
<td>MVC çš„ controller</td>
</tr>
</tbody></table>
<p>çœ‹å­—é¢æ„æ€æ‡‰è©²ä¹Ÿä¸é›£çŒœè£¡é¢çš„å…§å®¹ï½</p>
<h2 id="è¨­è¨ˆ-Table"><a href="#è¨­è¨ˆ-Table" class="headerlink" title="è¨­è¨ˆ Table"></a>è¨­è¨ˆ Table</h2><ul>
<li>æ¯å€‹ model éƒ½æ˜¯ä¸€å€‹ Python classï¼Œç¹¼æ‰¿è‡ª Â <a href="https://docs.djangoproject.com/en/5.0/ref/models/instances/#django.db.models.Model">django.db.models.Model</a></li>
<li>æ¨¡å‹çš„æ¯å€‹å±¬æ€§ä»£è¡¨ä¸€å€‹è³‡æ–™åº«æ¬„ä½ã€‚</li>
</ul>
<p><strong><a href="https://docs.djangoproject.com/en/1.8/ref/models/fields/">Model fields</a></strong>Â  å¯ç‚º Django Model å®šç¾©ä¸åŒå‹æ…‹çš„å±¬æ€§ï¼Œæ¯”è¼ƒå¸¸è¦‹çš„æœ‰ï¼š</p>
<table>
<thead>
<tr>
<th>é¡å‹</th>
<th>èªªæ˜</th>
</tr>
</thead>
<tbody><tr>
<td>CharField</td>
<td>å­—ä¸²æ¬„ä½ï¼Œé©åˆåƒ titleã€location é€™ç¨®æœ‰é•·åº¦é™åˆ¶çš„å­—ä¸²ã€‚</td>
</tr>
<tr>
<td>TextField</td>
<td>é©åˆæ”¾å¤§é‡æ–‡å­—çš„æ¬„ä½</td>
</tr>
<tr>
<td>URLField</td>
<td>URL è¨­è¨ˆçš„æ¬„ä½</td>
</tr>
<tr>
<td>DateTimeField</td>
<td>æ—¥æœŸèˆ‡æ™‚é–“çš„æ¬„ä½ï¼Œä½¿ç”¨æ™‚æœƒè½‰æˆ Python datetime å‹åˆ¥ã€‚</td>
</tr>
</tbody></table>
<p>ç•¶ç„¶ä¸åªä»¥ä¸Šé€™äº›å±¬æ€§ï¼Œé‚„æœ‰æ›´å¤šå±¬æ€§å¯ä»¥åƒè€ƒï¼š<a href="https://docs.djangoproject.com/en/5.0/topics/db/models/">Django docs</a></p>
<p>ç†è§£åŸºæœ¬è§€å¿µä¹‹å¾Œï¼Œå°±å¯ä»¥ä¾†è¨­è¨ˆæˆ‘å€‘çš„ Table äº†ï½</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># project/blog/models.py</span><br><span class="hljs-keyword">from</span> django.db <span class="hljs-keyword">import</span> models <span class="hljs-comment"># å°å…¥Django.dbçš„model</span><br><span class="hljs-keyword">from</span> django.utils <span class="hljs-keyword">import</span> timezone <span class="hljs-comment"># å°å…¥Djangoæ™‚å€å·¥å…·</span><br><span class="hljs-keyword">from</span> django.contrib.auth.models <span class="hljs-keyword">import</span> User <span class="hljs-comment">#å°å…¥Djangoé»˜èªçš„User Model</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Post</span>(models.Model): <span class="hljs-comment"># å®šç¾©ä¸€å€‹Postçš„model classï¼Œç¹¼æ‰¿è‡ª(models.Model)</span><br><br>    STATS_OPTIONS = (<br>        (<span class="hljs-string">&#x27;draft&#x27;</span>, <span class="hljs-string">&#x27;Draft&#x27;</span>),<br>        (<span class="hljs-string">&#x27;published&#x27;</span>, <span class="hljs-string">&#x27;Published&#x27;</span>),<br>    )<br><br>    title = models.CharField(max_length=<span class="hljs-number">200</span>)<br>    author = models.ForeignKey(<br>        User,<br>        on_delete=models.CASCADE,<br>        related_name=<span class="hljs-string">&#x27;blog_posts&#x27;</span>,<br>        )<br><br>    body = models.TextField()<br>    published_date = models.DateTimeField(default=timezone.now)<br>    created_date = models.DateTimeField(auto_now_add=<span class="hljs-literal">True</span>)<br>    updated_date = models.DateTimeField(auto_now=<span class="hljs-literal">True</span>)<br>    status = models.CharField(<br>        max_length=<span class="hljs-number">10</span>,<br>        choices=STATS_OPTIONS,<br>        default=<span class="hljs-string">&#x27;draft&#x27;</span>)<br><br>    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Meta</span>:<br>        ordering = (<span class="hljs-string">&#x27;-published_date&#x27;</span>,)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__str__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> self.title<br></code></pre></td></tr></table></figure>

<p>ä¸Šé¢å…§å®¹æ‰€ä»£è¡¨çš„æ„æ€ï¼š<br><img src="/images/django-01/03.png"></p>
<p>æ•¸æ“šåº«è¨­è¨ˆå¥½å¾Œï¼Œè¦å’Œ Django èªªï¼Œæˆ‘å€‘æœ‰ä¸€å€‹ blog çš„ appï¼Œéœ€è¦åœ¨æ•¸æ“šåº«é€²è¡Œåˆå§‹åŒ–ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># project/project/settings.py</span><br>INSTALLED_APPS = [<br>    <span class="hljs-string">&#x27;django.contrib.admin&#x27;</span>,<br>    <span class="hljs-string">&#x27;django.contrib.auth&#x27;</span>,<br>    <span class="hljs-string">&#x27;django.contrib.contenttypes&#x27;</span>,<br>    <span class="hljs-string">&#x27;django.contrib.sessions&#x27;</span>,<br>    <span class="hljs-string">&#x27;django.contrib.messages&#x27;</span>,<br>    <span class="hljs-string">&#x27;django.contrib.staticfiles&#x27;</span>,<br>    <span class="hljs-string">&#x27;blog.apps.BlogConfig&#x27;</span>, <span class="hljs-comment"># æ·»åŠ é€™è¡Œ</span><br>]<br></code></pre></td></tr></table></figure>

<p>æ·»åŠ å®Œæˆä¹‹å¾Œå°±å¯ä»¥é‹è¡Œ <code>$ python manage.py makemigrations blog</code><br>ç”Ÿæˆæˆ‘å€‘çš„ Table å•¦ï½</p>
<p>è¼¸å…¥å®Œæˆå¾Œæœƒå‡ºç¾ä»¥ä¸‹æ–‡å­—ï¼š</p>
<blockquote>
<p>blog&#x2F;migrations&#x2F;0001_initial.py</p>
</blockquote>
<pre><code>- Create model Post
</code></pre>
<blockquote>
</blockquote>
<p>blog&#x2F;migrations è³‡æ–™å¤¾ç”Ÿæˆ<code>0001_initial.py</code>æ–‡ä»¶ï¼Œé€™å€‹æª”æ¡ˆåˆ°åº•æ˜¯ä»€éº¼æ±è¥¿å‘¢ï¼Ÿ(Â´ï½¥Ï‰ï½¥&#96;) ï¼Ÿ åˆåšäº†ä»€éº¼äº‹å‘¢ï¼Ÿ</p>
<p>æƒ³çŸ¥é“çš„è©±ï¼Œå¯ä»¥é€éä»¥ä¸‹å‘½ä»¤ï¼ŒæŸ¥çœ‹é€™è£¡åŸ·è¡Œçš„ SQL èªæ³•ï¼Œé€™æ¨£å°±æ›´ä¸€ç›®äº†ç„¶äº† Ù©(à¹‘â›á´—â›à¹‘)Û¶ï¼š</p>
<p><code>$ python manage.py sqlmigrate blog 0001</code></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">BEGIN</span>;<br><span class="hljs-comment">--</span><br><span class="hljs-comment">-- Create model Post</span><br><span class="hljs-comment">--</span><br><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> &quot;blog_post&quot; (&quot;id&quot; <span class="hljs-type">integer</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">PRIMARY</span> KEY AUTOINCREMENT, &quot;title&quot; <span class="hljs-type">varchar</span>(<span class="hljs-number">200</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>, &quot;body&quot; text <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>, &quot;published_date&quot; datetime <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>, &quot;created_date&quot; datetime <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>, &quot;updated_date&quot; datetime <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>, &quot;status&quot; <span class="hljs-type">varchar</span>(<span class="hljs-number">10</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>, &quot;author_id&quot; <span class="hljs-type">integer</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">REFERENCES</span> &quot;auth_user&quot; (&quot;id&quot;) DEFERRABLE INITIALLY DEFERRED);<br><span class="hljs-keyword">CREATE</span> INDEX &quot;blog_post_author_id_dd7a8485&quot; <span class="hljs-keyword">ON</span> &quot;blog_post&quot; (&quot;author_id&quot;);<br><span class="hljs-keyword">COMMIT</span>;<br></code></pre></td></tr></table></figure>

<p>å¯ä»¥å¾æŒ‡ä»¤ä¸­çœ‹å‡ºï¼Œæˆ‘å€‘æ–°å¢äº†ä¸€å¼µåç¨±ç‚º<code>blog_post</code>çš„ Tableï¼Œå¦å¤–ä¹Ÿæ–°å»ºäº†æˆ‘å€‘åœ¨ä¸Šé¢æ‰€å¡«å¯«çš„æ¬„ä½ï¼Œè€Œé è¨­æ¬„ä½éƒ½æ˜¯<code>NOT NULL</code>ã€‚</p>
<p>Django å’Œ Rails ä¸€æ¨£éƒ½ä½¿ç”¨ ORMï¼Œæˆ‘å€‘å°±ä¸ç”¨ç‰¹åœ°ä½¿ç”¨ SQL èªæ³•ä¾†æ“ä½œè³‡æ–™åº«äº†ï½</p>
<p>æœ€å¾Œå¯ä»¥åŸ·è¡Œ<code>$ python manage.py migrate</code><br>å°±å®Œæˆäº† Table çš„å»ºç«‹äº†ï¼</p>
<h2 id="æ·»åŠ æ–°æ¬„ä½"><a href="#æ·»åŠ æ–°æ¬„ä½" class="headerlink" title="æ·»åŠ æ–°æ¬„ä½"></a>æ·»åŠ æ–°æ¬„ä½</h2><p>åšåˆ°å¾Œé¢ç™¼ç¾å¿˜è¨˜åŠ  slugï¼Œè¦æ€éº¼å¢åŠ å‘¢ï¼Ÿ<br>ä¸€æ¨£åˆ°å»ºç«‹ Model çš„<code>blog/models.py</code> ï¼Œåœ¨å‰›å‰›æ–°å¢çš„<code>Class Post</code>å…§æ–°å¢ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#my_project/project/blog/models.py</span><br>slug = models.SlugField(max_length=<span class="hljs-number">200</span>, unique=<span class="hljs-literal">True</span>, blank=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure>

<p>æ¥è‘—é‹è¡Œ <code>$ python manage.py makemigrations blog</code></p>
<p>æœ€å¾Œé‹è¡Œ<code>$ python manage.py migrate</code></p>
<p>å°±å®Œæˆäº†æ–°å¢ï½æ²’æƒ³åˆ°å…‰æ–°å¢ Table å°±å¯«äº†ä¸€å¤§ç¯‡(Â´ï½¥Ï‰ï½¥&#96;)ï¼Œå‰©ä¸‹çš„å°±ç•™åˆ°ä¸‹ä¸€æ¬¡åˆ†äº«äº†ï½<br>æœ¬ç¯‡æ–‡ç« æ˜¯æˆ‘ç”±ä»¥ä¸‹åƒè€ƒè³‡æ–™æ•´ç†è€Œæˆï¼Œå¦‚æœæ‚¨æœ‰èˆˆè¶£äº†è§£æ›´å¤šï¼Œè«‹åƒè€ƒï¼š</p>
<h3 id="åƒè€ƒè³‡æ–™ï¼š"><a href="#åƒè€ƒè³‡æ–™ï¼š" class="headerlink" title="åƒè€ƒè³‡æ–™ï¼š"></a>åƒè€ƒè³‡æ–™ï¼š</h3><blockquote>
<p><a href="https://docs.djangoproject.com/en/5.0/topics/db/models/">Django docs</a></p>
</blockquote>
<blockquote>
<p><a href="%5Bhttps://djangogirlstaipei.gitbooks.io/django-girls-taipei-tutorial/content/django/models.html%5D(https://djangogirlstaipei.gitbooks.io/django-girls-taipei-tutorial/content/django/models.html)">Django Girl</a></p>
</blockquote>
<blockquote>
<p><a href="%5Bhttps://www.udemy.com/course/django-2-web/learn/lecture/14381524#overview%5D(https://www.udemy.com/course/django-2-web/)">Udemy - Django 2 Web é–‹ç™¼å…¥é–€èˆ‡å¯¦è¸</a></p>
</blockquote>
]]></content>
      <categories>
        <category>Django</category>
      </categories>
      <tags>
        <tag>Django</tag>
        <tag>Python</tag>
        <tag>MTV</tag>
      </tags>
  </entry>
  <entry>
    <title>Django : 7 - å¢åŠ è©•è«–åŠŸèƒ½</title>
    <url>/2024/05/15/django-add-comment/</url>
    <content><![CDATA[<p>æ–‡ç« å»ºç«‹å¥½å¾Œï¼Œä¹Ÿä¾†å¢åŠ è©•è«–è¡¨å–®ï¼Œè®“ä½¿ç”¨è€…å¯ä»¥ç•™è¨€å§ï½</p>
<h2 id="å¢åŠ -comment-model"><a href="#å¢åŠ -comment-model" class="headerlink" title="å¢åŠ  comment model"></a>å¢åŠ  comment model</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Comment</span>(models.Model):<br>    post = models.ForeignKey( <span class="hljs-comment">#å¢åŠ ForeignKeyï¼Œè®“ä»–å’Œpostæœ‰é—œè¯</span><br>        Post,<br>        on_delete=models.CASCADE, <span class="hljs-comment">#postè¢«åˆªé™¤ï¼Œé—œè¯çš„commentä¹Ÿæœƒè¢«åˆªé™¤</span><br>        related_name=<span class="hljs-string">&#x27;comments&#x27;</span>,<br>    )<br>    username = models.CharField(max_length=<span class="hljs-number">80</span>)<br>    email = models.EmailField()<br>    body = models.TextField()<br>    created = models.DateTimeField(auto_now_add=<span class="hljs-literal">True</span>)<br>    updated = models.DateTimeField(auto_now=<span class="hljs-literal">True</span>)<br>    active = models.BooleanField(default=<span class="hljs-literal">True</span>) <span class="hljs-comment">#æ˜¯å¦é¡¯ç¤º</span><br><br>    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Meta</span>:<br>        ordering = (<span class="hljs-string">&#x27;-created&#x27;</span>,)<span class="hljs-comment">#æ’åºè¦å‰‡ï¼Œæ–°çš„åœ¨ä¸Šé¢</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__str__</span>(<span class="hljs-params">self</span>): <span class="hljs-comment">#debugçš„æ™‚å€™ï¼Œå¯ä»¥å°å‡ºä¾†çš„æ ¼å¼</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;Comment by &#123;&#125; on &#123;&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(self.username, self.post)<br></code></pre></td></tr></table></figure>

<p><code>$ poetry run python manage.py makemigrations blog</code></p>
<img src="/images/django-add-comment/0.png">

<p><code>$ poetry run python manage.py migrate</code></p>
<img src="/images/django-add-comment/1.png">

<p>å¯ä»¥çœ‹åˆ° DB è£¡ blog_comment çš„ Table å»ºç«‹å¥½äº†</p>
<img src="/images/django-add-comment/2.png">

<h2 id="æ›´æ–°-Admin-ä»‹é¢"><a href="#æ›´æ–°-Admin-ä»‹é¢" class="headerlink" title="æ›´æ–° Admin ä»‹é¢"></a>æ›´æ–° Admin ä»‹é¢</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> django.contrib <span class="hljs-keyword">import</span> admin<br><span class="hljs-keyword">from</span> .models <span class="hljs-keyword">import</span> Post, Comment <span class="hljs-comment">#æ–°å¢é€™è¡Œ</span><br><br><span class="hljs-comment">#...å…¶ä»–ç¨‹å¼</span><br><br><span class="hljs-comment">#æ–°å¢ä»¥ä¸‹</span><br><span class="hljs-meta">@admin.register(<span class="hljs-params">Comment</span>)</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">CommentAdmin</span>(admin.ModelAdmin):<br>    list_display = (<span class="hljs-string">&#x27;name&#x27;</span>, <span class="hljs-string">&#x27;email&#x27;</span>, <span class="hljs-string">&#x27;post&#x27;</span>, <span class="hljs-string">&#x27;created&#x27;</span>, <span class="hljs-string">&#x27;active&#x27;</span>)<br>    list_filter = (<span class="hljs-string">&#x27;active&#x27;</span>, <span class="hljs-string">&#x27;created&#x27;</span>, <span class="hljs-string">&#x27;updated&#x27;</span>)<br>    search_fields = (<span class="hljs-string">&#x27;name&#x27;</span>, <span class="hljs-string">&#x27;email&#x27;</span>, <span class="hljs-string">&#x27;body&#x27;</span>)<br></code></pre></td></tr></table></figure>

<p>å¾Œå°å°±å¯ä»¥çœ‹åˆ°æ›´æ–°å¾Œçš„ admin ä»‹é¢</p>
<img src="/images/django-add-comment/3.png">

<h2 id="é€é-ORM-æ“ä½œ"><a href="#é€é-ORM-æ“ä½œ" class="headerlink" title="é€é ORM æ“ä½œ"></a>é€é ORM æ“ä½œ</h2><figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">$ python manage.py shell<br>$ from blog.models import Post, Comment<br>$ post = Post.objects.all()<br></code></pre></td></tr></table></figure>

<p>ä¾†çœ‹ä¸€ä¸‹ç›®å‰ post æ˜¯ä»€éº¼ï¼š</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">&gt;&gt;&gt; post<br>&lt;QuerySet [&lt;Post: Lorem Ipsum2&gt;, &lt;Post: Lorem Ipsum&gt;, &lt;Post: created from shell&gt;, &lt;Post: hi&gt;]&gt;<br></code></pre></td></tr></table></figure>

<p>åœ¨æœ€å¾Œä¸€ç¯‡ post æ–°å¢è©•è«–</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">&gt;&gt;&gt; from blog.models import Post, Comment<br>&gt;&gt;&gt; post = Post.objects.all()<br>&gt;&gt;&gt; post<br>&lt;QuerySet [&lt;Post: Lorem Ipsum2&gt;, &lt;Post: Lorem Ipsum&gt;, &lt;Post: created from shell&gt;, &lt;Post: hi&gt;]&gt;<br>&gt;&gt;&gt; post = post.last()<br>&gt;&gt;&gt; post<br>&lt;Post: hi&gt;<br>&gt;&gt;&gt; com = Comment(post=post, username=<span class="hljs-string">&#x27;text&#x27;</span>, email=<span class="hljs-string">&#x27;text@gmail.com&#x27;</span>, body=<span class="hljs-string">&#x27;here is a comment from shell&#x27;</span>)<br>&gt;&gt;&gt; com.save()<br>&gt;&gt;&gt; com<br>&lt;Comment: Comment by text on hi&gt;<br></code></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥é€é<code>.filter(id=).first()</code>æ‰¾åˆ°æƒ³è¦æ–°å¢çš„æ–‡ç« </p>
<p>å…ˆä½¿ç”¨ for å¾ªç’°å°å‡ºæ‰€æœ‰æ–‡ç« çš„ idï¼Œåœ¨ä½¿ç”¨ filter æ‰¾æŒ‡å®šçš„æ–‡ç« </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">&gt;&gt;&gt; post = Post.objects.all()<br>&gt;&gt;&gt; <span class="hljs-keyword">for</span> p <span class="hljs-keyword">in</span> post:<br>...     <span class="hljs-built_in">print</span>(p.id)<br>...<br>7<br>6<br>5<br>3<br>&gt;&gt;&gt; post = Post.objects.filter(<span class="hljs-built_in">id</span>=5).first()<br>&gt;&gt;&gt; com = Comment(post=post,username=<span class="hljs-string">&#x27;Amy&#x27;</span>,email=<span class="hljs-string">&#x27;Amy@gmail.com&#x27;</span>,body=<span class="hljs-string">&#x27;this is comment from Amy&#x27;</span>)<br>&gt;&gt;&gt; com.save()<br>&gt;&gt;&gt; com<br>&lt;Comment: Comment by Amy on created from shell&gt;<br></code></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥çœ‹åˆ° DB çš„ blog_comment Table è£¡é¢æœ‰è³‡æ–™ï¼š</p>
<img src="/images/django-add-comment/4.png">

<p>å¯ä»¥å¾ post èª¿å‡º comments</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">&gt;&gt;&gt; post = Post.objects.filter(<span class="hljs-built_in">id</span>=5).first()<br>&gt;&gt;&gt; post.comments.all()<br>&lt;QuerySet [&lt;Comment: Comment by Amy on created from shell&gt;]&gt;<br>&gt;&gt;&gt; <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> post.comments.all():<br>...     <span class="hljs-built_in">print</span>(c)<br>...<br>Comment by Amy on created from shell<br></code></pre></td></tr></table></figure>

<h2 id="å°‡é »è«–æ”¾åˆ°-blog-å‰å°"><a href="#å°‡é »è«–æ”¾åˆ°-blog-å‰å°" class="headerlink" title="å°‡é »è«–æ”¾åˆ° blog å‰å°"></a>å°‡é »è«–æ”¾åˆ° blog å‰å°</h2><figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#project/blog/templates/blog/detail.html</span><br>&#123;% block content %&#125;<br>    &lt;h1&gt;&#123;&#123; post.title &#125;&#125;&lt;/h1&gt;<br>    &lt;p&gt;Published &#123;&#123; post.published_date &#125;&#125; by &#123;&#123; post.author &#125;&#125;&lt;/p&gt;<br>    &#123;&#123; post.body|linebreaks &#125;&#125;<br><br>    &#123;% with post.comments.count as total_comments %&#125;<br>        &lt;h2&gt;&#123;&#123; total_comments &#125;&#125; comment&#123;&#123; total_comments|pluralize &#125;&#125;&lt;/h2&gt;<br>    &#123;% endwith %&#125;<br><br>    &#123;% <span class="hljs-keyword">for</span> comment <span class="hljs-keyword">in</span> post.comments.all %&#125;<br>        &lt;div&gt;<br>            &lt;p&gt;Comment by &#123;&#123; comment.username &#125;&#125;&#123;&#123; comment.created &#125;&#125;&lt;/p&gt;<br>            &#123;&#123; comment.body|linebreaks &#125;&#125;<br>        &lt;/div&gt;<br>    &#123;% empty %&#125;<br>        &lt;p&gt;There are no comments yet.&lt;/p&gt;<br>    &#123;% endfor %&#125;<br>&#123;% endblock %&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li><code>comment&#123;&#123; total_comments|pluralize &#125;&#125;</code>ï¼šå¦‚æœæ˜¯è¤‡æ•¸å°±æœƒ+s</li>
<li><code>&#123;% for comment in post.comments.all %&#125;</code> ï¼šä½¿ç”¨ for å¾ªç’°å¸¶å‡ºæ‰€æœ‰çš„è©•è«–</li>
<li><code>&#123;% empty %&#125;</code> ï¼šå¦‚æœæ²’æœ‰é »è«–å°±é¡¯ç¤º <code>&lt;p&gt;There are no comments yet.&lt;/p&gt;</code></li>
</ul>
<p>åšåˆ°é€™æ­¥é©Ÿï¼Œå‰å°çœ‹èµ·ä¾†å°±æœƒåƒé€™æ¨£ï¼Œè©•è«–é¡¯ç¤ºåœ¨æ–‡ç« çš„ä¸‹æ–¹</p>
<img src="/images/django-add-comment/5.png">

<img src="/images/django-add-comment/6.png">

<h2 id="ä½¿ç”¨è€…è¼¸å…¥è¡¨å–®-form"><a href="#ä½¿ç”¨è€…è¼¸å…¥è¡¨å–®-form" class="headerlink" title="ä½¿ç”¨è€…è¼¸å…¥è¡¨å–®(form)"></a>ä½¿ç”¨è€…è¼¸å…¥è¡¨å–®(form)</h2><p>ä¾†å»ºç«‹ä¸€å€‹è¡¨å–®è®“ä½¿ç”¨è€…å¯ä»¥è¼¸å…¥è©•è«–å…§å®¹</p>
<h2 id="èˆ‡-model-é—œè¯"><a href="#èˆ‡-model-é—œè¯" class="headerlink" title="èˆ‡ model é—œè¯"></a>èˆ‡ model é—œè¯</h2><figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># project/blog/forms.py</span><br>from django import froms<br>from .models import Comment<br><br>class CommentForm(froms.ModelForm):<br>    class Meta:<br>        model = Comment <span class="hljs-comment">#èˆ‡DBçš„Comment Modelé—œè¯</span><br>        fields = (<span class="hljs-string">&#x27;name&#x27;</span>, <span class="hljs-string">&#x27;email&#x27;</span>, <span class="hljs-string">&#x27;body&#x27;</span>) <span class="hljs-comment">#å‚³é€²ä¾†çš„è³‡æ–™</span><br></code></pre></td></tr></table></figure>

<p>é€™æ­¥ä¸»è¦æ˜¯èƒ½è®“å‰å°å‚³çš„è³‡æ–™èˆ‡ DB é—œè¯</p>
<h2 id="ç·¨è¼¯-viewsï¼Œä»¥æ§åˆ¶è¡¨å–®è¦å‚³éçš„å…§å®¹"><a href="#ç·¨è¼¯-viewsï¼Œä»¥æ§åˆ¶è¡¨å–®è¦å‚³éçš„å…§å®¹" class="headerlink" title="ç·¨è¼¯ viewsï¼Œä»¥æ§åˆ¶è¡¨å–®è¦å‚³éçš„å…§å®¹"></a>ç·¨è¼¯ viewsï¼Œä»¥æ§åˆ¶è¡¨å–®è¦å‚³éçš„å…§å®¹</h2><figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># project/blog/views.py</span><br>def detail(request, year, month, day, slug):<br><span class="hljs-comment">#... å…¶ä»–ç¨‹å¼</span><br><br>    <span class="hljs-comment"># List of active comments for this post</span><br>    comments = post.comments.filter(active=True) <span class="hljs-comment">#éæ¿¾å‡ºæ‰€æœ‰activeçš„comment</span><br>    new_comment = None<br>    <span class="hljs-keyword">if</span> request.method == <span class="hljs-string">&#x27;POST&#x27;</span>: <span class="hljs-comment">#å¦‚æœè¡¨å–®ç™¼é€postè«‹æ±‚</span><br>        comment_form = CommentForm(data=request.POST) <span class="hljs-comment"># è®€å–formæ•¸æ“šï¼Œç”¢ç”Ÿcomment_formå°è±¡</span><br>        <span class="hljs-keyword">if</span> comment_form.is_valid(): <span class="hljs-comment">#é©—è­‰æ˜¯å¦æ­£ç¢º</span><br>            new_comment = comment_form.save(commit=False) <span class="hljs-comment">#æ–°å»ºä¸€å€‹new_commentå°è±¡</span><br>            new_comment.post = post<br>            new_comment.save()<br>    <span class="hljs-keyword">else</span>:<br>        comment_form = CommentForm() <span class="hljs-comment">#å¦‚æœä¸æ˜¯post æ˜¯getï¼Œå°±åšä¸€å€‹formçš„é¡¯ç¤º</span><br><br>    <span class="hljs-built_in">return</span> render( <span class="hljs-comment"># return Template</span><br>        request,<br>        <span class="hljs-string">&#x27;blog/detail.html&#x27;</span>,<br>        &#123;<span class="hljs-string">&#x27;post&#x27;</span>: post,<br>         <span class="hljs-string">&#x27;comments&#x27;</span>: comments, <span class="hljs-comment"># å‚³écommentçš„è³‡æ–™åˆ°template</span><br>         <span class="hljs-string">&#x27;new_comment&#x27;</span>: new_comment,<br>         <span class="hljs-string">&#x27;comment_form&#x27;</span>: comment_form<br>         &#125;<br>    )<br><br><span class="hljs-comment">#... å…¶ä»–ç¨‹å¼</span><br><br></code></pre></td></tr></table></figure>

<h2 id="ç·¨è¼¯å‰å°é¡¯ç¤ºç•«é¢"><a href="#ç·¨è¼¯å‰å°é¡¯ç¤ºç•«é¢" class="headerlink" title="ç·¨è¼¯å‰å°é¡¯ç¤ºç•«é¢"></a>ç·¨è¼¯å‰å°é¡¯ç¤ºç•«é¢</h2><figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-comment">#project/blog/templates/blog/detail.html</span><br><br><span class="hljs-comment">#...å…¶ä»–ç¨‹å¼</span><br>    &#123;% <span class="hljs-keyword">if</span> new_comment %&#125;<br>    &lt;h2&gt;<span class="hljs-title class_">Your</span> comment has been added.&lt;<span class="hljs-regexp">/h2&gt;</span><br><span class="hljs-regexp">    &#123;% else %&#125;</span><br><span class="hljs-regexp">    &lt;h3&gt;&lt;a name=&quot;commentform&quot;&gt;&lt;/a</span>&gt;<span class="hljs-title class_">Leave</span> a <span class="hljs-title class_">Comment</span>&lt;<span class="hljs-regexp">/h3&gt;</span><br><span class="hljs-regexp">    &lt;form action=&quot;#commentform&quot; method=&quot;post&quot;&gt;</span><br><span class="hljs-regexp">        &#123;&#123; comment_form.as_p &#125;&#125;</span><br><span class="hljs-regexp">        &#123;% csrf_token %&#125;</span><br><span class="hljs-regexp">        &lt;p&gt;&lt;input type=&quot;submit&quot; value=&quot;Add comment&quot;&gt;&lt;/p</span>&gt;<br>    &lt;<span class="hljs-regexp">/form&gt;</span><br><span class="hljs-regexp">    &#123;% endif %&#125;</span><br><span class="hljs-regexp"></span><br><span class="hljs-regexp">#...å…¶ä»–ç¨‹å¼</span><br></code></pre></td></tr></table></figure>

<ul>
<li><code>&#123;&#123; *comment_form*.*as_p* &#125;&#125;ï¼š</code>é¡¯ç¤ºæ–‡å­—æœƒç”¨ html çš„<p>â€¦<p>åŒ…ä½</li>
<li><code>&#123;% csrf_token %&#125;</code>ï¼šé˜²æ­¢ corss site æ”»æ“Š</li>
</ul>
<p>ä»¥ä¸Šéƒ½åšå¥½å¾Œï¼ŒæŒ‰å³éµæŸ¥çœ‹åŸå§‹ç¢¼å¯ä»¥çœ‹åˆ°ï¼ŒDjango å¹«æˆ‘å€‘åšäº†ä¸€å€‹ form</p>
<img src="/images/django-add-comment/7.png">

<p>å‰å°ä¹Ÿèƒ½å¤ é †åˆ©ä½¿ç”¨è¡¨å–®æ–°å¢ç•™è¨€äº†ï½</p>
<img src="/images/django-add-comment/8.png">

<p>æœ¬ç¯‡æ–‡ç« æ˜¯æˆ‘ç”±ä»¥ä¸‹åƒè€ƒè³‡æ–™æ•´ç†è€Œæˆï¼Œå¦‚æœæ‚¨æœ‰èˆˆè¶£äº†è§£æ›´å¤šï¼Œè«‹åƒè€ƒï¼š</p>
<h3 id="åƒè€ƒè³‡æ–™ï¼š"><a href="#åƒè€ƒè³‡æ–™ï¼š" class="headerlink" title="åƒè€ƒè³‡æ–™ï¼š"></a>åƒè€ƒè³‡æ–™ï¼š</h3><blockquote>
<p><a href="https://docs.djangoproject.com/en/5.0/topics/forms/">Django Docs - Working with forms</a></p>
</blockquote>
<blockquote>
<p><a href="https://www.udemy.com/course/django-2-web/">Django 2 Web å¼€å‘å…¥é—¨ä¸å®æˆ˜</a></p>
</blockquote>
]]></content>
      <categories>
        <category>Django</category>
      </categories>
      <tags>
        <tag>Django</tag>
        <tag>Python</tag>
        <tag>form</tag>
        <tag>comment</tag>
      </tags>
  </entry>
  <entry>
    <title>Django: 2 - admin site</title>
    <url>/2024/04/23/django-admin-site/</url>
    <content><![CDATA[<h2 id="admin-ç«™é»ä½¿ç”¨"><a href="#admin-ç«™é»ä½¿ç”¨" class="headerlink" title="admin ç«™é»ä½¿ç”¨"></a>admin ç«™é»ä½¿ç”¨</h2><p>Django æœ‰å…§å»º Admin Siteï¼Œè®“é–‹ç™¼è€…å¯ä»¥è¼•é¬†ç®¡ç†è³‡æ–™ã€‚<br>åŸæœ¬æ–°å»ºå°ˆæ¡ˆçš„æ™‚å€™é‚„åœ¨ç–‘æƒ‘ï¼Œç‚ºä»€éº¼ DB è£¡é¢å·²ç¶“æœ‰é€™éº¼å¤š Tableï¼ŒåŸä¾†æ˜¯çµ¦å…§å»ºçš„ admin ä½¿ç”¨çš„ã€‚</p>
<p>è¦æ€éº¼é€²å» admin å‘¢ï¼Ÿ<br>åŸ·è¡Œ<code>$ python manage.py runserver</code>æ™‚ï¼Œåœ¨ç¶²å€æœ€å¾Œé¢è¼¸å…¥<code>/admin</code>å°±èƒ½å¤ çœ‹åˆ°ç™»å…¥ä»‹é¢ï¼š</p>
<img src="/images/django-admin-site/0.png">

<h2 id="å‰µå»ºå¸³è™Ÿå¯†ç¢¼"><a href="#å‰µå»ºå¸³è™Ÿå¯†ç¢¼" class="headerlink" title="å‰µå»ºå¸³è™Ÿå¯†ç¢¼"></a>å‰µå»ºå¸³è™Ÿå¯†ç¢¼</h2><p>åœ¨çµ‚ç«¯æ©Ÿè¼¸å…¥å°±å¯ä»¥è¨­å®š admin çš„å¸³è™Ÿå¯†ç¢¼ï¼š<br><code>$ python manage.py createsuperuser</code></p>
<h2 id="ç™»å…¥å¸³è™Ÿå¯†ç¢¼"><a href="#ç™»å…¥å¸³è™Ÿå¯†ç¢¼" class="headerlink" title="ç™»å…¥å¸³è™Ÿå¯†ç¢¼"></a>ç™»å…¥å¸³è™Ÿå¯†ç¢¼</h2><p>å›åˆ°å‰›å‰›çš„ <code>/admin</code> å°±å¯ä»¥çœ‹åˆ°é è¨­çš„ Table äº†</p>
<img src="/images/django-admin-site/1.png">

<p>å’¦ï¼Œé‚£æ˜¨å¤©åšçš„ POST å‘¢ï¼Ÿéœ€è¦æ‰‹å‹•åŠ å…¥</p>
<h2 id="æŠŠ-POST-åŠ é€²å»-admin-è£¡"><a href="#æŠŠ-POST-åŠ é€²å»-admin-è£¡" class="headerlink" title="æŠŠ POST åŠ é€²å» admin è£¡"></a>æŠŠ POST åŠ é€²å» admin è£¡</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># project/blog/admin.py</span><br><br><span class="hljs-keyword">from</span> django.contrib <span class="hljs-keyword">import</span> admin<br><span class="hljs-keyword">from</span> .models <span class="hljs-keyword">import</span> Post<br><br><span class="hljs-meta">@admin.register(<span class="hljs-params">Post</span>)</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">PostAdmin</span>(admin.ModelAdmin):<br>    <span class="hljs-keyword">pass</span><br><br></code></pre></td></tr></table></figure>

<p>é€™æ™‚å°±èƒ½çœ‹åˆ° POST</p>
<img src="/images/django-admin-site/2.png">

<p>é»æ“Š Postsï¼Œå¯ä»¥çœ‹åˆ°æ–‡ç« åˆ—è¡¨</p>
<img src="/images/django-admin-site/3.png">

<p>å¯ä»¥æŒ‰å³ä¸Šè§’çš„ ADD POST å¢åŠ è³‡æ–™</p>
<img src="/images/django-admin-site/4.png">

<h2 id="è‡ªå®šç¾©-admin-é¡¯ç¤ºè³‡æ–™"><a href="#è‡ªå®šç¾©-admin-é¡¯ç¤ºè³‡æ–™" class="headerlink" title="è‡ªå®šç¾© admin é¡¯ç¤ºè³‡æ–™"></a>è‡ªå®šç¾© admin é¡¯ç¤ºè³‡æ–™</h2><p>Django ä¹Ÿæä¾›äº†å¾ˆå¤šè‡ªå®šç¾©</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># project/blog/admin.py</span><br><br><span class="hljs-keyword">from</span> django.contrib <span class="hljs-keyword">import</span> admin<br><span class="hljs-keyword">from</span> .models <span class="hljs-keyword">import</span> Post<br><br><span class="hljs-meta">@admin.register(<span class="hljs-params">Post</span>)</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">PostAdmin</span>(admin.ModelAdmin):<br>    list_display = (<span class="hljs-string">&#x27;title&#x27;</span>, <span class="hljs-string">&#x27;slug&#x27;</span>,<span class="hljs-string">&#x27;author&#x27;</span>, <span class="hljs-string">&#x27;published_date&#x27;</span>) <span class="hljs-comment"># é¡¯ç¤ºæ¬„ä½</span><br>    list_filter = (<span class="hljs-string">&#x27;author&#x27;</span>, <span class="hljs-string">&#x27;published_date&#x27;</span>) <span class="hljs-comment"># æŒ‰ç…§ä½œè€… or ç™¼ä½ˆæ—¥æœŸç¯©é¸æ–‡ç« </span><br>    search_fields = (<span class="hljs-string">&#x27;title&#x27;</span>, <span class="hljs-string">&#x27;body&#x27;</span>) <span class="hljs-comment"># æœå°‹</span><br>    prepopulated_fields = &#123;<span class="hljs-string">&#x27;slug&#x27;</span>: (<span class="hljs-string">&#x27;title&#x27;</span>,)&#125; <span class="hljs-comment"># è‡ªå‹•å¡«å¯«ï¼šè¼¸å…¥titleæ™‚è‡ªå‹•å¡«å¯«slug</span><br><br></code></pre></td></tr></table></figure>

<p>é—œæ–¼æ›´å¤šå®¢è£½åŒ–ï¼Œå¯ä»¥åƒè€ƒï¼š<a href="https://docs.djangoproject.com/en/5.0/ref/contrib/admin/">django docs - admin</a></p>
<p>é€™æ™‚çœ‹æˆ‘å€‘çš„ POST å°±æ›´è±å¯Œäº†ï¼š</p>
<img src="/images/django-admin-site/5.png">
ä¹Ÿå¯ä»¥æ‰‹å‹•æ–°å¢è³‡æ–™

<img src="/images/django-admin-site/6.png">

<p>è¨˜å¾—åœ¨å­¸ç¿’ Ruby on Rails çš„æ™‚å€™ï¼Œå°æ–¼ ORM å’Œè³‡æ–™åº«éƒ½ä¸ç†Ÿæ‚‰ï¼Œæ“ä½œèµ·ä¾†ä¸å…æœ‰é»ç¤™æ‰‹ç¤™è…³ï¼ŒDjang å…§å»º Admin ç«™é»è »è²¼å¿ƒçš„ï¼Œä¸€é–‹å§‹å®‰è£å°±è‡ªå‹•å…§å»ºäº† Ù©(^á´—^)Û¶</p>
<p>ä¸é Django çš„ ORM ä½¿ç”¨æ–¹æ³•ä¹Ÿæ˜¯éœ€è¦ç†Ÿæ‚‰ï¼Œå°±ç•™åˆ°ä¸‹ç¯‡ä¾†èªªæ˜ï¼<br>æœ¬ç¯‡æ–‡ç« æ˜¯æˆ‘ç”±ä»¥ä¸‹åƒè€ƒè³‡æ–™æ•´ç†è€Œæˆï¼Œå¦‚æœæ‚¨æœ‰èˆˆè¶£äº†è§£æ›´å¤šï¼Œè«‹åƒè€ƒï¼š</p>
<h3 id="åƒè€ƒè³‡æ–™"><a href="#åƒè€ƒè³‡æ–™" class="headerlink" title="åƒè€ƒè³‡æ–™"></a>åƒè€ƒè³‡æ–™</h3><p><a href="https://docs.djangoproject.com/zh-hans/5.0/ref/contrib/admin/">Django docs - admin</a></p>
<p><a href="https://developer.mozilla.org/zh-TW/docs/Learn/Server-side/Django/Admin_site">MDN - Admin_site</a></p>
<p><a href="https://www.udemy.com/course/django-2-web/">Udemy - Django 2 Web é–‹ç™¼å…¥é–€èˆ‡å¯¦è¸</a></p>
]]></content>
      <categories>
        <category>Django</category>
      </categories>
      <tags>
        <tag>Django</tag>
        <tag>Python</tag>
        <tag>MTV</tag>
        <tag>admin</tag>
        <tag>admin site</tag>
      </tags>
  </entry>
  <entry>
    <title>Django : 3 â€” ORM</title>
    <url>/2024/04/24/django-orm/</url>
    <content><![CDATA[<h2 id="Django-shell"><a href="#Django-shell" class="headerlink" title="Django shell"></a>Django shell</h2><p>åœ¨çµ‚ç«¯æ©ŸåŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤æœƒé€²å…¥äº’å‹•æ¨¡å¼(åƒæ˜¯ Rails çš„<code>$rails c</code>æŒ‡ä»¤)ï¼š</p>
<p><em><code>$ python manage.py shell</code></em></p>
<img src="/images/django-orm/1.png">

<h2 id="è¼‰å…¥-Models"><a href="#è¼‰å…¥-Models" class="headerlink" title="è¼‰å…¥ Models"></a>è¼‰å…¥ Models</h2><p>é¦–å…ˆæœƒéœ€è¦å°‡å»ºç«‹çš„ models import</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> blog.models <span class="hljs-keyword">import</span> Post<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">from</span> django.contrib.auth.models <span class="hljs-keyword">import</span> User<br></code></pre></td></tr></table></figure>

<h2 id="get"><a href="#get" class="headerlink" title="get()"></a>get()</h2><p>å¯ä»¥å…ˆçœ‹ä¸€å€‹ç°¡å–®çš„ç¯„ä¾‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>user = User.objects.get(username=<span class="hljs-string">&#x27;admin&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>user<br></code></pre></td></tr></table></figure>

<p>ä½¿ç”¨ get()æœ‰äº›æ³¨æ„äº‹é …ï¼Œåƒæ˜¯åƒ…èƒ½è¿”å›ã€Œå”¯ä¸€ã€çš„æ¢ä»¶ï¼Œå¦‚æœæœ‰å¤šå€‹ç¬¦åˆå‰‡æœƒå ±éŒ¯ï¼Œå¦‚æœ Â <code>get()</code> ç™¼ç¾å¤šå€‹å°è±¡ï¼Œæœƒå¼•ç™¼ä¸€å€‹ Â <a href="https://docs.djangoproject.com/zh-hans/5.0/ref/models/class/#django.db.models.Model.MultipleObjectsReturned">Model.MultipleObjectsReturned</a>Â  ç•°å¸¸ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">Entry.objects.get(name=<span class="hljs-string">&quot;A Duplicated Name&quot;</span>)  <span class="hljs-comment"># raises Entry.MultipleObjectsReturned</span><br></code></pre></td></tr></table></figure>

<p>é€™å€‹æ¯”è¼ƒåƒæ˜¯ Ruby on Rails çš„<code>find()</code>ï¼Œä¸é<code>find()</code>çš„åƒæ•¸ç‚ºè¦æŸ¥æ‰¾çš„å°è±¡çš„ ID(é€™è£¡å‰‡å¯ä»¥é¸æ“‡)ï¼Œæ²’æ‰¾åˆ°è¿”é‚„<code>ActiveRecord::RecordNotFound</code>Â  ä¾‹å¤–è¨Šæ¯ã€‚</p>
<p>å¦å¤–ä¸€å€‹ä¹Ÿè »åƒçš„ï¼Œå°±æ˜¯ Rails çš„<code>find_by()</code> å‰‡æœƒè¿”å›ç¬¦åˆæ¢ä»¶çš„ç¬¬ä¸€ç­†è³‡æ–™ï¼Œæ²’æ‰¾åˆ°è¿”å›<code>nil</code>ï¼ˆé †ä¾¿è¤‡ç¿’ Railsï¼Ÿï¼‰ã€‚</p>
<h2 id="filter"><a href="#filter" class="headerlink" title="filter()"></a>filter()</h2><p>è¿”å›ä¸€ä¸ªæ–°çš„ Â <a href="https://docs.djangoproject.com/zh-hans/5.0/ref/models/querysets/#django.db.models.query.QuerySet">QuerySet</a>ï¼ŒåŒ…å«æŸ¥è©¢çš„åƒæ•¸å°è±¡ï¼Œå¦‚æœæ²’æ‰¾åˆ°æœƒè¿”å›ä¸€å€‹ç©ºçš„ QuerySet</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>post = Post.objects.<span class="hljs-built_in">filter</span>(title=<span class="hljs-string">&#x27;hi&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>post<br>&lt;QuerySet [&lt;Post: hi&gt;]&gt;<br></code></pre></td></tr></table></figure>

<p>é€™å°±æ¯”è¼ƒåƒ Rails çš„<code>where()</code>ï¼Œæ‰¾åˆ°æœƒè¿”å› Â <code>ActiveRecord::Relation</code>Â  åŒ…å«ä¸€å€‹æˆ–å¤šå€‹èˆ‡åƒæ•¸ç¬¦åˆçš„å°è±¡ï¼Œå¦‚æœæ²’æ‰¾åˆ°ï¼šæœƒè¿”å›ä¸€å€‹ç©ºçš„ Â <code>ActiveRecord::Relation</code>ã€‚</p>
<h3 id="filter-æ‰¾ä¸åˆ°çš„æƒ…æ³"><a href="#filter-æ‰¾ä¸åˆ°çš„æƒ…æ³" class="headerlink" title="filter()æ‰¾ä¸åˆ°çš„æƒ…æ³"></a>filter()æ‰¾ä¸åˆ°çš„æƒ…æ³</h3><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>post = Post.objects.<span class="hljs-built_in">filter</span>(title=<span class="hljs-string">&#x27;aaa&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>post<br>&lt;QuerySet []&gt;<br></code></pre></td></tr></table></figure>

<h3 id="exclude"><a href="#exclude" class="headerlink" title="exclude()"></a>exclude()</h3><p>æ’é™¤æŸ¥æ‰¾çš„åƒæ•¸</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>post = Post.objects.exclude(title=<span class="hljs-string">&#x27;hi&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>post<br>&lt;QuerySet [&lt;Post: created <span class="hljs-keyword">from</span> shell&gt;]&gt;<br></code></pre></td></tr></table></figure>

<h2 id="all"><a href="#all" class="headerlink" title="all()"></a>all()</h2><p>ç§€å‡ºæ‰€æœ‰æ±è¥¿ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>posts = Post.objects.<span class="hljs-built_in">all</span>()<br><span class="hljs-meta">&gt;&gt;&gt; </span>posts<br>&lt;QuerySet [&lt;Post: second-post&gt;, &lt;Post: hi&gt;]&gt;<br></code></pre></td></tr></table></figure>

<p>å¯ä»¥ä½¿ç”¨ for è¿´åœˆå°‡æ–‡ç« æ¨™é¡Œå°å‡ºä¾†ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">for</span> post <span class="hljs-keyword">in</span> posts:<br><span class="hljs-meta">... </span>    <span class="hljs-built_in">print</span>(post.title)<br>...<br>second-post<br>hi<br></code></pre></td></tr></table></figure>

<h3 id="æ–°å¢"><a href="#æ–°å¢" class="headerlink" title="æ–°å¢"></a>æ–°å¢</h3><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>post = Post(title=<span class="hljs-string">&#x27;created from shell&#x27;</span>, slug=<span class="hljs-string">&#x27;create-from-shell&#x27;</span>, body=<span class="hljs-string">&#x27;this is body&#x27;</span>, author=user, status= <span class="hljs-string">&#x27;draft&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>post<br>&lt;Post: created <span class="hljs-keyword">from</span> shell&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span>post.save()<br><span class="hljs-meta">&gt;&gt;&gt; </span>posts<br>&lt;QuerySet [&lt;Post: second-post&gt;, &lt;Post: hi&gt;]&gt;<br></code></pre></td></tr></table></figure>

<p>é€™è£¡éœ€è¦<code>.save()</code> æ‰æœƒå°‡è³‡æ–™å„²å­˜åˆ°è³‡æ–™åº«è£¡</p>
<h2 id="æ›´æ–°"><a href="#æ›´æ–°" class="headerlink" title="æ›´æ–°"></a>æ›´æ–°</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>post.title<br><span class="hljs-string">&#x27;created from shell&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>post.title = <span class="hljs-string">&#x27;new created from shell&#x27;</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>post<br>&lt;Post: new created <span class="hljs-keyword">from</span> shell&gt;<br></code></pre></td></tr></table></figure>

<p>æ›´æ–°å€’æ˜¯è »å®¹æ˜“çš„ï¼Œåªè¦ç”¨å€‹<code>=</code> å³å¯</p>
<h2 id="first"><a href="#first" class="headerlink" title="first()"></a>first()</h2><p>ç¬¬ä¸€å€‹å°è±¡</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>post = Post.objects.<span class="hljs-built_in">all</span>().first()<br><span class="hljs-meta">&gt;&gt;&gt; </span>post<br>&lt;Post: created <span class="hljs-keyword">from</span> shell&gt;<br></code></pre></td></tr></table></figure>

<h2 id="last"><a href="#last" class="headerlink" title="last()"></a>last()</h2><p>æœ€å¾Œä¸€å€‹å°è±¡</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>post = Post.objects.<span class="hljs-built_in">all</span>().last()<br><span class="hljs-meta">&gt;&gt;&gt; </span>post<br>&lt;Post: hi&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span>posts = Post.objects.<span class="hljs-built_in">all</span>()<br><span class="hljs-meta">&gt;&gt;&gt; </span>posts<br>&lt;QuerySet [&lt;Post: created <span class="hljs-keyword">from</span> shell&gt;, &lt;Post: hi&gt;]&gt;<br></code></pre></td></tr></table></figure>

<h2 id="order-by"><a href="#order-by" class="headerlink" title="order_by()"></a>order_by()</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>post = Post.objects.order_by(<span class="hljs-string">&#x27;title&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>post<br>&lt;QuerySet [&lt;Post: created <span class="hljs-keyword">from</span> shell&gt;, &lt;Post: hi&gt;, &lt;Post: second-post&gt;]&gt;<br><span class="hljs-meta">&gt;&gt;&gt; </span>post = Post.objects.order_by(<span class="hljs-string">&#x27;-title&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>post<br>&lt;QuerySet [&lt;Post: second-post&gt;, &lt;Post: hi&gt;, &lt;Post: created <span class="hljs-keyword">from</span> shell&gt;]&gt;<br></code></pre></td></tr></table></figure>

<p>å¯ä»¥ç”¨<code>-</code>å»èª¿æ•´æ­£åºæˆ–æ˜¯å€’åºï¼Œé€™æ™‚è¿”å›çš„æœƒæ˜¯ QuerySet</p>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨ç´¢å¼•<code>[0]</code>ï¼Œä¾†è¿”å›æŒ‡å®šçš„å€¼ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>post = Post.objects.<span class="hljs-built_in">filter</span>(title=<span class="hljs-string">&#x27;hi&#x27;</span>)[<span class="hljs-number">0</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span>post<br>&lt;Post: hi&gt;<br></code></pre></td></tr></table></figure>

<p>é€™æ™‚è¿”å›çš„å°±æ˜¯å–®ä¸€å€¼</p>
<h2 id="delete"><a href="#delete" class="headerlink" title="delete()"></a>delete()</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>post = post.<span class="hljs-built_in">filter</span>(title=<span class="hljs-string">&#x27;second-post&#x27;</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>post.delete()<br>(<span class="hljs-number">1</span>, &#123;<span class="hljs-string">&#x27;blog.Post&#x27;</span>: <span class="hljs-number">1</span>&#125;)<br><span class="hljs-meta">&gt;&gt;&gt; </span>Post.objects.<span class="hljs-built_in">all</span>()<br>&lt;QuerySet [&lt;Post: created <span class="hljs-keyword">from</span> shell&gt;, &lt;Post: hi&gt;]&gt;<br></code></pre></td></tr></table></figure>

<p>æœ¬ç¯‡æ–‡ç« æ˜¯æˆ‘ç”±ä»¥ä¸‹åƒè€ƒè³‡æ–™æ•´ç†+è‡ªå·±ç¹ªåœ–è€Œæˆï¼Œå¦‚æœæ‚¨æœ‰èˆˆè¶£äº†è§£æ›´å¤šï¼Œè«‹åƒè€ƒï¼š</p>
<h3 id="åƒè€ƒè³‡æ–™ï¼š"><a href="#åƒè€ƒè³‡æ–™ï¼š" class="headerlink" title="åƒè€ƒè³‡æ–™ï¼š"></a>åƒè€ƒè³‡æ–™ï¼š</h3><blockquote>
<p><a href="https://docs.djangoproject.com/en/5.0/topics/db/queries/">Django doc - Making quries</a></p>
</blockquote>
<blockquote>
<p><a href="https://docs.djangoproject.com/zh-hans/5.0/ref/models/querysets/#get">Django doc - QuerySet</a></p>
</blockquote>
<blockquote>
<p><a href="https://www.udemy.com/course/django-2-web/">Udemy - Django 2 Web é–‹ç™¼å…¥é–€èˆ‡å¯¦è¸</a></p>
</blockquote>
]]></content>
      <categories>
        <category>Django</category>
      </categories>
      <tags>
        <tag>Django</tag>
        <tag>Python</tag>
        <tag>ORM</tag>
      </tags>
  </entry>
  <entry>
    <title>Django : 5 â€” Templates</title>
    <url>/2024/04/26/django-templates/</url>
    <content><![CDATA[<p>ä¹‹å‰åšå®Œ urlsï¼Œä»Šå¤©å°±å¯ä»¥ä¾†è™•ç†å‰å°é¡¯ç¤ºç•«é¢ Templates å•¦ Ê• â€¢Ì€ o â€¢Ì Ê”</p>
<h2 id="blog-views"><a href="#blog-views" class="headerlink" title="blog&#x2F;views"></a>blog&#x2F;views</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> django.shortcuts <span class="hljs-keyword">import</span> render<br><span class="hljs-keyword">from</span> .models <span class="hljs-keyword">import</span> Post<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">list</span>(<span class="hljs-params">request</span>):<br>    posts = Post.objects.<span class="hljs-built_in">all</span>()<br>    <span class="hljs-keyword">return</span> render(<br>        request,<br>        <span class="hljs-string">&#x27;blog/list.html&#x27;</span>,<br>        &#123;<span class="hljs-string">&#x27;posts&#x27;</span>: posts&#125;<br>    )<br></code></pre></td></tr></table></figure>

<p>å…ˆæ”¹å¯« blog&#x2F;vies è£¡é¢çš„ lsitï¼Œè®“ list é é¢èƒ½æœ‰æˆ‘å€‘å»ºå¥½ model çš„ post</p>
<h2 id="project-blog-templates-blog-list-html"><a href="#project-blog-templates-blog-list-html" class="headerlink" title="project&#x2F;blog&#x2F;templates&#x2F;blog&#x2F;list.html"></a>project&#x2F;blog&#x2F;templates&#x2F;blog&#x2F;list.html</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">&#123;% block content %&#125;<br>    &lt;h1&gt;My blog&lt;/h1&gt;<br>    &#123;% <span class="hljs-keyword">for</span> post <span class="hljs-keyword">in</span> posts %&#125;<br>        &lt;h2&gt;<br>            &lt;a href=<span class="hljs-string">&quot;&#123;&#123; post.get_url &#125;&#125;&quot;</span>&gt;<br>                &#123;&#123; post.title &#125;&#125;<br>            &lt;/a&gt;<br>        &lt;/h2&gt;<br>        &lt;p&gt;<br>            Published &#123;&#123; post.published_date|date:<span class="hljs-string">&quot;SHORT_DATE_FORMAT&quot;</span> &#125;&#125; by &#123;&#123; post.author &#125;&#125;<br>        &lt;/p&gt;<br>        &#123;&#123; post.body|truncatewords:<span class="hljs-number">30</span>|linebreaks &#125;&#125;<br>    &#123;% endfor %&#125;<br>&#123;% endblock %&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li><strong>è®Šæ•¸ï¼š</strong></li>
<li>éæ¿¾å™¨ï¼šèˆ‰å¹¾å€‹æ¯”è¼ƒå¸¸è¦‹çš„ä¾‹å­<ul>
<li>default:<ul>
<li><code>&#123;&#123; value|default:"nothing" &#125;&#125;</code></li>
<li>å¦‚æœè®Šæ•¸ç‚º false æˆ–ç©ºï¼Œå‰‡ä½¿ç”¨çµ¦å®šçš„é è¨­å€¼ã€‚å¦å‰‡ï¼Œä½¿ç”¨è®Šæ•¸çš„å€¼ã€‚ä¾‹å¦‚ï¼š</li>
</ul>
</li>
<li><strong><a href="https://docs.djangoproject.com/en/5.0/ref/templates/builtins/#std-templatefilter-length">length</a>:</strong><ul>
<li><code>&#123;&#123; value|length &#125;&#125;</code></li>
<li>å‚³å›å€¼çš„é•·åº¦ã€‚é€™é©ç”¨æ–¼å­—ä¸²å’Œåˆ—è¡¨ã€‚ä¾‹å¦‚ï¼š</li>
</ul>
</li>
<li>date:<ul>
<li><code>&#123;&#123; value|date:"SHORT_DATE_FORMAT" &#125;&#125;</code></li>
<li>å¯è‡ªå®šç¾©åƒæ˜¯ï¼š</li>
<li><code>&#123;&#123; value|date:"D d M Y" &#125;&#125; &#123;&#123; value|time:"H:i" &#125;&#125;</code></li>
</ul>
</li>
<li>å¯ä»¥åƒè€ƒï¼š<a href="https://docs.djangoproject.com/en/5.0/ref/templates/builtins/#ref-templates-builtins-filters">Django Docs - å…§å»ºéæ¿¾åƒè€ƒ</a></li>
</ul>
</li>
<li>æ¨™ç±¤ï¼š<ul>
<li>for:<code>&#123;% for post in posts %&#125;â€¦.. &#123;% endfor %&#125;</code></li>
<li>if..elif..else</li>
<li>if å¯ä»¥å’Œéæ¿¾å™¨ä¸€èµ·ä½¿ç”¨<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">&#123;% <span class="hljs-keyword">if</span> athlete_list|length &gt; <span class="hljs-number">1</span> %&#125;<br>   Team: &#123;% <span class="hljs-keyword">for</span> athlete <span class="hljs-keyword">in</span> athlete_list %&#125; ... &#123;% endfor %&#125;<br>&#123;% <span class="hljs-keyword">else</span> %&#125;<br>   Athlete: &#123;&#123; athlete_list<span class="hljs-number">.0</span>.name &#125;&#125;<br>&#123;% endif %&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<p>é€™æ™‚å€™å‰é¢çœ‹èµ·ä¾†æ•ˆæœå°±æœƒåƒï¼š</p>
<img src="/images/django-templates/1.png">

<h2 id="æ¨¡æ¿ç¹¼æ‰¿"><a href="#æ¨¡æ¿ç¹¼æ‰¿" class="headerlink" title="æ¨¡æ¿ç¹¼æ‰¿"></a>æ¨¡æ¿ç¹¼æ‰¿</h2><p>æ¨¡æ¿ç¹¼æ‰¿æœ‰é»åƒæ˜¯ Rails çš„ renderï¼Œå…ˆæŠŠå¯ä»¥æ›¿æ›çš„åœ°æ–¹æŒ–ç©ºï¼Œè®Šæˆ base æ¨¡æ¿ï¼Œå­æ¨¡æ¿å°±å¯ä»¥è‡ªå®šç¾©ï¼ˆè¦†è“‹ï¼‰æŒ–ç©ºåœ°æ–¹çš„å…§å®¹</p>
<h3 id="Base-æ¨¡æ¿"><a href="#Base-æ¨¡æ¿" class="headerlink" title="Base æ¨¡æ¿"></a>Base æ¨¡æ¿</h3><p>é¦–å…ˆçœ‹æˆ‘å€‘çš„ base æ¨¡æ¿</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># template.html</span><br>&lt;!DOCTYPE html&gt;<br>&lt;html lang=<span class="hljs-string">&quot;en&quot;</span>&gt;<br>&lt;head&gt;<br>    &lt;meta charset=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;<br>    &lt;meta name=<span class="hljs-string">&quot;viewport&quot;</span> content=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;<br>    &lt;title&gt;Welcome, Templates Page&lt;/title&gt;<br>    &lt;style&gt;<br>        header &#123;<br>            background-color: <span class="hljs-comment">#333;</span><br>            color: white;<br>            padding: 20px;<br>            text-align: center;<br>        &#125;<br>    &lt;/style&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br><br>&lt;header&gt;<br>    &lt;h2&gt;Welcome, Templates Page&lt;/h2&gt;<br>&lt;/header&gt;<br><br>&lt;div <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;content&quot;</span>&gt;<br>    &#123;% block mymessage %&#125;<br>    &#123;% endblock %&#125;<br>&lt;/div&gt;<br><br>&lt;/body&gt;<br>&lt;/html&gt;<br></code></pre></td></tr></table></figure>

<p>å…¶å¯¦ä¸Šé¢å…§å®¹å¤šåŠéƒ½æ˜¯ä¸€èˆ¬çš„ htmlï¼Œåªæœ‰ä¸€å€‹åœ°æ–¹æ¯”è¼ƒç‰¹åˆ¥</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">&lt;div <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;content&quot;</span>&gt;<br>    &#123;% block mymessage %&#125;<br>    &#123;% endblock %&#125;<br>&lt;/div&gt;<br></code></pre></td></tr></table></figure>

<p>é€™è£¡çš„ <code>&#123;% block mymessage %&#125; &#123;% endblock %&#125;</code> å¯ä»¥è¢«å­æ¨¡æ¿æ›¿æ›</p>
<h3 id="å­æ¨¡æ¿"><a href="#å­æ¨¡æ¿" class="headerlink" title="å­æ¨¡æ¿"></a>å­æ¨¡æ¿</h3><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">&#123;% extends <span class="hljs-string">&#x27;template.html&#x27;</span> %&#125;<br><br>&#123;% block mymessage %&#125;<br>  &lt;p&gt;hihihi&lt;/p&gt;<br>&#123;% endblock %&#125;<br></code></pre></td></tr></table></figure>

<p>æœ€ä¸Šé¢åŠ ä¸Š <code>&#123;% extends 'template.html' %&#125;</code> å°±å¯ä»¥æŠŠ <code>block mymessage</code>æ›æ‰</p>
<img src="/images/django-templates/2.png">

<p>å…¶å¯¦å°±è »åƒ Rails çš„ Render &#x2F; Component Ù©(â—á´—â—)Û¶</p>
<p>æœ¬ç¯‡æ–‡ç« æ˜¯æˆ‘ç”±ä»¥ä¸‹åƒè€ƒè³‡æ–™æ•´ç†+è‡ªå·±ç¹ªåœ–è€Œæˆï¼Œå¦‚æœæ‚¨æœ‰èˆˆè¶£äº†è§£æ›´å¤šï¼Œè«‹åƒè€ƒï¼š</p>
<h3 id="åƒè€ƒè³‡æ–™ï¼š"><a href="#åƒè€ƒè³‡æ–™ï¼š" class="headerlink" title="åƒè€ƒè³‡æ–™ï¼š"></a>åƒè€ƒè³‡æ–™ï¼š</h3><blockquote>
<p><a href="https://docs.djangoproject.com/en/5.0/ref/templates/">Django Docs - templates</a></p>
</blockquote>
]]></content>
      <categories>
        <category>Django</category>
      </categories>
      <tags>
        <tag>Django</tag>
        <tag>Python</tag>
        <tag>Templates</tag>
      </tags>
  </entry>
  <entry>
    <title>Django : 6 â€” è‡ªå®šç¾©URL &amp; åˆ†é </title>
    <url>/2024/05/09/django-url-page/</url>
    <content><![CDATA[<h2 id="è‡ªå®šç¾©-url"><a href="#è‡ªå®šç¾©-url" class="headerlink" title="è‡ªå®šç¾© url"></a>è‡ªå®šç¾© url</h2><p>å¸¸å¸¸çœ‹åˆ°å¾ˆå¤šç¶²å€å¾Œé¢æœƒæ¥ä¸Šå¹´&#x2F;æœˆ&#x2F;æ—¥ç­‰ç­‰çš„è³‡è¨Šï¼Œåœ¨ Django ä¹Ÿæ˜¯å¯ä»¥è‡ªå®šç¾© URL çš„</p>
<h2 id="urls-py"><a href="#urls-py" class="headerlink" title="urls.py"></a>urls.py</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">## project/blog/urls.py</span><br>app_name = <span class="hljs-string">&#x27;blog&#x27;</span><br>urlpatterns = [<br>    path(<span class="hljs-string">&#x27;&#x27;</span>, views.<span class="hljs-built_in">list</span>, name=<span class="hljs-string">&#x27;list&#x27;</span>),<br>    path(<span class="hljs-string">&#x27;author&#x27;</span>, views.author),<br>    path(<br>        <span class="hljs-string">&#x27;&lt;int:year&gt;/&lt;int:month&gt;/&lt;int:day&gt;/&lt;str:slug&gt;/&#x27;</span>,<br>        views.detail,<br>        name=<span class="hljs-string">&#x27;detail&#x27;</span><br>    ),<br>    path(<span class="hljs-string">&#x27;testing/&#x27;</span>, views.testing, name=<span class="hljs-string">&#x27;testing&#x27;</span>),<br><br>]<br></code></pre></td></tr></table></figure>

<p>é¦–å…ˆå…ˆåˆ° urls å®šç¾©è·¯å¾‘çš„é¡¯ç¤ºæ–¹å¼ï¼Œé€™è£¡å®šç¾©ç‚º<code>&lt;int:year&gt;/&lt;int:month&gt;/&lt;int:day&gt;/&lt;str:slug&gt;/</code></p>
<h2 id="model-py"><a href="#model-py" class="headerlink" title="model.py"></a>model.py</h2><figure class="highlight tsx"><table><tr><td class="code"><pre><code class="hljs tsx"><span class="hljs-keyword">from</span> django.<span class="hljs-property">urls</span> <span class="hljs-keyword">import</span> reverse<br><br>    def <span class="hljs-title function_">get_url</span>(self):<br>        <span class="hljs-keyword">return</span> <span class="hljs-title function_">reverse</span>(<br>            <span class="hljs-string">&#x27;blog:detail&#x27;</span>,<br>            args=[<br>                self.<span class="hljs-property">published_date</span>.<span class="hljs-property">year</span>,<br>                self.<span class="hljs-property">published_date</span>.<span class="hljs-property">month</span>,<br>                self.<span class="hljs-property">published_date</span>.<span class="hljs-property">day</span>,<br>                self.<span class="hljs-property">slug</span><br>            ]<br>        )<br></code></pre></td></tr></table></figure>

<p>åœ¨<code>urls.py</code>å®šç¾©äº†å¥½è·¯å¾‘ï¼Œéœ€è¦å°‡è³‡æ–™å‚³å…¥è³‡æ–™ï¼Œæ­¤æ™‚å¯ä»¥ä½¿ç”¨<code>reverse</code> å°‡å€¼å‚³çµ¦<code>urls.py</code>ã€‚</p>
<h2 id="list-html"><a href="#list-html" class="headerlink" title="list.html"></a>list.html</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#project/blog/templates/blog/list.html</span><br><br>&lt;a href=<span class="hljs-string">&quot;&#123;&#123; post.get_url &#125;&#125;&quot;</span>&gt;<br>	&#123;&#123; post.title &#125;&#125;<br>&lt;/a&gt;<br></code></pre></td></tr></table></figure>

<p>é€™æ™‚å‰å°å°±èƒ½å¤ åœ¨æ–‡ç« æ¨™é¡Œä¸ŠåŠ ä¸Šè·¯å¾‘äº†ï½</p>
<hr>
<h2 id="åˆ†é "><a href="#åˆ†é " class="headerlink" title="åˆ†é "></a>åˆ†é </h2><h2 id="Views-py"><a href="#Views-py" class="headerlink" title="Views.py"></a>Views.py</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#project/blog/views.py</span><br><span class="hljs-keyword">from</span> django.core.paginator <span class="hljs-keyword">import</span> Paginator, EmptyPage, PageNotAnInteger<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">list</span>(<span class="hljs-params">request</span>):<br>    posts = Post.objects.<span class="hljs-built_in">all</span>()<br>    paginator = Paginator(posts, <span class="hljs-number">3</span>) <span class="hljs-comment">#æ¯é ä¸‰ç¯‡</span><br>    page = request.GET.get(<span class="hljs-string">&#x27;page&#x27;</span>)<br>    <span class="hljs-keyword">try</span>:<br>        posts = paginator.page(page) <span class="hljs-comment">#è¿”å›ç¬¬å¹¾é </span><br>    <span class="hljs-keyword">except</span> PageNotAnInteger:<br>        posts = paginator.page(<span class="hljs-number">1</span>)<span class="hljs-comment">#å‚³å…¥ä¸æ˜¯æ•´æ•¸ï¼Œè¿”å›ç¬¬ä¸€é </span><br>    <span class="hljs-keyword">except</span> EmptyPage: <span class="hljs-comment">#å‚³å…¥çš„æ•¸å¤ªå¤§</span><br>        posts = paginator.page(paginator.num_pages) <span class="hljs-comment">#å–æœ€å¾Œä¸€é çš„ç´€éŒ„</span><br>    <span class="hljs-keyword">return</span> render(<br>        request,<br>        <span class="hljs-string">&#x27;blog/list.html&#x27;</span>,<br>        &#123;<span class="hljs-string">&#x27;posts&#x27;</span>: posts&#125; <span class="hljs-comment">#æŠŠpostè¿”å›template</span><br>    )<br><br></code></pre></td></tr></table></figure>

<h2 id="list-html-1"><a href="#list-html-1" class="headerlink" title="list.html"></a>list.html</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># project/blog/templates/blog/list.html</span><br>&lt;div&gt;<br>    &lt;span&gt;<br>        &#123;% <span class="hljs-keyword">if</span> posts.has_previous %&#125;<br>            &lt;a href=<span class="hljs-string">&quot;?page&#123;&#123; posts.previous_page_number &#125;&#125;&quot;</span>&gt;Previous&lt;/a&gt;<br>        &#123;% endif %&#125;<br>    &lt;/span&gt;<br>    &lt;span&gt;<br>        Page &#123;&#123; posts.number &#125;&#125; of &#123;&#123; posts.paginator.num_pages &#125;&#125;.<br>    &lt;/span&gt;<br>    &lt;span&gt;<br>        &#123;% <span class="hljs-keyword">if</span> posts.has_next %&#125;<br>            &lt;a href=<span class="hljs-string">&quot;?page=&#123;&#123; posts.next_page_number &#125;&#125;&quot;</span>&gt;Next&lt;/a&gt;<br>        &#123;% endif %&#125;<br>    &lt;/span&gt;<br>&lt;/div&gt;<br></code></pre></td></tr></table></figure>

<p>é€™æ™‚å°±æœƒå‡ºç¾åˆ†é ç¬¦è™Ÿäº†ï½<br><img src="/images/django-url-page/1.png"></p>
<p>æœ¬ç¯‡æ–‡ç« æ˜¯æˆ‘ç”±ä»¥ä¸‹åƒè€ƒè³‡æ–™æ•´ç†+è‡ªå·±ç¹ªåœ–è€Œæˆï¼Œå¦‚æœæ‚¨æœ‰èˆˆè¶£äº†è§£æ›´å¤šï¼Œè«‹åƒè€ƒï¼š</p>
<h3 id="åƒè€ƒè³‡æ–™ï¼š"><a href="#åƒè€ƒè³‡æ–™ï¼š" class="headerlink" title="åƒè€ƒè³‡æ–™ï¼š"></a>åƒè€ƒè³‡æ–™ï¼š</h3><p><a href="https://docs.djangoproject.com/en/5.0/ref/paginator/">Django Docs - paginator</a></p>
]]></content>
      <categories>
        <category>Django</category>
      </categories>
      <tags>
        <tag>Django</tag>
        <tag>Python</tag>
        <tag>Templates</tag>
      </tags>
  </entry>
  <entry>
    <title>è·æ¶¯: äº”å€å­¸é™¢è½‰è·ä¹‹æ—…</title>
    <url>/2024/03/14/from-relationshop-manager-to-software-engineer/</url>
    <content><![CDATA[<img src="/images/from-relationshop-manager-to-software-engineer/01.JPG">

<p>æ²’æƒ³åˆ°ä¹Ÿè¼ªåˆ°æˆ‘åˆ†äº«è½‰è·æˆåŠŸå¿ƒå¾—äº†ï¼</p>
<p>åœ¨åšå‡ºè½‰è·æ±ºå®šä¹‹å‰ï¼Œæˆ‘åƒè€ƒäº†è¨±å¤šäººçš„è½‰è·ç¶“é©—ï¼Œå­¸é•·å§å€‘åˆ†äº«çš„æˆåŠŸè½‰è·æ•…äº‹ï¼Œä¸åƒ…éå›ºäº†æˆ‘çš„ä¿¡å¿ƒï¼Œä¹Ÿè®“æˆ‘å—ç›ŠåŒªæ·ºã€‚</p>
<p>ç¾åœ¨ï¼Œæˆ‘æƒ³åˆ†äº«æˆ‘çš„è½‰è·æ­·ç¨‹ï¼Œå¸Œæœ›èƒ½å¹«åŠ©æ›´å¤šçš„äººã€‚</p>
<p>è½‰è·å‰çš„å·¥ä½œæ˜¯å¤–å•†éŠ€è¡Œçš„å®¢æˆ¶é—œä¿‚ç¶“ç†ï¼Œæ„Ÿè¬é€™ä»½ç¶“æ­·è®“æˆ‘å°é‡‘èç’°å¢ƒæœ‰æ›´å¤šçš„èªè­˜ã€ä¹Ÿå¢é€²äº†æ‡‰å°é€²é€€èˆ‡æºé€šèƒ½åŠ›ã€‚ä¹Ÿè¨±æ˜¯é‡‘èç¶“é©—çš„å¢åŠ ï¼Œå°å¸‚å ´ç­è§£å¾—æ„ˆå¤šï¼Œæ„ˆç™¼ç¾é‡‘èå¸‚å ´çš„è®ŠåŒ–è«æ¸¬ï¼Œä¹Ÿç™¼ç¾è‡ªå·±å°éŠ·å”®é‡‘èå•†å“å§‹çµ‚ç„¡æ³•ç”¢ç”Ÿç†±æƒ…ã€‚</p>
<p>å› æ­¤åœ¨ç¶“éæ·±æ€ç†Ÿæ…®ä¹‹å¾Œï¼Œæˆ‘é¸æ“‡äº†è½‰è·è»Ÿé«”å·¥ç¨‹å¸«ã€‚</p>
<h2 id="è½‰è·å‰æº–å‚™"><a href="#è½‰è·å‰æº–å‚™" class="headerlink" title="è½‰è·å‰æº–å‚™"></a>è½‰è·å‰æº–å‚™</h2><p>ç‚ºäº†è®“è‡ªå·±ç¢ºå®šè½‰è·çš„æ±ºå¿ƒï¼Œæˆ‘å…ˆçµ¦è‡ªå·±ä¸€å€‹æœˆçš„æ™‚é–“è‡ªç¿’ç·šä¸Šèª²ç¨‹ï¼Œæ¯å¤©è¦å®šè‡ªå·±é€²åº¦å’Œè¦å®Œæˆçš„äº‹é …ï¼Œæœ€å¾Œä¹Ÿé †åˆ©å®Œæˆé€²åº¦ã€‚</p>
<p>ä¸éåƒ…é ç·šä¸Šèª²ç¨‹ä¸¦ä¸å®Œå…¨é©åˆæˆ‘ï¼Œæˆ‘é‚„æ˜¯å¸Œæœ›èƒ½æœ‰åŒä¼´èƒ½å¤ ä¸€èµ·è¨è«–ã€è£½ä½œå°ˆé¡Œï¼Œä¸¦ä¸”å¸Œæœ›æœ‰æ¥­ç•Œç¶“é©—çš„è€å¸«å¼•è·¯ï¼Œæä¾›æ­£ç¢ºçš„å­¸ç¿’æ–¹æ³•ã€‚</p>
<p>è«®è©¢éå¤šå€‹æ©Ÿæ§‹å¾Œï¼Œå› ç‚ºå¸«è³‡é€æ˜ã€æ•™å­¸å…§å®¹è²¼è¿‘æ¥­ç•Œç­‰å› ç´ ï¼Œæˆ‘æœ€å¾Œé¸æ“‡äº†ASTRO Campã€äº”å€å­¸é™¢å…¨ç«¯å·¥ç¨‹å¸«åŸ¹è¨“èª²ã€‚</p>
<h2 id="è¸ä¸Šè½‰è·ä¹‹è·¯"><a href="#è¸ä¸Šè½‰è·ä¹‹è·¯" class="headerlink" title="è¸ä¸Šè½‰è·ä¹‹è·¯"></a>è¸ä¸Šè½‰è·ä¹‹è·¯</h2><p>åœ¨å ±åå®Œèª²ç¨‹ä¹‹å¾Œï¼Œäº”å€æœƒå¯„é€ç·šä¸Šå…ˆä¿®æ•™æï¼Œç‚ºäº†åœ¨æ­£å¼ä¸Šèª²æ™‚èƒ½å¤ é †åˆ©éŠœæ¥ï¼Œæˆ‘åœ¨æ‹¿åˆ°å…ˆä¿®èª²ç¨‹å¾Œä¾¿è¦åŠƒè‡ªå·±æ¯æ—¥çš„é€²åº¦ã€æœ‰æ™‚é–“çš„è©±ä¹Ÿæœƒè·Ÿè‘—å¯¦ä½œã€‚</p>
<p>åœ¨äº”å€ä¸Šèª²ï¼Œå­¸äº†HTML, CSS, JS, Ruby on Rails, Gitç­‰èª²ç¨‹ï¼Œäº”å€çš„å¸«è³‡å¾ˆå„ªç§€ï¼Œèƒ½å¤ å¾åŸç†è¬›è§£ï¼Œèƒ½æ›´æ¸…æ¥šåœ°è¬›è§£<strong>ç‚ºä»€éº¼åšï¼Ÿé€™æ¨£åšæœ‰ä»€éº¼å¥½è™•ï¼Ÿé‚„æœ‰ä»€éº¼å…¶ä»–çš„åšæ³•ï¼Ÿåˆ©å¼Šåˆæ˜¯ä»€éº¼ï¼Ÿ</strong>ï¼Œè€Œä¸æ˜¯åƒ…æ˜¯å–®ç´”åœ°æ•™ã€Œåšå‡ºæ±è¥¿ä¾†ã€ï¼Œä¹Ÿç§‰æŒè‘—ã€Œæœ‰å•é¡Œç›¡é‡å•ã€ï¼Œæ¯å¤©èª²å ‚çµæŸä¹Ÿæœ‰åŠ©æ•™æ™‚é–“æä¾›å­¸ç”Ÿè©¢å•ï¼Œè®“åŒå­¸å€‘ä¸è¦å¸¶è‘—å•é¡Œå›å®¶ï¼Œå› æ­¤é€™ä¸‰å€‹æœˆçš„éç¨‹å¾ˆç²¾å¯¦ã€‚</p>
<p>é¾å“¥ä¹Ÿå¾ˆé¼“å‹µåŒå­¸å€‘å¯«éƒ¨è½æ ¼ï¼Œå› ç‚ºæ–°çš„çŸ¥è­˜ç†è§£å¸æ”¶å¾Œï¼Œå†é€éè‡ªå·±æ•´ç†ã€å¯«æˆæ–‡ç« ï¼Œèƒ½å¤ åŠ æ·±å°è±¡ä¸¦æ¢³ç†é‚è¼¯ã€‚</p>
<p>å¦å¤–ï¼Œäº”å€å­¸é™¢ä¹Ÿæä¾›äº†è¨±å¤šè»Ÿæ€§èª²ç¨‹ï¼Œå¦‚ç”¢å“é–‹ç™¼ã€ç°¡å ±è¡¨é”ã€è·æ¶¯è¼”å°å’Œä¼æ¥­åƒè¨ªç­‰ï¼Œé€™äº›èª²ç¨‹è®“æˆ‘å€‘äº†è§£æ¥­ç•Œå¯¦éš›çš„é–‹ç™¼éç¨‹ï¼Œç‚ºè½‰è·ä¹‹è·¯å¥ å®šäº†å …å¯¦çš„åŸºç¤ã€‚</p>
<p>åœ¨èª²ç¨‹çµæŸå¾Œï¼ŒåŒå­¸å€‘æœƒè¢«åˆ†çµ„é€²è¡Œå¯¦é«”å°ˆæ¡ˆçš„è£½ä½œã€‚å¾é›¶é–‹å§‹èˆ‡çµ„å“¡å…±åŒè¨è«–å°ˆé¡Œä¸»é¡Œã€å…§å®¹å’Œæ™‚ç¨‹ï¼Œé€™ä¸åƒ…è®“æˆ‘å€‘é€šéå¯¦éš›æ“ä½œä¾†å­¸ç¿’ï¼Œé‚„èƒ½å¤ åŸ¹é¤Šåœ˜éšŠåˆä½œå’Œè§£æ±ºå•é¡Œçš„èƒ½åŠ›ã€‚<p></p>
<h2 id="è·æ¶¯è¼”å°"><a href="#è·æ¶¯è¼”å°" class="headerlink" title="è·æ¶¯è¼”å°"></a>è·æ¶¯è¼”å°</h2><p>äº”å€æä¾›çš„è»Ÿæ€§èª²ç¨‹ä¸­ï¼Œè®“æˆ‘å—ç›Šæœ€æ·±çš„å°±æ˜¯è·æ¶¯è¼”å°èª²ã€‚è€å¸«æœƒæ ¹æ“šå±¥æ­·æä¾›æœ‰æ•ˆçš„å»ºè­°ï¼Œä¸¦é€éæ¨¡æ“¬é¢è©¦ï¼Œå¹«åŠ©é¢è©¦è€…è§£æ±ºå¯èƒ½å­˜åœ¨çš„ç›²é»ã€‚</p>
<p>åœ¨é¢è©¦æ™‚ï¼Œæˆ‘ä¹Ÿç¶“å¸¸é‹ç”¨è€å¸«æ‰€æ•™çš„ã€Œä¸ç®¡æåˆ°ä»€éº¼ï¼Œéƒ½è¦æœ‰å¯¦éš›çš„æ¡ˆä¾‹ï¼Œå¦‚æœèƒ½å¤ æä¾›å¯¦éš›æ•¸å­—æ›´å¥½ã€‚ã€é€™å€‹æ–¹æ³•ï¼Œä½¿å¾—æˆ‘çš„å±¥æ­·æ›´å…·å¯ä¿¡åº¦ã€‚</p>
<p>ç•¢ç«Ÿï¼Œå·¥ç¨‹å¸«éƒ½è¬›æ±‚å¯¦äº‹æ±‚æ˜¯ï¼Œè½‰è·æˆåŠŸä¸¦ç²å¾—offerä¹Ÿæ˜¯å¤§å¤šæ•¸äººåƒåŠ èª²ç¨‹çš„æœ€çµ‚ç›®æ¨™ã€‚æˆ‘èªç‚ºäº”å€åœ¨æ­¤æä¾›çš„èª²ç¨‹å’Œå»ºè­°éƒ½å°æˆ‘éå¸¸æœ‰å¹«åŠ©ï¼</p>
<h2 id="å¿ƒæ…‹"><a href="#å¿ƒæ…‹" class="headerlink" title="å¿ƒæ…‹"></a>å¿ƒæ…‹</h2><p>é€™æ¬¡çš„è½‰è·ç¶“é©—è®“æˆ‘ç™¼ç¾ï¼Œæ­£ç¢ºçš„å¿ƒæ…‹å¾ˆé‡è¦ï¼Œå› ç‚ºè½‰è·çš„è·¯ä¸Šä¸å…æœƒé‡åˆ°è¨±å¤šçš„æŒ«æŠ˜ï¼Œé™¤äº†å¯ä»¥å¤šåŠ åˆ©ç”¨äº”å€æä¾›çš„è³‡æºï¼ˆè€å¸«ã€åŠ©æ•™ã€èª²å‹™çµ„ç­‰ï¼‰ï¼Œæˆ‘è¦ºå¾—æœ€é‡è¦çš„é‚„æ˜¯è¦ã€Œç›¸ä¿¡è‡ªå·±ä¸¦ä»˜è«¸è¡Œå‹•ã€ã€‚</p>
<p>æˆ‘æ˜¯ä¸€å€‹å¾ˆå®¹æ˜“å¤šæƒ³çš„äººï¼Œå› æ­¤åœ¨è½‰è·æ™‚æˆ‘æ™‚å¸¸é¼“å‹µè‡ªå·±ï¼Œåªè¦ä¸€æ„Ÿåˆ°ç„¦æ…®å°±å»é–‹é›»è…¦ã€å¯«codeã€å¯«éƒ¨è½æ ¼ã€åˆ·leetcodeã€åˆ·codewarsã€çœ‹æ•™å­¸å½±ç‰‡ï¼Œä¹…è€Œä¹…ä¹‹å¿ƒä¸­çš„ç„¦æ…®æœƒé€æ¼¸è½‰åŒ–ç‚ºå¹³éœå’Œè‡ªä¿¡ã€‚</p>
<h2 id="æœªä¾†"><a href="#æœªä¾†" class="headerlink" title="æœªä¾†"></a>æœªä¾†</h2><p>å®Œæˆäº”å€çš„èª²ç¨‹é‚„ä¸æ˜¯è½‰è·ä¹‹è·¯çš„çµæŸï¼Œåªæ˜¯é–‹å§‹è€Œå·²ï¼Œä½†é€éé€™ä¸‰å€‹æœˆçš„èª²ç¨‹ï¼Œå› ç‚ºæœ‰äº”å€çš„è€å¸«ã€åŠ©æ•™ã€èª²å‹™çµ„çš„æ­£ç¢ºå¼•å°ï¼Œè®“æˆ‘çš„è½‰è·ä¹‹è·¯æœ‰äº†å¥½çš„é–‹å§‹ã€‚</p>
<p>åœ¨èª²ç¨‹çµæŸä¸€å€‹æœˆå·¦å³ï¼Œæˆ‘æ‹¿åˆ°äº†å¤šå€‹è»Ÿé«”å·¥ç¨‹å¸«offerï¼Œé€™æ˜¯åœ¨è½‰è·å‰æˆ‘çµ•å°æƒ³ä¸åˆ°çš„ã€‚</p>
<p>ç›®å‰çš„è‡ªå·±é‚„æœ‰å¾ˆå¤šçš„ä¸è¶³ï¼Œä½†å°±åƒå­¸ç¿’ç¨‹å¼çš„éç¨‹ä¸€æ¨£ï¼ŒçŸ¥é“è‡ªå·±å“ªè£¡ä¸è¶³å°±åŠ å¼·å“ªè£¡ï¼Œçµ‚ç©¶æœƒé›¢è‡ªå·±çš„ç›®æ¨™æ›´é€²ä¸€æ­¥ã€‚</p>
<p>å¦‚æœä½ é‚„åœ¨çŒ¶è±«ä¸æ±ºï¼Œå¯ä»¥å ±å<a href="https://5xcampus.com/camp/">ASTRO Campçš„èªªæ˜æœƒ</a>ï¼Œèª²å‹™çµ„ä¸æœƒæ¨éŠ·ã€éƒ½å¾ˆè¦ªåˆ‡ï¼Œæœƒè©³ç´°è§£ç­”ä½ çš„æ‰€æœ‰å•é¡Œï½</p>
]]></content>
      <categories>
        <category>è·æ¶¯</category>
      </categories>
      <tags>
        <tag>è½‰è·</tag>
        <tag>è·æ¶¯</tag>
        <tag>äº”å€å­¸é™¢</tag>
        <tag>ASTRO</tag>
        <tag>ASTRO Camp</tag>
        <tag>äº”å€</tag>
      </tags>
  </entry>
  <entry>
    <title>Django : 4 â€” URLS è·¯å¾‘</title>
    <url>/2024/04/25/django-urls/</url>
    <content><![CDATA[<h2 id="è³‡æ–™å¤¾"><a href="#è³‡æ–™å¤¾" class="headerlink" title="è³‡æ–™å¤¾"></a>è³‡æ–™å¤¾</h2><p>é€™æ˜¯ç›®å‰ my_project å…§çš„è³‡æ–™å¤¾çµæ§‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">.<br>â””â”€â”€ project<br>    â”œâ”€â”€ blog<br>    â”‚   â”œâ”€â”€ __pycache__<br>    â”‚   â”œâ”€â”€ migrations<br>    â”‚   â”‚   â””â”€â”€ __pycache__<br>    â”‚   â””â”€â”€ templates<br>    â”‚       â””â”€â”€ blog<br>    â””â”€â”€ project<br>        â””â”€â”€ __pycache__<br></code></pre></td></tr></table></figure>

<h2 id="ROOT-URLCONF"><a href="#ROOT-URLCONF" class="headerlink" title="ROOT_URLCONF"></a>ROOT_URLCONF</h2><p>å¯ä»¥åœ¨<code>settings.py</code> çœ‹åˆ°æˆ‘å€‘å°‡<code>ROOT_URLCONF</code>è¨­å®šåœ¨<code>project.urls</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># project/project/settings.py</span><br>ROOT_URLCONF = <span class="hljs-string">&#x27;project.urls&#x27;</span><br></code></pre></td></tr></table></figure>

<p>ä¹Ÿå°±ä»£è¡¨ Django åœ¨ä½¿ç”¨è€…æ‹œè¨ªè·¯å¾‘æ™‚æœƒå…ˆå»æ‰¾<code>project.urls</code>ï¼ˆä¹Ÿåƒ Rails çš„<code>routes.rb</code>ï¼‰å¯ä»¥æŠŠ<code>ROOT_URLCONF</code>æƒ³åƒæˆæŒ‡è·¯äººï¼Œæ‰€æœ‰ APP çš„è·¯å¾‘éƒ½è¦è½é€™å€‹æª”æ¡ˆæŒ‡æ®</p>
<p>æ¥è‘—æˆ‘å€‘é–‹å•ŸæŒ‡è·¯äººï¼š<code>project.urls</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> django.contrib <span class="hljs-keyword">import</span> admin<br><span class="hljs-keyword">from</span> django.urls <span class="hljs-keyword">import</span> path, include <span class="hljs-comment">#ä¿®æ”¹é€™è¡Œ</span><br><br>urlpatterns = [<br>    path(<span class="hljs-string">&#x27;admin/&#x27;</span>, admin.site.urls),<br>    path(<span class="hljs-string">&#x27;blog/&#x27;</span>, include(<span class="hljs-string">&#x27;blog.urls&#x27;</span>)), <span class="hljs-comment">#æ–°å¢é€™è¡Œ</span><br>]<br></code></pre></td></tr></table></figure>

<p>é€™æ¨£ä»£è¡¨ï¼Œåœ¨ç¶²å€æœ€å¾ŒåŠ ä¸Š<code>/blog/</code>çš„æ™‚å€™ï¼Œä»–æœƒå»æ‰¾<code>blog/urls.py</code>å»è¦è³‡æ–™ã€‚</p>
<h3 id="blog-urls-pyï¼ˆURLconfï¼‰"><a href="#blog-urls-pyï¼ˆURLconfï¼‰" class="headerlink" title="blog&#x2F;urls.pyï¼ˆURLconfï¼‰"></a>blog&#x2F;urls.pyï¼ˆURLconfï¼‰</h3><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> django.urls <span class="hljs-keyword">import</span> path<br><span class="hljs-keyword">from</span> . <span class="hljs-keyword">import</span> views<br><br>urlpatterns = [<br>    path(<span class="hljs-string">&#x27;&#x27;</span>, views.<span class="hljs-built_in">list</span>, name=<span class="hljs-string">&#x27;list&#x27;</span>),<br>]<br></code></pre></td></tr></table></figure>

<p>é€™æ¨£ä»£è¡¨åœ¨ç¶²å€<code>/blog/</code>å¾Œé¢æ²’æ¥ä»»ä½•æ±è¥¿æ™‚ï¼Œæœƒå»æ‰¾<code>view</code>çš„<code>list</code>æ–¹æ³•</p>
<h3 id="project-blog-views-py"><a href="#project-blog-views-py" class="headerlink" title="project&#x2F;blog&#x2F;views.py"></a>project&#x2F;blog&#x2F;views.py</h3><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> django.shortcuts <span class="hljs-keyword">import</span> render<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">list</span>(<span class="hljs-params">request</span>):<br>    <span class="hljs-keyword">return</span> render(request, <span class="hljs-string">&#x27;blog/list.html&#x27;</span>)<br></code></pre></td></tr></table></figure>

<p>é€™æ¨£ä»£è¡¨åœ¨ lsit æ–¹æ³•è£¡ï¼Œä»–æœƒç™¼ä¸€å€‹ request è«‹æ±‚ï¼Œå» render åŒä¸€å€‹è³‡æ–™å¤¾å…§ <code>/templates/blog/list.html</code> æª”æ¡ˆï¼Œå¦‚æœåŸæœ¬æ²’æœ‰è³‡æ–™å¤¾ï¼æª”æ¡ˆå°±åœ¨é€™è£¡æ–°å¢å§ï½</p>
<p>æœ€å¾Œå°±å¯ä»¥çœ‹åˆ°æˆæœï¼š</p>
<img src="/images/django-urls/01.png">

<p>Template æˆ‘åªæœ‰å¯«äº†ä¸€è¡Œ hello world (*Â°âˆ€Â°)ï¼Œä¸‹æ¬¡ä¾†ä½¿ç”¨è·¯å¾‘è½‰æ›å™¨&amp;è£é£¾ Template å§ï½</p>
<p>æœ¬ç¯‡æ–‡ç« æ˜¯æˆ‘ç”±ä»¥ä¸‹åƒè€ƒè³‡æ–™æ•´ç†+è‡ªå·±ç¹ªåœ–è€Œæˆï¼Œå¦‚æœæ‚¨æœ‰èˆˆè¶£äº†è§£æ›´å¤šï¼Œè«‹åƒè€ƒï¼š</p>
<h3 id="åƒè€ƒè³‡æ–™ï¼š"><a href="#åƒè€ƒè³‡æ–™ï¼š" class="headerlink" title="åƒè€ƒè³‡æ–™ï¼š"></a>åƒè€ƒè³‡æ–™ï¼š</h3><blockquote>
<p><a href="https://docs.djangoproject.com/en/5.0/topics/http/urls/">Django doc - Urls</a></p>
</blockquote>
<blockquote>
<p><a href="https://www.udemy.com/course/django-2-web/">Udemy - Django 2 Web é–‹ç™¼å…¥é–€èˆ‡å¯¦è¸</a></p>
</blockquote>
]]></content>
      <categories>
        <category>Django</category>
      </categories>
      <tags>
        <tag>Django</tag>
        <tag>Python</tag>
        <tag>URL</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript: è®Šæ•¸æå‡ hoisting åˆ°åº•æ˜¯ä»€éº¼ï¼Ÿ</title>
    <url>/2023/11/18/hoisting/</url>
    <content><![CDATA[<style>
  .em-div{
  background-color: #d4a373;
  color: white;
  padding: 10px;
  margin: 10px;
  border-radius: 5px;
  }

  .em-div2{
    border:2px #d4a373 solid;
    margin:5px;
    padding:10px 2px 2px 2px;
    border-style:dashed;
  }

</style>

<img src="/images/hoisting/banner.png">
ä¹‹å‰åœ¨<a href="https://adora-xu.com/2023/11/15/var-let-const/">ä½¿ç”¨var, let, constå®£å‘Šç©¶ç«Ÿå·®åœ¨å“ªå‘¢ï¼Ÿ</a>ï¼Œè£¡é¢æœ‰è«‡åˆ°è®Šæ•¸æå‡(Hoisting)ã€‚

<p>è®Šæ•¸æå‡(hoisting)æ˜¯åœ¨ ECMAScriptÂ® 2015 Language Specification è£¡é¢æ‰¾ä¸åˆ°çš„å°ˆæœ‰åè©ï¼Œ<br>å®ƒæ˜¯ä¸€ç¨®é‡æ¸… JaveScript åœ¨åŸ·è¡Œéšæ®µå…§æ–‡å¦‚ä½•é‹è¡Œçš„æ€è·¯ï¼ˆå°¤å…¶æ˜¯åœ¨å‰µå»ºå’ŒåŸ·è¡Œéšæ®µï¼‰ã€‚</p>
<p>ç©¶ç«Ÿhoisting æ˜¯ä»€éº¼å‘¢ï¼Ÿè®“æˆ‘å€‘ä¾†ä¸€æ¢ç©¶ç«Ÿ Ù©(à¹‘â›á´—â›à¹‘)Û¶</p>
<p>é¦–å…ˆå…ˆä¾†çœ‹çœ‹<a href="https://developer.mozilla.org/zh-TW/docs/Glossary/Hoisting">MDN</a>è§£é‡‹<strong>hoisting</strong>çš„é‡é»</p>
<p>é€™æ®µè©±è£¡é¢æœ‰å¹¾å€‹é‡é»ï¼š</p>
<div class="em-div2">

<ol>
<li><p>hosting æ˜¯ä¸€ç¨®é‡æ¸… JaveScript åœ¨åŸ·è¡Œéšæ®µå…§æ–‡<code>å¦‚ä½•é‹è¡Œçš„æ€è·¯</code>ï¼ˆå°¤å…¶æ˜¯åœ¨å‰µå»ºå’ŒåŸ·è¡Œéšæ®µï¼‰ã€‚</p>
</li>
<li><p><code>ä¸¦é</code>å–®ç´”åœ°å°‡è®Šæ•¸å’Œå‡½å¼å®£å‘Šï¼Œç§»å‹•åˆ°ç¨‹å¼çš„å€å¡Šé ‚ç«¯</p>
</li>
<li><p>è®Šæ•¸å’Œå‡½æ•¸çš„å®£å‘Šæœƒåœ¨<code>ç·¨è­¯éšæ®µå°±è¢«æ”¾å…¥è¨˜æ†¶é«”</code>ï¼Œä½†å¯¦éš›ä½ç½®å’Œç¨‹å¼ç¢¼ä¸­å®Œå…¨ä¸€æ¨£ã€‚</p>
</div></li>
</ol>
<h2 id="JavaScript-åŸ·è¡Œéç¨‹çš„å…©å¤§éšæ®µ"><a href="#JavaScript-åŸ·è¡Œéç¨‹çš„å…©å¤§éšæ®µ" class="headerlink" title="JavaScript åŸ·è¡Œéç¨‹çš„å…©å¤§éšæ®µ"></a>JavaScript åŸ·è¡Œéç¨‹çš„å…©å¤§éšæ®µ</h2><p>è¦ç†è§£ Hoistingï¼Œé¦–å…ˆå…ˆçŸ¥é“ JavaScript åŸ·è¡Œå…©å¤§éšæ®µï¼š</p>
<img src="/images/hoisting/01.png">

<div class="em-div2">

<ul>
<li><p>Creation Phase</p>
<ul>
<li>è¨»å†Šåç¨±(Declaration)</li>
<li>åˆå§‹åŒ–ï¼ˆInitialisationï¼‰</li>
</ul>
</li>
<li><p>Execution Phase</p>
<ul>
<li>è³¦å€¼(Assignment) &amp; åŸ·è¡Œ</li>
</ul>
</li>
</ul>
</div>

<hr>
<p>é€™æ¨£å°±èƒ½å¤ å¾ˆæ¸…æ¥šè§£é‡‹ä»¥ä¸‹ä¾‹å­ï¼š</p>
<img src="/images/hoisting/02.png">

<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);<br><span class="hljs-keyword">var</span> a = <span class="hljs-number">1</span>;<br></code></pre></td></tr></table></figure>

<div class="em-div">
undefined
</div>

<p>è§£é‡‹ï¼š</p>
<ul>
<li>åœ¨ Creation Phaseï¼Œæœƒé€²è¡Œè®Šæ•¸çš„è¨»å†Šåç¨±å’Œ undefined çš„åˆå§‹åŒ–ã€‚</li>
<li>åœ¨ Execution Phaseï¼Œç•¶ç¨‹å¼ç¢¼é€è¡ŒåŸ·è¡Œæ™‚ï¼Œundefined è¢«å°å‡ºã€‚ç„¶å¾Œè³¦å€¼ a &#x3D; 1 ã€‚</li>
</ul>
<h2 id="let-const-çš„è®Šæ•¸æå‡"><a href="#let-const-çš„è®Šæ•¸æå‡" class="headerlink" title="let &amp; const çš„è®Šæ•¸æå‡"></a>let &amp; const çš„è®Šæ•¸æå‡</h2><p>ä½†é€™å€‹æƒ…æ³åœ¨ let å®£å‘Šå’Œ const å®£å‘Šæ™‚ï¼Œå»è®Šå¾—ä¸ä¸€æ¨£ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);<br><span class="hljs-keyword">let</span> a = <span class="hljs-number">1</span>;<br></code></pre></td></tr></table></figure>

<div class="em-div">
ReferenceError: Cannot access 'a' before initialization
</div>
å‚™è¨»ï¼šconstå®£å‘Šçš„çµæœå’Œletä¸€æ¨£

<p>é€™æ™‚æˆ‘å€‘ä¾†çœ‹çœ‹ let &amp; const å®£å‘Šæ™‚ï¼ŒJS çš„å…©éšæ®µåœ–é‡‹ï¼š <img src="/images/hoisting/03.png"></p>
<p>è§£é‡‹ï¼š</p>
<ul>
<li>åœ¨ä½¿ç”¨ let &amp; const å®£å‘Šçš„è®Šæ•¸ç›´åˆ°åˆå§‹åŒ–å‰ï¼Œéƒ½æœƒå°‡è®Šæ•¸å­˜åœ¨ TDZ æš«æ™‚æ­»å€ä¸­</li>
<li>å¦‚æœåœ¨åˆå§‹åŒ–ï¼†è³¦å€¼å‰å–å¾—æ­¤è®Šæ•¸æ™‚ï¼Œä¾¿æœƒæ”¶åˆ°éŒ¯èª¤</li>
</ul>
<p>é€éä»¥ä¸Šåœ–ç‰‡è§£é‡‹ï¼Œæ‡‰è©²æ›´å¥½åœ°ç†è§£ä¹‹å‰æåˆ°çš„ç‹€æ³ Ù©(â—Ë™â–¿Ë™â—)Û¶ï¼Œæœ¬ç¯‡æ–‡ç« éƒ½æ˜¯åƒè€ƒä»¥ä¸‹è³‡æ–™æ•´ç†+è‡ªå·±ç¹ªåœ–è€Œæˆï¼Œå¦‚æœæœ‰ä»»ä½•æƒ³æ³•ï¼Œæ­¡è¿ç•™è¨€çµ¦æˆ‘ï¼</p>
<div class="em-div2">
åƒè€ƒè³‡æ–™ï¼š

<p><a href="https://developer.mozilla.org/zh-TW/docs/Glossary/Hoisting">MDN - Hoisting</a></p>
<p><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Statements/let">MDN - let</a></p>
<p><a href="https://www.scaler.com/topics/hoisting-in-javascript/">Hoisting in Javascript</a></p>
<p><a href="https://www.youtube.com/watch?v=EvfRXyKa_GI">JavaScript Tutorial #20 | Variable &amp; Function Hoisting in JavaScript </a></p>
</div>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>hoisting</tag>
        <tag>è®Šæ•¸æå‡</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript: ç©¶ç«Ÿä»€éº¼æ˜¯ Event Loopï¼Ÿ</title>
    <url>/2023/11/08/javascript-event-loop/</url>
    <content><![CDATA[<style>
  .em-div{
  background-color: #d4a373;
  color: white;
  padding: 10px;
  margin: 10px;
  border-radius: 5px;
  }
</style>

<h3 id=""><a href="#" class="headerlink" title=""></a></h3><img src="/images/eventLoop/blocks.jpg">
JavaScript æ˜¯å–®åŸ·è¡Œç·’åˆç¨±ç‚ºå–®ç·šç¨‹ï¼ˆSingle Threadï¼‰çš„è¨­è¨ˆï¼Œå®ƒä¸€æ¬¡åªèƒ½åŸ·è¡Œä¸€å€‹ä»»å‹™ï¼Œ è€Œã€ŒEvent Loopã€å°±æ˜¯ä½¿ JavaScript èƒ½å¤ è™•ç†å¤šå€‹ä»»å‹™çš„ç§˜è¨£

<p>å…¶ä¸­åŒ…å«äº†ï¼šCall Stackï¼ˆå‘¼å«å †ç–Šï¼‰ã€Event Loopï¼ˆäº‹ä»¶å¾ªç’°ï¼‰ã€Callback Queqe(å›èª¿ä½‡åˆ—)ï¼Œä»¥ä¸‹æœƒé€æ­¥ä»‹ç´¹ã€‚</p>
<h3 id="Call-Stack-å‘¼å«å †ç–Š"><a href="#Call-Stack-å‘¼å«å †ç–Š" class="headerlink" title="Call Stack å‘¼å«å †ç–Š"></a>Call Stack å‘¼å«å †ç–Š</h3><img src="/images/eventLoop/callstack.png">

<ul>
  <li>å› ç‚º JavaScript ç‚ºå–®åŸ·è¡Œç·’çš„è¨­è¨ˆï¼Œ**ä¸€æ¬¡åªèƒ½åŸ·è¡Œä¸€å€‹å‹•ä½œ**ï¼Œå› æ­¤ç­‰å¾…åŸ·è¡Œçš„ä»»å‹™æœƒè¢«æ”¾å…¥ Call Stackã€‚</li>
  <li>æº–å‚™åŸ·è¡Œçš„ä»»å‹™æœƒåƒç©æœ¨ä¸€æ¨£ï¼Œç”±ä¸‹å¾€ä¸Šå †ç–Šã€‚</li>
  <li>åŸ·è¡Œæ™‚ï¼Œä¹Ÿåƒç©æœ¨ä¸€æ¨£ï¼Œç”±ä¸Šå¾€ä¸‹æ‹¿å–ï¼Œä¹Ÿç¨±ç‚ºå…ˆé€²å¾Œå‡ºæ³•ï¼ˆLIFO, Last in First outï¼‰</li>
</ul>
<div class="em-div">ä½†å¦‚æœå‡ºç¾åƒ SetTimeout()ã€fetch()ç­‰ç­‰é‹è¡Œæ™‚é–“è¼ƒé•·çš„å‡½æ•¸ï¼Œè©²æ€éº¼è¾¦å‘¢ï¼Ÿé€™å€‹æ™‚å€™ Web API å°±æ´¾ä¸Šç”¨å ´äº†ï¼</div>

<h3 id="Web-APIs"><a href="#Web-APIs" class="headerlink" title="Web APIs"></a>Web APIs</h3><img src="/images/eventLoop/webapis.png">

<ul>
  <li>æ¯ç•¶å‘¼å«éåŒæ­¥å‡½æ•¸æ™‚ï¼Œå®ƒéƒ½æœƒè¢«å‚³é€åˆ°å°æ‡‰çš„ç€è¦½å™¨ APIï¼Œè©² API æœƒç­‰å¾…å®Œæˆå‡½æ•¸å»¶é²çš„æ“ä½œå¾Œå†å‚³å›é€²è¡Œè™•ç†ã€‚</li>
  <li>ä»¥ setTimeout()ç‚ºä¾‹ï¼Œç•¶ Call Stack åŸ·è¡Œæ™‚ï¼ŒsetTimeout()æœƒè¢«å‚³é€åˆ° Web APIï¼Œç­‰å¾…æŒ‡å®šçš„æ™‚é–“å®Œæˆå†å°‡è©²æ“ä½œå‚³å›é€²è¡Œè™•ç†ã€‚</li>

<div class="em-div">å¾ Web API ç­‰æ™‚é–“è·‘å®Œå¾Œï¼Œå®ƒå°‡æ“ä½œç™¼é€åˆ°å“ªè£¡ï¼Ÿä»–å€‘è¢«ç™¼é€åˆ°ã€Œäº‹ä»¶ä½‡åˆ—ï¼ˆEvent Queueï¼‰ã€</div>

<h3 id="Event-Queue-äº‹ä»¶ä½‡åˆ—"><a href="#Event-Queue-äº‹ä»¶ä½‡åˆ—" class="headerlink" title="Event Queue äº‹ä»¶ä½‡åˆ—"></a>Event Queue äº‹ä»¶ä½‡åˆ—</h3><img src="/images/eventLoop/eventque.png">

<ul>
  <li>Event Queue è£¡é¢æ˜¯å¾…åŸ·è¡Œçš„ä»»å‹™ï¼Œå…¶ä¸­æ¯å€‹è¨Šæ¯éƒ½èˆ‡ä¸€å€‹ function ç›¸é—œè¯ã€‚</li>
  <li>ç•¶å †ç–Šä¸­æœ‰è¶³å¤ ç©ºé–“æ™‚ï¼Œæœƒå¾ Event Queue äº‹ä»¶ä½‡åˆ—æ‹¿å–ä¸€å€‹ä»»å‹™é€²è¡Œè™•ç†ï¼Œè™•ç†éç¨‹åŒ…å«äº†å‘¼å«ç›¸é—œè¯çš„ functionã€‚åªæœ‰ç•¶å †ç–Šæ¸…ç©ºæ™‚ï¼Œè©²ä½‡åˆ—æ‰ç®—æ˜¯å®Œæˆè™•ç†ã€‚</li>
</ul>

<div class="em-div">ä¸Šé¢åˆ†åˆ¥ä»‹ç´¹äº† Call Stackã€Web APIsã€Event Queueï¼Œæ¥ä¸‹ä¾†å¯ä»¥å°‡ä»–å€‘çµ„èµ·ä¾†äº†ï¼çµ„èµ·ä¾†å¾Œå¯ä»¥æ›´å¥½åœ°ç†è§£ Event Loopã€‚</div>

<h3 id="Event-Loop-äº‹ä»¶å¾ªç’°"><a href="#Event-Loop-äº‹ä»¶å¾ªç’°" class="headerlink" title="Event Loop äº‹ä»¶å¾ªç’°"></a>Event Loop äº‹ä»¶å¾ªç’°</h3><img src="/images/eventLoop/eventloop.png">

<ul>
  <li>Event Loop å®ƒä¸æ–·æª¢æŸ¥ Call Stack å‘¼å«å †ç–Šæ˜¯å¦ç‚ºç©ºã€‚</li>
  <li>å¦‚æœç‚ºç©ºï¼šå‰‡å¾äº‹ä»¶ä½‡åˆ— Event Queue ä¸­æ–°å¢å‡½å¼è‡³ Call Stackã€‚</li>
  <li>æ–°å¢å‡½å¼è‡³ Call Stack çš„æ­¥é©Ÿï¼Œåˆç¨±ç‚ºéåŒæ­¥å›èª¿ï¼ˆasynchronous ï¼‰</li>
  <li>å¦‚æœä¸ç‚ºç©ºï¼šè™•ç† Call Stack å…§çš„å‡½æ•¸ã€‚</li>
</ul>

<h3 id="ç¯„ä¾‹ç¤ºæ„"><a href="#ç¯„ä¾‹ç¤ºæ„" class="headerlink" title="ç¯„ä¾‹ç¤ºæ„"></a>ç¯„ä¾‹ç¤ºæ„</h3><p>ç•¶ç„¶ï¼Œå¦‚æœåƒ…ä»¥ä¸Šä»‹ç´¹ï¼Œç„¡æ³•å®Œæ•´äº†è§£ï¼Œé€™ç­æº–å‚™äº†å¹¾å€‹ç¨‹å¼ç¢¼åŠæ­é…<a href="http://latentflip.com/loupe/?code=JC5vbignYnV0dG9uJywgJ2NsaWNrJywgZnVuY3Rpb24gb25DbGljaygpIHsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gdGltZXIoKSB7CiAgICAgICAgY29uc29sZS5sb2coJ1lvdSBjbGlja2VkIHRoZSBidXR0b24hJyk7ICAgIAogICAgfSwgMjAwMCk7Cn0pOwoKY29uc29sZS5sb2coIkhpISIpOwoKc2V0VGltZW91dChmdW5jdGlvbiB0aW1lb3V0KCkgewogICAgY29uc29sZS5sb2coIkNsaWNrIHRoZSBidXR0b24hIik7Cn0sIDUwMDApOwoKY29uc29sZS5sb2coIldlbGNvbWUgdG8gbG91cGUuIik7!!!PGJ1dHRvbj5DbGljayBtZSE8L2J1dHRvbj4=">loupe</a>ï¼Œè®“è®€è€…èƒ½å¤ æ›´äº†è§£å…¶é‹è¡Œæ­¥é©Ÿ</p>
<p>å¯ä»¥æŒ‰æ­¤<a href="http://latentflip.com/loupe/?code=Y29uc29sZS5sb2coIkhpIik7CnNldFRpbWVvdXQoZnVuY3Rpb24gY2IoKSB7CiAgY29uc29sZS5sb2coInRoZXJlIik7Cn0sIDUwMDApOwpjb25zb2xlLmxvZygiZW5kIik7!!!PGJ1dHRvbj5DbGljayBtZSE8L2J1dHRvbj4=">loupe</a>äº†è§£ JavaScript é‹è¡Œä»¥ä¸Šç¨‹å¼çš„æ­¥é©Ÿ</p>
<h3 id="ç¯„ä¾‹ç¤ºç¯„"><a href="#ç¯„ä¾‹ç¤ºç¯„" class="headerlink" title="ç¯„ä¾‹ç¤ºç¯„"></a>ç¯„ä¾‹ç¤ºç¯„</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Hi&quot;</span>);<br><span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span> <span class="hljs-title function_">cb</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;there&quot;</span>);<br>&#125;, <span class="hljs-number">5000</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;end&quot;</span>);<br></code></pre></td></tr></table></figure>

<p>æœƒå¾—åˆ°ä»¥ä¸‹çµæœï¼š</p>
<figure class="highlight ada"><table><tr><td class="code"><pre><code class="hljs ada">Hi<br><span class="hljs-keyword">end</span><br>there<br></code></pre></td></tr></table></figure>

<h3 id="ç¯„ä¾‹ç¤ºç¯„-2"><a href="#ç¯„ä¾‹ç¤ºç¯„-2" class="headerlink" title="ç¯„ä¾‹ç¤ºç¯„ 2"></a>ç¯„ä¾‹ç¤ºç¯„ 2</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-title function_">foo</span>();<br>&#125;<br><br><span class="hljs-title function_">foo</span>();<br></code></pre></td></tr></table></figure>

<p>æœƒå¾—åˆ°ä»¥ä¸‹çµæœï¼š</p>
<img src="/images/eventLoop/pasted-0.png">

<p>æ­¤åˆç¨±ç‚º<strong>Stack Overflow</strong>ï¼Œç•¶ Stack ä¸æ–·å¢é•·ï¼Œç›´åˆ°ç€è¦½å™¨è¨˜æ†¶é«”è€—ç›¡ã€‚æ˜¯ç€è¦½å™¨åœ¨å“€åšçš„è²éŸ³ ğŸ˜‚ğŸ˜‚</p>
<p>ä»¥ä¸Šæ˜¯é—œæ–¼ Event Loop çš„ä»‹ç´¹ï¼Œæ˜¯æˆ‘ç”±ä»¥ä¸‹åƒè€ƒè³‡æ–™æ•´ç†+è‡ªå·±ç¹ªåœ–è€Œæˆï¼Œå¦‚æœæ‚¨æœ‰èˆˆè¶£äº†è§£æ›´å¤šï¼Œè«‹åƒè€ƒï¼š</p>
<h3 id="åƒè€ƒè³‡æ–™ï¼š"><a href="#åƒè€ƒè³‡æ–™ï¼š" class="headerlink" title="åƒè€ƒè³‡æ–™ï¼š"></a>åƒè€ƒè³‡æ–™ï¼š</h3><blockquote>
<p>What the heck is the event loop anyway? | Philip Roberts <a href="https://www.youtube.com/watch?v=8aGhZQkoFbQ">https://www.youtube.com/watch?v=8aGhZQkoFbQ</a></p>
</blockquote>
<blockquote>
<p>è«‹èªªæ˜ç€è¦½å™¨ä¸­çš„äº‹ä»¶å¾ªç’° (Event Loop) <a href="https://www.explainthis.io/zh-hant/swe/what-is-event-loop">https://www.explainthis.io/zh-hant/swe/what-is-event-loop</a></p>
</blockquote>
<blockquote>
<p>What is an event loop in JavaScript? <a href="https://www.educative.io/answers/what-is-an-event-loop-in-javascript">https://www.educative.io/answers/what-is-an-event-loop-in-javascript</a></p>
</blockquote>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>Event Loop</tag>
      </tags>
  </entry>
  <entry>
    <title>LeetcodeæŒ‘æˆ°: Day15 excel sheet column title</title>
    <url>/2024/02/13/leetcode-excel-sheet-column-title/</url>
    <content><![CDATA[<p>ç‚ºäº†åŠ å¼·è‡ªå·±çš„ç¨‹å¼èƒ½åŠ›ï¼Œå› æ­¤é–‹å§‹è¨˜éŒ„æ¯å¤©åˆ·leetcodeçš„è§£æ³•+èªªæ˜ï¼Œæœƒç”¨<code>Ruby</code>ã€<code>python</code>å’Œ<code>JavaScript</code>ä¸‰å€‹èªè¨€ä¾†è§£é¡Œï¼Œä»Šå¤©æ˜¯ç¬¬åäº”å¤©ï¼Œè®“æˆ‘å€‘é–‹å§‹å§ï¼</p>
<img src="/images/leetcode-excel-sheet-column-title/0213.png">

<p>é¡Œç›®ä¾†æºï¼š<a href="https://leetcode.com/problems/length-of-last-word/description/">leetcode</a></p>
<p>é€™æ¬¡çš„é¡Œç›®è »æœ‰è¶£çš„ï¼Œæ˜¯çµ¦äºˆExcelçš„æ¬„ä½å°‡æ•¸æ›ç‚ºæ•¸å­—ï¼ŒExcelæ¬„ä½çš„æ…£ä¾‹ç‚ºï¼š</p>
<figure class="highlight clean"><table><tr><td class="code"><pre><code class="hljs clean">A -&gt; <span class="hljs-number">1</span><br>B -&gt; <span class="hljs-number">2</span><br>C -&gt; <span class="hljs-number">3</span><br>...<br>Z -&gt; <span class="hljs-number">26</span><br>AA -&gt; <span class="hljs-number">27</span><br>AB -&gt; <span class="hljs-number">28</span> <br>...<br></code></pre></td></tr></table></figure>
<p>A<del>Zæ˜¯1</del>26ï¼Œ27æ˜¯AA,28æ˜¯ABï¼Œä¾åºä¸‹å»ï¼Œç­‰æ–¼æ˜¯æ»¿<code>26</code>å¾Œæœƒé€²ä½ã€‚<br>é€™æ¨£ä¾†çœ‹ï¼Œå…¶å¯¦Excelæ¬„ä½å’Œ26é€²ä½è »åƒçš„ï¼Œè½‰æ›éœ€è¦ &#x2F; 26å¾Œçš„é¤˜æ•¸å°æ‡‰åˆ°ç›¸æ‡‰çš„å­—æ¯å³å¯ï¼ˆå’Œåé€²ä½è½‰äºŒé€²ä½æœ‰é»åƒï¼‰ï¼Œå› ç‚ºå‰›å¥½å°æ‡‰çš„æ˜¯å­—æ¯ï¼Œå¯ä»¥å°‡å…¶è½‰æ›ç‚º<code>ASCII</code>ç¢¼ï¼Œåœ¨<code>ASCII</code>è£¡ï¼Œ<code>A</code>ç‚º<code>065</code>ã€<code>B</code>ç‚º<code>066</code>â€¦.ä¾åºæ’åºï¼Œæ’åºåˆ°<code>Z</code>ç‚º<code>090</code>ã€‚</p>
<h2 id="Ruby"><a href="#Ruby" class="headerlink" title="Ruby"></a>Ruby</h2><figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">convert_to_title</span>(<span class="hljs-params">column_number</span>)<br>  result = <span class="hljs-string">&#x27;&#x27;</span> <span class="hljs-comment">#åˆ©ç”¨ç©ºå­—ä¸²ä¾†å„²å­˜çµæœ</span><br>  <span class="hljs-keyword">while</span> column_number &gt; <span class="hljs-number">0</span><br>    column_number -= <span class="hljs-number">1</span> <span class="hljs-comment"># æ¸›å»1ï¼Œé€™æ¨£1å°±å°æ‡‰åˆ°&#x27;A&#x27;</span><br>    result = (<span class="hljs-string">&#x27;A&#x27;</span>.ord + column_number % <span class="hljs-number">26</span>).chr + result<br>    <span class="hljs-comment"># å–å¾—å°æ‡‰å­—æ¯ï¼ŒåŠ åˆ°çµæœå­—ä¸²çš„æœ€å‰é¢</span><br>    column_number /= <span class="hljs-number">26</span><br>    <span class="hljs-comment"># å°‡ column_number é™¤ä»¥ 26ï¼Œä»¥è™•ç†ä¸‹ä¸€ä½æ•¸å­—</span><br>  <span class="hljs-keyword">end</span><br>  result<br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure>
<p><code>column_number -= 1</code><br>æ­¤æ–¹æ³•æ˜¯åˆ©ç”¨<code>é¤˜æ•¸</code>å…ˆå–<code>å€‹ä½æ•¸</code>çš„å­—æ¯ï¼Œå†<code>/26</code>å–å¾—æ¥ä¸‹ä¾†çš„æ•¸å­—å­—æ¯ï¼Œæœƒéœ€è¦å…ˆ<code>-1</code>ï¼Œé€™æ¨£<code>1</code>æ‰èƒ½å°æ‡‰åˆ°<code>A</code></p>
<p><code>result = (&#39;A&#39;.ord + column_number % 26).chr + result</code><br>é€™æ®µçš„<code>ord</code>æ˜¯å°‡å­—æ¯è½‰æ›ç‚º<code>ASCII</code>ï¼Œå› ç‚ºæ¯å€‹å­—æ¯éƒ½æ˜¯æŒ‰ç…§é †åºæ’åºï¼Œæ‰€ä»¥ä¸­é–“çš„å·®æ•¸å°±æ˜¯<code>&#39;A&#39;.ord</code>ï¼Œæœ€å¾Œå†ä½¿ç”¨<code>.chr</code>è½‰ç‚ºæ•¸å­—ï¼Œæœ€å¾Œ <code>+ result</code>æ›´æ–°<code>result</code>çš„æ•¸ï¼Œä¸¦ç¢ºä¿ä¸‹ä¸€å€‹<code>result</code>æœƒæ”¾åœ¨å‰é¢</p>
<p>æ¥è‘—æœ€å¾Œå†å°‡è¼¸å…¥å€¼<code>/26</code>ä¾†è™•ç†ä¸‹ä¸€ä½æ•¸ï¼ˆçœŸçš„å’Œåé€²ä½è½‰äºŒé€²ä½è »åƒçš„ï½ï¼‰</p>
<h2 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">convertToTitle</span>(<span class="hljs-params">self, columnNumber: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">str</span>:<br>        result = <span class="hljs-string">&#x27;&#x27;</span><br>        <span class="hljs-keyword">while</span> columnNumber:<br>            columnNumber -= <span class="hljs-number">1</span><br>            result = <span class="hljs-built_in">chr</span>(<span class="hljs-built_in">ord</span>(<span class="hljs-string">&#x27;A&#x27;</span>) + columnNumber % <span class="hljs-number">26</span>) + result<br>            columnNumber //= <span class="hljs-number">26</span><br>        <span class="hljs-keyword">return</span> result<br><br></code></pre></td></tr></table></figure>
<p>Pythonå’ŒRubyçš„è§£æ³•ç›¸åŒï¼Œåªè¦æ”¹è®Šå¯«æ³•å³å¯ï¼</p>
<h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">convertToTitle</span>(<span class="hljs-params">columnNumber</span>) &#123;<br>    <span class="hljs-keyword">let</span> result = <span class="hljs-string">&#x27;&#x27;</span>;<br>    <span class="hljs-keyword">while</span> (columnNumber &gt; <span class="hljs-number">0</span>) &#123;<br>        columnNumber--;<br>        result = <span class="hljs-title class_">String</span>.<span class="hljs-title function_">fromCharCode</span>(<span class="hljs-string">&#x27;A&#x27;</span>.<span class="hljs-title function_">charCodeAt</span>(<span class="hljs-number">0</span>) + columnNumber % <span class="hljs-number">26</span>) + result;<br>        columnNumber = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(columnNumber / <span class="hljs-number">26</span>);<br>    &#125;<br>    <span class="hljs-keyword">return</span> result;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>JSä¹Ÿå’ŒRubyçš„è§£æ³•ç›¸åŒï¼Œåªè¦æ”¹è®Šå¯«æ³•å³å¯ï¼<br>ä»Šå¤©å°±åˆ°é€™è£¡ï½æ˜å¤©ç¹¼çºŒåŠ æ²¹ï¼</p>
]]></content>
      <categories>
        <category>leetcode</category>
      </categories>
      <tags>
        <tag>Ruby</tag>
        <tag>Python</tag>
        <tag>JavaScript</tag>
        <tag>leetcode</tag>
        <tag>excel sheet column title</tag>
      </tags>
  </entry>
  <entry>
    <title>Leetcode: happy number</title>
    <url>/2024/02/26/leetcode-happy-number/</url>
    <content><![CDATA[<style>
  .em-div{
  background-color: #d4a373;
  color: white;
  padding: 10px;
  margin: 10px;
  border-radius: 5px;
  }
</style>
<p>ç‚ºäº†åŠ å¼·è‡ªå·±çš„ç¨‹å¼èƒ½åŠ›ï¼Œå› æ­¤é–‹å§‹è¨˜éŒ„åˆ·leetcodeçš„è§£æ³•+èªªæ˜ï¼Œæœƒç”¨<code>Ruby</code>ã€<code>python</code>å’Œ<code>JavaScript</code>ä¸‰å€‹èªè¨€ä¾†è§£é¡Œ</p>
<img src="/images/leetcode-happy-number/happy-number.png">

<p>é¡Œç›®ä¾†æºï¼š<a href="https://leetcode.com/problems/happy-number/description/">leetcode</a></p>
<p>å…¶å¯¦é€™é¡Œå’Œä¹‹å‰è§£éçš„<a href="https://adora-xu.com/2024/02/20/codewars-square-every-digit/">square every digit</a>è »åƒçš„ï¼Œéƒ½è¦å°‡å€‹åˆ¥çš„æ•¸å­—å¹³æ–¹ï¼Œä¸éé€™è£¡å¤šäº†åˆ¤æ–·åŠ ç¸½æ˜¯å¦ç­‰æ–¼1çš„æ­¥é©Ÿã€‚</p>
<p>å…¶å¯¦åˆ°é€™æ­¥å°±å¯ä»¥å¯«å‡ºç¨‹å¼ç¢¼ï¼Œåˆ©ç”¨ä¸æ–·è¿­ä»£åŠ ä¸Šåˆ¤æ–·å¼ï¼Œåˆ¤æ–·æ˜¯å¦ç‚ºå¿«æ¨‚æ•¸ã€‚<br>ä»¥Rubyç¤ºç¯„å¯ä»¥é€™æ¨£å¯«ï¼š</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">is_happy</span>(<span class="hljs-params">n</span>)<br><span class="hljs-comment"># è§£æ³•ä¸€</span><br>  <span class="hljs-keyword">while</span> n != <span class="hljs-number">1</span><br>    n = n.to_s.chars.map &#123; |<span class="hljs-params">digit</span>| digit.to_i ** <span class="hljs-number">2</span> &#125;.sum<br>  <span class="hljs-keyword">end</span><br>  n == <span class="hljs-number">1</span><br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure>
<p>ä½†å¦‚æœæƒ³è¦ç¨‹å¼ç¢¼æ•ˆç‡æ›´é«˜ä¸€é»å‘¢ï¼Ÿ</p>
<p>å°±éœ€è¦æ›´äº†è§£å¿«æ¨‚æ•¸ä¸€é»ï¼Œé—œæ–¼å¿«æ¨‚æ•¸çš„ä»‹ç´¹ï¼Œå¯ä»¥åƒè€ƒç¶­åŸºç™¾ç§‘ï¼š<a href="https://zh.wikipedia.org/zh-tw/%E5%BF%AB%E6%A8%82%E6%95%B8">å¿«æ¨‚æ•¸</a></p>
<p>å…¶ä¸­æœ‰æåˆ°ï¼š</p>
<div class="em-div">
ä¸æ˜¯å¿«æ¨‚æ•¸çš„æ•¸ç¨±ç‚ºä¸å¿«æ¨‚æ•¸ï¼ˆè‹±èªï¼šunhappy numberï¼‰ï¼Œæ‰€æœ‰ä¸å¿«æ¨‚æ•¸çš„æ•¸ä½å¹³æ–¹å’Œè¨ˆç®—ï¼Œæœ€å¾Œéƒ½æœƒé€²å…¥ 4 â†’ 16 â†’ 37 â†’ 58 â†’ 89 â†’ 145 â†’ 42 â†’ 20 â†’ 4 çš„å¾ªç’°ä¸­ã€‚
</div>

<p>å› æ­¤ï¼Œå¦‚æœæ•¸å­—æœ‰<code>4</code>å¯ä»¥å…ˆæ’é™¤ï¼Œå› ç‚ºæœƒé€²åˆ°ç„¡é™å¾ªç’°ä¸­ï¼Œé€™æ™‚ç¨‹å¼ç¢¼å¯ä»¥å¯«æˆé€™æ¨£ï¼š</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-comment">#è§£æ³•äºŒ</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">is_happy</span>(<span class="hljs-params">n</span>)<br>  <span class="hljs-keyword">while</span> n != <span class="hljs-number">1</span> &amp;&amp; n != <span class="hljs-number">4</span><br>    n = n.to_s.chars.map &#123; |<span class="hljs-params">digit</span>| digit.to_i ** <span class="hljs-number">2</span> &#125;.sum<br>  <span class="hljs-keyword">end</span><br>  n == <span class="hljs-number">1</span><br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥æŠŠå¾ªç’°çš„æ•¸å­—ï¼Œè£½ä½œæˆä¸€å€‹<code>set</code>ï¼Œé¿æ‰æ‰€æœ‰ä¸å¿«æ¨‚æ•¸ç„¡é™å¾ªç’°çš„å¯èƒ½ï¼š</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-comment">#è§£æ³•ä¸‰</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">is_happy</span>(<span class="hljs-params">n</span>)<br>  cycle_set = <span class="hljs-title class_">Set</span>.new([<span class="hljs-number">4</span>, <span class="hljs-number">16</span>, <span class="hljs-number">37</span>, <span class="hljs-number">58</span>, <span class="hljs-number">89</span>, <span class="hljs-number">145</span>, <span class="hljs-number">42</span>, <span class="hljs-number">20</span>])<br><br>  <span class="hljs-keyword">while</span> n != <span class="hljs-number">1</span> &amp;&amp; !cycle_set.<span class="hljs-keyword">include</span>?(n)<br>    n = n.to_s.chars.map &#123; |<span class="hljs-params">digit</span>| digit.to_i ** <span class="hljs-number">2</span> &#125;.sum<br>  <span class="hljs-keyword">end</span><br><br>  n == <span class="hljs-number">1</span><br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure>

<p>å› ç‚ºè¦ºå¾—ç¬¬äºŒç¨®è§£æ³•æ¯”è¼ƒç›´è§€ï¼Œæ•ˆç‡ä¹Ÿæ¯”è¼ƒå¥½ï¼Œå› æ­¤<code>python</code> &amp; <code>js</code>æˆ‘éƒ½ä½¿ç”¨ç¬¬äºŒç¨®å¯«æ³•ï¼š</p>
<h1 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h1><figure class="highlight py"><table><tr><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">def</span> <span class="hljs-title function_">is_happy</span>(<span class="hljs-params">n</span>):<br>    <span class="hljs-keyword">while</span> n != <span class="hljs-number">1</span> <span class="hljs-keyword">and</span> n != <span class="hljs-number">4</span>:<br>        n = <span class="hljs-built_in">sum</span>(<span class="hljs-built_in">int</span>(digit) ** <span class="hljs-number">2</span> <span class="hljs-keyword">for</span> digit <span class="hljs-keyword">in</span> <span class="hljs-built_in">str</span>(n))<br>    <span class="hljs-keyword">return</span> n == <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure>

<h1 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h1><figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">isHappy</span>(<span class="hljs-params">n</span>) &#123;<br>    <span class="hljs-keyword">while</span> (n !== <span class="hljs-number">1</span> &amp;&amp; n !== <span class="hljs-number">4</span>) &#123;<br>        n = <span class="hljs-title class_">String</span>(n).<span class="hljs-title function_">split</span>(<span class="hljs-string">&#x27;&#x27;</span>).<span class="hljs-title function_">map</span>(<span class="hljs-title class_">Number</span>).<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">sum, digit</span>) =&gt;</span> sum + digit ** <span class="hljs-number">2</span>, <span class="hljs-number">0</span>);<br>    &#125;<br>    <span class="hljs-keyword">return</span> n === <span class="hljs-number">1</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>leetcode</category>
      </categories>
      <tags>
        <tag>Ruby</tag>
        <tag>Python</tag>
        <tag>JavaScript</tag>
        <tag>leetcode</tag>
        <tag>happy number</tag>
      </tags>
  </entry>
  <entry>
    <title>LeetcodeæŒ‘æˆ°: Day09 length of last word</title>
    <url>/2024/02/07/leetcode-length-of-last-word/</url>
    <content><![CDATA[<p>ç‚ºäº†åŠ å¼·è‡ªå·±çš„ç¨‹å¼èƒ½åŠ›ï¼Œå› æ­¤é–‹å§‹è¨˜éŒ„æ¯å¤©åˆ·leetcodeçš„è§£æ³•+èªªæ˜ï¼Œæœƒç”¨<code>Ruby</code>ã€<code>python</code>å’Œ<code>JavaScript</code>ä¸‰å€‹èªè¨€ä¾†è§£é¡Œï¼Œä»Šå¤©æ˜¯ç¬¬ä¹å¤©ï¼Œè®“æˆ‘å€‘é–‹å§‹å§ï¼</p>
<img src="/images/leetcode-length-of-last-word/1.png">

<p>é¡Œç›®ä¾†æºï¼š<a href="https://leetcode.com/problems/length-of-last-word/description/">leetcode</a></p>
<p>å› ç‚ºé¡Œç›®å‰å¾Œæœƒæœ‰ç©ºæ ¼ï¼Œæ‰€ä»¥æœƒéœ€è¦åˆªé™¤é ­å°¾çš„ç©ºç™½å¾Œï¼Œå†ä¾æ“šå…§å®¹æ‹†åˆ†ç‚ºé™£åˆ—ï¼Œå–å‡ºé™£åˆ—æœ€å¾Œä¸€å€‹çš„é•·åº¦å³å¯ã€‚</p>
<p>é€™å€‹é¡Œç›®ä¸æœƒå†å–ç”¨åŸå§‹çµ¦äºˆçš„<code>input</code>å€¼ï¼Œæ‰€ä»¥ä¸éœ€è¦è€ƒæ…®ä½¿å¦æœƒå›å‚³æ–°çš„å€¼æˆ–æ˜¯æ›´æ”¹åŸå€¼ï¼Œå°±è®Šå¾—æ¯”è¼ƒå–®ç´”ä¸€é»ï½</p>
<h2 id="Ruby"><a href="#Ruby" class="headerlink" title="Ruby"></a>Ruby</h2><figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">length_of_last_word</span>(<span class="hljs-params">s</span>)<br>  s.strip.split(<span class="hljs-string">&#x27; &#x27;</span>).last.length<br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure>
<p>Rubyå¯ä»¥ä½¿ç”¨<a href="https://rubyapi.org/3.3/o/s?q=strip">strip</a>å»é™¤å‰å¾Œçš„ç©ºæ ¼ï¼Œæ¥è‘—ä½¿ç”¨<code>split(&#39; &#39;)</code>å°‡ç©ºæ ¼æ‹†åˆ†ç‚ºé™£åˆ—ï¼Œå–å‡º<code>last.length</code>å°±æ‰¾å‡ºç­”æ¡ˆäº†ï½</p>
<h2 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">lengthOfLastWord</span>(<span class="hljs-params">self, s: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(s.strip().split(<span class="hljs-string">&#x27; &#x27;</span>)[-<span class="hljs-number">1</span>])<br></code></pre></td></tr></table></figure>
<p>Pythonä¹Ÿæ˜¯ä½¿ç”¨<a href="https://docs.python.org/3/library/stdtypes.html">strip</a>ï¼Œæ¥è‘—ä½¿ç”¨<code>split(&#39; &#39;)</code>æ‹†åˆ†ç‚ºé™£åˆ—ï¼Œé€™å€‹å’ŒRubyç›¸åŒã€‚æœ€å¾Œä½¿ç”¨<code>[-1]</code>å–å‡ºæœ€å¾Œä¸€ä½æ•¸ï¼Œå†ä½¿ç”¨<code>len()</code>åŒ…ä½å–å‡ºé•·åº¦å³å¯ï½</p>
<h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> lengthOfLastWord = <span class="hljs-keyword">function</span>(<span class="hljs-params">s</span>) &#123;<br>    <span class="hljs-keyword">return</span> s.<span class="hljs-title function_">trim</span>().<span class="hljs-title function_">split</span>(<span class="hljs-string">&#x27; &#x27;</span>).<span class="hljs-title function_">pop</span>().<span class="hljs-property">length</span>;<br>&#125;;<br></code></pre></td></tr></table></figure>
<p>JSå»é™¤å‰å¾Œçš„ç©ºæ ¼ä½¿ç”¨<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/trim">trim()</a>ï¼Œæ¥è‘—ä¸€æ¨£ä½¿ç”¨<code>split(&#39; &#39;)</code>æ‹†åˆ†ç‚ºé™£åˆ—ï¼Œä¸¦ä½¿ç”¨<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/pop">pop()</a>å–å‡ºé™£åˆ—æœ€å¾Œä¸€ä½æ•¸ï¼Œå†ä½¿ç”¨<code>lenght</code>å–é•·åº¦å³å¯ï½</p>
]]></content>
      <categories>
        <category>leetcode</category>
      </categories>
      <tags>
        <tag>Ruby</tag>
        <tag>Python</tag>
        <tag>JavaScript</tag>
        <tag>leetcode</tag>
        <tag>length of last word</tag>
      </tags>
  </entry>
  <entry>
    <title>LeetcodeæŒ‘æˆ°: Day05 longest common prefix</title>
    <url>/2024/02/03/leetcode-longest-common-prefix/</url>
    <content><![CDATA[<p>ç‚ºäº†åŠ å¼·è‡ªå·±çš„ç¨‹å¼èƒ½åŠ›ï¼Œå› æ­¤è¨˜éŒ„æ¯å¤©åˆ·leetcodeçš„è§£æ³•+èªªæ˜ï¼Œä»Šå¤©æœƒç”¨<code>Ruby</code>ã€<code>Python</code>ã€<code>JavaScript</code>ä¾†è§£é¡Œï¼Œä»Šå¤©ä¾†åˆ°ç¬¬äº”å¤©ï¼Œè®“æˆ‘å€‘ç¹¼çºŒå§ï¼</p>
<img src="/images/leetcode-longest-common-prefix/1.png">

<p>é¡Œç›®ä¾†æºï¼š<a href="https://leetcode.com/problems/longest-common-prefix/">leetcode</a></p>
<h2 id="Ruby"><a href="#Ruby" class="headerlink" title="Ruby"></a>Ruby</h2><figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">longest_common_prefix</span>(<span class="hljs-params">strs</span>)<br>  <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&quot;</span> <span class="hljs-keyword">if</span> strs.empty?<br><br>  common_prefix = <span class="hljs-string">&quot;&quot;</span><br>  first_str = strs.first<br><br>  first_str.chars.each_with_index <span class="hljs-keyword">do</span> |<span class="hljs-params">char, i</span>|<br>    <span class="hljs-keyword">break</span> <span class="hljs-keyword">unless</span> strs.all? &#123; |<span class="hljs-params">str</span>| str[i] == char &#125;<br>    common_prefix += char<br>  <span class="hljs-keyword">end</span><br><br>  common_prefix<br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure>

<p>å…ˆå¾é™£åˆ—ä¸­å–å‡ºç¬¬ä¸€å€‹æ•¸ç‚º<code>first_str</code>ï¼Œä½œç‚ºæ¯”è¼ƒçš„åŸºæº–ï¼Œæ¥è‘—ä½¿ç”¨<code>.chars.each_with_index</code>å°ç¬¬ä¸€å€‹è©æ¯å€‹å­—æ¯åšè¿­ä»£ï¼Œä¸¦è¿”å›ç´¢å¼•å€¼<code>i</code>ã€‚</p>
<p><code>.all</code>æ˜¯ä¾†æª¢æŸ¥<code>array</code>ä¸­çš„æ‰€æœ‰å…ƒç´ æ˜¯å¦éƒ½ç¬¦åˆç»™å®šçš„æ¢ä»¶ï¼Œé€™è£¡çš„æ¢ä»¶å°±æ˜¯<code>str[i] == char</code>ï¼Œå¦‚æœæœ‰ä¸åŒå³åœæ­¢ã€‚</p>
<p><code>common_prefix</code>å³è¨˜éŒ„<code>array</code>ä¸­ç›¸åŒçš„å­—</p>
<h2 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">longestCommonPrefix</span>(<span class="hljs-params">self, strs: <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>]</span>) -&gt; <span class="hljs-built_in">str</span>:<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> strs:<br>            <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&quot;</span><br><br>        common_prefix = <span class="hljs-string">&quot;&quot;</span><br>        first_str = strs[<span class="hljs-number">0</span>]<br><br>        <span class="hljs-keyword">for</span> i, char <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(first_str):<br>            <span class="hljs-keyword">if</span> <span class="hljs-built_in">any</span>(i &gt;= <span class="hljs-built_in">len</span>(s) <span class="hljs-keyword">or</span> s[i] != char <span class="hljs-keyword">for</span> s <span class="hljs-keyword">in</span> strs):<br>                <span class="hljs-keyword">break</span><br>            common_prefix += char<br><br>        <span class="hljs-keyword">return</span> common_prefix<br></code></pre></td></tr></table></figure>
<p><code>enumerate</code>æœƒå›å‚³å­—ä¸²çš„<code>index</code>ï¼Œä»¥ä¸‹æ˜¯ç¯„ä¾‹</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-meta">&gt;&gt;&gt; </span>seasons = [<span class="hljs-string">&#x27;Spring&#x27;</span>, <span class="hljs-string">&#x27;Summer&#x27;</span>, <span class="hljs-string">&#x27;Fall&#x27;</span>, <span class="hljs-string">&#x27;Winter&#x27;</span>]<br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-built_in">list</span>(<span class="hljs-built_in">enumerate</span>(seasons))<br>[(<span class="hljs-number">0</span>, <span class="hljs-string">&#x27;Spring&#x27;</span>), (<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;Summer&#x27;</span>), (<span class="hljs-number">2</span>, <span class="hljs-string">&#x27;Fall&#x27;</span>), (<span class="hljs-number">3</span>, <span class="hljs-string">&#x27;Winter&#x27;</span>)]<br></code></pre></td></tr></table></figure>
<p><code>s[i]</code>å‰‡æ˜¯ä»£è¡¨<code>str</code>å…§çš„<code>i</code>ä½ç½®çš„å­—æ¯ï¼ŒåŸºæœ¬ä¸Šå’Œrubyé‚è¼¯ä¸€æ¨£ï¼Œåªæ˜¯å¯«æ³•ä¸åŒè€Œå·²ï¼</p>
<h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">longestCommonPrefix</span>(<span class="hljs-params">strs</span>) &#123;<br>    <span class="hljs-keyword">if</span> (strs.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&quot;</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">let</span> commonPrefix = <span class="hljs-string">&quot;&quot;</span>;<br>    <span class="hljs-keyword">const</span> firstStr = strs[<span class="hljs-number">0</span>];<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; firstStr.<span class="hljs-property">length</span>; i++) &#123;<br>        <span class="hljs-keyword">const</span> char = firstStr[i];<br>        <span class="hljs-keyword">if</span> (!strs.<span class="hljs-title function_">every</span>(<span class="hljs-function"><span class="hljs-params">str</span> =&gt;</span> str[i] === char)) &#123;<br>            <span class="hljs-keyword">break</span>;<br>        &#125;<br>        commonPrefix += char;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> commonPrefix;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><code>JS</code>çš„å¯«æ³•å’Œ<code>Ruby</code>å·®ä¸å¤šï¼Œå¯ä»¥ä½¿ç”¨<code>.every</code>ä¾†ç¢ºä¿æ˜¯å¦ç‚ºç›¸åŒå­—æ¯ï¼Œå…¶ä»–è§£æ³•å°±å’Œ<code>Ruby</code>å’Œ<code>Python</code>é¡ä¼¼ï¼Œå·®åˆ¥åœ¨ä½¿ç”¨<code>for (let i = 0; i &lt; firstStr.length; i++)</code>è¿´åœˆï¼Œä¸¦ä½¿ç”¨<code>str[i]</code>ä¾†æ¯”å°æ–‡å­—æ˜¯å¦ç›¸ç¬¦ï¼Œæœ€å¾Œä¹Ÿå®Œæˆè§£ç­”ï¼</p>
<p>é€™å¹¾å¤©å¯«ä¸‹ä¾†Rubyçœ‹èµ·ä¾†é‚„æ˜¯æœ€ç°¡æ½”å„ªé›…Ù©(â—Ë™â–¿Ë™â—)Û¶ï¼Œçœ‹èµ·ä¾†å¥½èˆ’æœ</p>
]]></content>
      <categories>
        <category>leetcode</category>
      </categories>
      <tags>
        <tag>Ruby</tag>
        <tag>Python</tag>
        <tag>JavaScript</tag>
        <tag>leetcode</tag>
        <tag>longest common prefix</tag>
      </tags>
  </entry>
  <entry>
    <title>LeetcodeæŒ‘æˆ°: Day01 merge sorted array</title>
    <url>/2024/01/30/leetcode-merge-sorted-array/</url>
    <content><![CDATA[<p>ç‚ºäº†åŠ å¼·è‡ªå·±çš„ç¨‹å¼èƒ½åŠ›ï¼Œå› æ­¤é–‹å§‹è¨˜éŒ„æ¯å¤©åˆ·leetcodeçš„è§£æ³•+èªªæ˜ï¼Œæœƒç”¨<code>Ruby</code>ã€<code>python</code>å’Œ<code>JavaScript</code>ä¸‰å€‹èªè¨€ä¾†è§£é¡Œï¼Œä»Šå¤©æ˜¯ç¬¬ä¸€å¤©ï¼Œè®“æˆ‘å€‘é–‹å§‹å§ï¼</p>
<img src="/images/leet-code-day-1/1.png">

<p>é¡Œç›®ä¾†æºï¼š<a href="https://leetcode.com/problems/merge-sorted-array/description/?envType=study-plan-v2&envId=top-interview-150">leetcode</a></p>
<h2 id="Ruby"><a href="#Ruby" class="headerlink" title="Ruby"></a>Ruby</h2><figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">merge</span>(<span class="hljs-params">nums1, m, nums2, n</span>)<br>  nums1.replace((nums1[<span class="hljs-number">0</span>...m] + nums2).sort)<br><span class="hljs-keyword">end</span><br><br><span class="hljs-comment"># æ¸¬è©¦</span><br>nums1 = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>]<br>m = <span class="hljs-number">3</span><br>nums2 = [<span class="hljs-number">2</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]<br>n = <span class="hljs-number">3</span><br><br>merge(nums1, m, nums2, n)<br>result_array = nums1.take(m + n)<br>puts result_array<br></code></pre></td></tr></table></figure>

<p>ä½¿ç”¨<code>replace</code>å–ä»£ï¼Œ</p>
<p><code>nums1[0..m]</code>ç‚ºå–ä½ç½®0..mçš„é™£åˆ—å…§å®¹ï¼Œå†ä½¿ç”¨ <code>+nums2</code>ï¼Œå°‡å…©å€‹é™£åˆ—å…§å®¹çµ„åˆèµ·ä¾†ï¼Œæœ€å¾Œä½¿ç”¨sortå®Œæˆéå¢æ’åºã€‚</p>
<p>Rubyè »ç°¡æ½”çš„ï¼</p>
<h2 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">merge</span>(<span class="hljs-params">self, nums1: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], m: <span class="hljs-built_in">int</span>, nums2: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], n: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-literal">None</span>:<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        Do not return anything, modify nums1 in-place instead.</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        nums1[m:] = nums2<br>        nums1.sort()<br></code></pre></td></tr></table></figure>
<p>pythonå’ŒRubyä¸€æ¨£ç°¡æ½”ï¼Œä¸éæœ‰ç¨å¾®ä¸åŒï¼š<br><code>nums1[:m]</code>:æ˜¯æŒ‡å¾nums1é™£åˆ—ä¸­åˆ‡ç‰‡å–å‡º<code>m</code>å€‹å…ƒç´ <br><code>nums1[m:] = nums2</code>:å°‡nums2æ·»åŠ åˆ°åˆ‡ç‰‡å¾Œçš„nums1å…§<br>æœ€å¾Œå†ä½¿ç”¨<code>sort</code>æ’åº<code>nums1[:m]</code></p>
<h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby">var merge = function(nums1, m, nums2, n) &#123;<br>  nums1.splice(<span class="hljs-number">0</span>, m + n, ...nums1.slice(<span class="hljs-number">0</span>, m).concat(nums2).sort((a, b) =&gt; a - b));<br>&#125;;<br><br><span class="hljs-regexp">//</span> æ¸¬è©¦<br>var nums1 = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>];<br>var m = <span class="hljs-number">3</span>;<br>var nums2 = [<span class="hljs-number">2</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>];<br>var n = <span class="hljs-number">3</span>;<br><br>merge(nums1, m, nums2, n);<br>console.log(nums1);<br></code></pre></td></tr></table></figure>

<p><code>slice</code></p>
<ul>
<li><code>arr.slice([begin[, end]])</code></li>
<li>slice() æ–¹æ³•æœƒå›å‚³ä¸€å€‹æ–°é™£åˆ—ç‰©ä»¶ï¼Œç‚ºåŸé™£åˆ—é¸æ“‡ä¹‹ begin è‡³ endï¼ˆä¸å« endï¼‰éƒ¨åˆ†ã€‚è€ŒåŸæœ¬çš„é™£åˆ—å°‡ä¸æœƒè¢«ä¿®æ”¹ã€‚</li>
<li>ä½¿ç”¨åœ¨é€™è£¡æ˜¯è¦åˆªæ‰num1é‡è¤‡çš„éƒ¨åˆ†ï¼Œæ’å…¥num2</li>
</ul>
<p><code>splice</code></p>
<ul>
<li><code>array.splice(start[, deleteCount[, item1[, item2[, ...]]]])</code></li>
<li>splice() æ–¹æ³•å¯ä»¥è—‰ç”±åˆªé™¤æ—¢æœ‰å…ƒç´ ä¸¦ï¼æˆ–åŠ å…¥æ–°å…ƒç´ ä¾†æ”¹è®Šä¸€å€‹é™£åˆ—çš„å…§å®¹ã€‚</li>
<li>åœ¨é€™è£¡æ˜¯è¦åŠ å…¥num1+num2çµ„åˆçš„å…§å®¹</li>
<li>ç¯„ä¾‹ï¼š</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">const</span> months = [<span class="hljs-string">&#x27;Jan&#x27;</span>, <span class="hljs-string">&#x27;March&#x27;</span>, <span class="hljs-string">&#x27;April&#x27;</span>, <span class="hljs-string">&#x27;June&#x27;</span>];<br>months.<span class="hljs-title function_">splice</span>(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-string">&#x27;Feb&#x27;</span>);<br><span class="hljs-comment">// Inserts at index 1</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(months);<br><span class="hljs-comment">// Expected output: Array [&quot;Jan&quot;, &quot;Feb&quot;, &quot;March&quot;, &quot;April&quot;, &quot;June&quot;]</span><br></code></pre></td></tr></table></figure>

<ul>
<li><code>nums1.splice(0, m + n, ...)</code>å°‡åˆä½µä¸”æ’åºçš„æ•¸çµ„æ’å…¥åˆ°nums1çš„é–‹å§‹ä½ç½®ï¼Œå–ä»£åŸæœ‰çš„å…ƒç´ ï¼Œå…¶ä¸­0æ˜¯é–‹å§‹ä½ç½®ï¼Œm + næ˜¯è¦åˆªé™¤çš„å…ƒç´ æ•¸é‡ï¼Œâ€¦æ˜¯å±•é–‹é‹ç®—ç¬¦ï¼Œç”¨æ–¼å°‡æ’åºå¾Œçš„æ•¸çµ„å±•é–‹æˆå–®ç¨çš„å…ƒç´ ã€‚</li>
<li>é€™å€‹å‡½æ•¸çš„ç›®çš„æ˜¯å°‡å…©å€‹å·²æ’åºçš„æ•¸çµ„ nums1 å’Œ nums2 åˆä½µï¼Œä¸¦å°‡çµæœå­˜å„²åœ¨ nums1 ä¸­ï¼ŒåŒæ™‚ä¿æŒæ’åºç‹€æ…‹ã€‚</li>
</ul>
<hr>
<p>åƒè€ƒï¼š<br><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Array/slice">MDN</a></p>
]]></content>
      <categories>
        <category>leetcode</category>
      </categories>
      <tags>
        <tag>Ruby</tag>
        <tag>Python</tag>
        <tag>JavaScript</tag>
        <tag>leetcode</tag>
        <tag>merge sorted array</tag>
      </tags>
  </entry>
  <entry>
    <title>LeetcodeæŒ‘æˆ°: Day08 majority element</title>
    <url>/2024/02/06/leetcode-majority-element/</url>
    <content><![CDATA[<p>ç‚ºäº†åŠ å¼·è‡ªå·±çš„ç¨‹å¼èƒ½åŠ›ï¼Œå› æ­¤é–‹å§‹è¨˜éŒ„æ¯å¤©åˆ·leetcodeçš„è§£æ³•+èªªæ˜ï¼Œæœƒç”¨<code>Ruby</code>ã€<code>python</code>å’Œ<code>JavaScript</code>ä¸‰å€‹èªè¨€ä¾†è§£é¡Œï¼Œä»Šå¤©æ˜¯ç¬¬å…«å¤©ï¼Œè®“æˆ‘å€‘é–‹å§‹å§ï¼</p>
<img src="/images/leetcode-majority-element/0206.png">

<p>é¡Œç›®ä¾†æºï¼š<a href="https://leetcode.com/problems/majority-element/?envType=study-plan-v2&envId=top-interview-150">leetcode</a></p>
<p>åœ¨è®€é¡Œç›®çš„æ™‚å€™ï¼Œç™¼ç¾æœ‰ä¸€å€‹å°ç´°ç¯€ï¼Œé¡Œç›®å¯«è¦æ‰¾å‡ºå‡ºç¾æ¬¡æ•¸å¤§æ–¼<code>[n/2]</code>çš„æ•¸å­—ï¼Œä¸”å‡å®šé€™å€‹æ•¸å­—ä¸€å®šå­˜åœ¨Arrayä¸­ã€‚é‚£ä¹Ÿå°±ä»£è¡¨ï¼Œåªè¦æ‰¾å‡ºæœ€å¸¸å‡ºç¾çš„æ•¸å°±å¯ä»¥äº†ï¼Œå› ç‚ºé™£åˆ—ä¸­åªè¦å…¶ä¸­ä¸€å€‹æ•¸å‡ºç¾çš„æ•¸é‡å¤§æ–¼<code>[n/2]</code>ï¼Œå‰©ä¸‹çš„æ•¸å‡ºç¾æ¬¡æ•¸å°±ä¸æœƒå¤§æ–¼<code>[n/2]</code>ï¼Œå¯ä»¥æƒ³åƒæˆï¼Œè¥¿ç“œè¢«æŒ–èµ°ä¸€åŠå¤šä¸€é»ï¼Œå‰©ä¸‹çš„è¥¿ç“œå†æ€éº¼åˆ†éƒ½æ²’è¾¦æ³•å¤§æ–¼ä¸€åŠã€‚</p>
<p>æ‰€ä»¥é€™é¡Œåªè¦æ‰¾å‡ºï¼Œå‡ºç¾æ¬¡æ•¸æœ€å¤šçš„æ•¸å­—å³å¯ï¼è®“æˆ‘å€‘é–‹å§‹è§£é¡Œå§ï½</p>
<h2 id="Ruby"><a href="#Ruby" class="headerlink" title="Ruby"></a>Ruby</h2><figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">majority_element</span>(<span class="hljs-params">nums</span>)<br>  nums.tally.max_by &#123;|<span class="hljs-params">key, value</span>| value &#125;[<span class="hljs-number">0</span>]<br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure>
<p>é€™è£¡ä½¿ç”¨äº†<a href="https://rubyapi.org/3.3/o/s?q=tally">tally</a></p>
<p>åœ¨Ruby APIçš„è§£é‡‹ç‚ºï¼š</p>
<figure class="highlight applescript"><table><tr><td class="code"><pre><code class="hljs applescript">Enumerable<span class="hljs-comment">#tally</span><br>Returns a hash containing <span class="hljs-keyword">the</span> counts <span class="hljs-keyword">of</span> <span class="hljs-keyword">equal</span> elements:<br>Each key <span class="hljs-keyword">is</span> an element <span class="hljs-keyword">of</span> self.<br>Each value <span class="hljs-keyword">is</span> <span class="hljs-keyword">the</span> <span class="hljs-built_in">number</span> elements <span class="hljs-keyword">equal</span> <span class="hljs-keyword">to</span> <span class="hljs-keyword">that</span> key.<br></code></pre></td></tr></table></figure>
<p>æ„æ€å°±æ˜¯å»ºç«‹ä¸€å€‹hashï¼Œkeyæ˜¯<code>self</code>ï¼Œvalueæ˜¯å‡ºç¾çš„æ¬¡æ•¸ï¼Œç°¡å–®çš„ç¯„ä¾‹ï¼š</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby">result = <span class="hljs-string">%w[a b c b c a c b]</span>.tally<br>puts result<br><span class="hljs-comment"># =&gt; &#123;&quot;a&quot;=&gt;2, &quot;b&quot;=&gt;3, &quot;c&quot;=&gt;3&#125;</span><br></code></pre></td></tr></table></figure>

<p>å»ºç«‹äº†hashä¹‹å¾Œï¼Œå³å¯ä»¥ä½¿ç”¨<a href="https://rubyapi.org/3.3/o/s?q=max_by">max_by</a>ï¼Œ<code>max_by</code>ï¼Œ<code>max_by</code>å…è¨±è¼¸å…¥å€¼ç‚º{}ï¼Œæœƒè¿”é‚„{}å…§æœ€å¤§çš„å€¼ï¼Œå› ç‚ºè¿”é‚„çš„æœƒæ˜¯<code>Array</code>ï¼Œä¾†çœ‹ä¸€ä¸‹ç¯„ä¾‹ï¼š</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby">result = &#123;<span class="hljs-symbol">foo:</span> <span class="hljs-number">1</span>, <span class="hljs-symbol">bar:</span> <span class="hljs-number">10</span>, <span class="hljs-symbol">baz:</span> <span class="hljs-number">8</span>&#125;.max_by &#123;|<span class="hljs-params">key, value</span>| value &#125;<br>puts result<br><span class="hljs-comment">#[:bar, 10]</span><br></code></pre></td></tr></table></figure>

<p>å¦‚æœåªè¦å–å‡ºkeyå‘¢ï¼Ÿå¯ä»¥ä½¿ç”¨<code>[0]</code>ä¾†å–å‡ºArrayçš„ç¬¬ä¸€å€‹æ•¸ï¼Œä¹Ÿæ˜¯<code>Array</code>å…§æœ€å¸¸å‡ºç¾çš„<code>key</code>:</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby">result = &#123;<span class="hljs-symbol">foo:</span> <span class="hljs-number">1</span>, <span class="hljs-symbol">bar:</span> <span class="hljs-number">10</span>, <span class="hljs-symbol">baz:</span> <span class="hljs-number">8</span>&#125;.max_by &#123;|<span class="hljs-params">key, value</span>| value &#125;[<span class="hljs-number">0</span>]<br>puts result<br><span class="hljs-comment">#10</span><br></code></pre></td></tr></table></figure>



<h2 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">majorityElement</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        <span class="hljs-keyword">return</span> Counter(nums).most_common(<span class="hljs-number">1</span>)[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>]<br></code></pre></td></tr></table></figure>

<p>åœ¨pythonè¨ˆç®—æ•¸é‡å¯ä»¥ä½¿ç”¨<a href="https://docs.python.org/zh-tw/3/library/collections.html#collections.Counter">Counter()ç‰©ä»¶</a>ï¼Œä¾†çœ‹çœ‹ç¯„ä¾‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> collections <span class="hljs-keyword">import</span> Counter<br>words = [<span class="hljs-string">&#x27;red&#x27;</span>, <span class="hljs-string">&#x27;blue&#x27;</span>, <span class="hljs-string">&#x27;red&#x27;</span>, <span class="hljs-string">&#x27;green&#x27;</span>, <span class="hljs-string">&#x27;blue&#x27;</span>, <span class="hljs-string">&#x27;blue&#x27;</span>]<br>cnt = Counter()<br>cnt.update(words)<br><br><span class="hljs-built_in">print</span>(cnt)<br><span class="hljs-comment">#Counter(&#123;&#x27;blue&#x27;: 3, &#x27;red&#x27;: 2, &#x27;green&#x27;: 1&#125;)</span><br></code></pre></td></tr></table></figure>

<p>æ¥è‘—å¯ä»¥ä½¿ç”¨<code>.most_common(1)[0][0]</code>ï¼Œ<code>(1)</code>ä»£è¡¨å–å‡ºç¬¬ä¸€å€‹çµæœï¼Œé€™æ™‚è¼¸å‡ºçš„å€¼æœƒæ˜¯<code>[(3, 2)]</code>ï¼Œå› æ­¤é‚„å¿…é ˆè¦ä½¿ç”¨<code>[0][0]</code>ä»£è¡¨å–å‡ºç¬¬ä¸€çµ„Arrayçš„ç¬¬ä¸€å€‹æ•¸æ‰æœƒå¾—åˆ°è§£ç­”ï¼</p>
<h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">majorityElement</span>(<span class="hljs-params">nums</span>) &#123;<br>    <span class="hljs-keyword">let</span> count = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">let</span> majority;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> num <span class="hljs-keyword">of</span> nums) &#123;<br>        <span class="hljs-keyword">if</span> (count === <span class="hljs-number">0</span>) &#123;<br>            majority = num;<br>        &#125;<br><br>        count += (num === majority) ? <span class="hljs-number">1</span> : -<span class="hljs-number">1</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> majority;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>JSæˆ‘æ¡ç”¨çš„æ˜¯<a href="https://zh.wikipedia.org/zh-tw/%E5%A4%9A%E6%95%B0%E6%8A%95%E7%A5%A8%E7%AE%97%E6%B3%95">æ‘©çˆ¾æŠ•ç¥¨æ³•</a>ï¼Œæ¶ˆé™¤ä¸åŒå…ƒç´ ä¹‹é–“çš„ç¥¨æ•¸ï¼Œæœ€çµ‚ä¿ç•™çš„å°±æ˜¯å¯èƒ½çš„ä¸»è¦å…ƒç´ ã€‚</p>
<p>ä¸€é–‹å§‹å…ˆæŠŠ<code>count</code>è¨­å®šç‚º0ï¼Œå¦‚æœæ¥ä¸‹ä¾†é‡åˆ°çš„æ•¸å­—ç›¸åŒ<code>count + 1</code>ï¼Œä¸åŒ<code>count - 1</code>ï¼Œå¦‚æœ<code>count</code>åˆè®Šå› 0ï¼ˆä»£è¡¨åˆªæ‰ä¸€æ¨£æ•¸é‡çš„a &amp; bï¼‰ï¼Œé€™æ™‚å°±æœƒæ›´æ”¹<code>majority = num</code>ï¼Œæœ€å¾Œæ®˜å­˜æ´»ä¸‹ä¾†çš„å°±æ˜¯<code>majority</code>äº†ï¼</p>
]]></content>
      <categories>
        <category>leetcode</category>
      </categories>
      <tags>
        <tag>Ruby</tag>
        <tag>Python</tag>
        <tag>JavaScript</tag>
        <tag>leetcode</tag>
        <tag>majority element</tag>
      </tags>
  </entry>
  <entry>
    <title>Leetcode: number of 1 bits</title>
    <url>/2024/03/16/leetcode-number-of-1-bits/</url>
    <content><![CDATA[<p>ç‚ºäº†åŠ å¼·è‡ªå·±çš„ç¨‹å¼èƒ½åŠ›ï¼Œæœƒè¨˜éŒ„åˆ·leetcodeçš„è§£æ³•+èªªæ˜ï¼Œé€™æ¬¡ä¹Ÿæœƒç”¨<code>Ruby</code>ã€<code>python</code>å’Œ<code>JavaScript</code>ä¸‰å€‹èªè¨€ä¾†è§£é¡Œï¼Œè®“æˆ‘å€‘é–‹å§‹å§ï¼</p>
<img src="/images/leetcode-number-of-1-bits/01.png">

<p>é¡Œç›®ä¾†æºï¼š<a href="https://leetcode.com/problems/number-of-1-bits/description/">leetcode</a></p>
<h2 id="æ¼¢æ˜æ¬Šé‡"><a href="#æ¼¢æ˜æ¬Šé‡" class="headerlink" title="æ¼¢æ˜æ¬Šé‡"></a>æ¼¢æ˜æ¬Šé‡</h2><p>æ­¤é¡Œæåˆ°äº†å€‹ç‰¹åˆ¥çš„è©ï¼š<a href="https://zh.wikipedia.org/zh-tw/%E6%B1%89%E6%98%8E%E6%9D%83%E9%87%8D">æ¼¢æ˜æ¬Šé‡</a>ï¼Œç¶­åŸºç™¾ç§‘ä¸­è§£é‡‹ï¼Œæ¼¢æ˜æ¬Šé‡æ˜¯ä¸€ä¸²ç¬¦è™Ÿä¸­éé›¶ç¬¦è™Ÿçš„å€‹æ•¸ã€‚å› æ­¤å®ƒç­‰åŒæ–¼åŒæ¨£é•·åº¦çš„å…¨é›¶ç¬¦è™Ÿä¸²çš„æ¼¢æ˜è·é›¢ã€‚åœ¨æœ€ç‚ºå¸¸è¦‹çš„æ•¸æ“šä½ç¬¦è™Ÿä¸²ä¸­ï¼Œå®ƒæ˜¯1çš„å€‹æ•¸ã€‚</p>
<p>æ¼¢æ˜æ¬Šé‡(Hamming weight)æ˜¯ä»¥ç†å¯ŸÂ·è¡›æ–¯é‡ŒÂ·æ¼¢æ˜(Richard Wesley Hamming)çš„åå­—å‘½åçš„ï¼Œå®ƒåœ¨åŒ…æ‹¬è³‡è¨Šç†è«–ã€ç·¨ç¢¼ç†è«–ã€å¯†ç¢¼å­¸ç­‰å¤šå€‹é ˜åŸŸéƒ½æœ‰æ‡‰ç”¨ã€‚</p>
<p>è€Œé€™é¡Œçš„è§£æ³•ï¼Œå°±æ˜¯å°‡è¼¸å…¥çš„æ•¸å­—è½‰ç‚ºäºŒé€²ä½åˆ¶çš„å­—ä¸²ï¼Œæ¥è‘—è¨ˆç®—<code>1</code>çš„æ•¸é‡å³å¯ã€‚</p>
<h2 id="Ruby"><a href="#Ruby" class="headerlink" title="Ruby"></a>Ruby</h2><figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">hamming_weight</span>(<span class="hljs-params">n</span>)<br>  n.to_s(<span class="hljs-number">2</span>).count(<span class="hljs-string">&#x27;1&#x27;</span>)<br><span class="hljs-keyword">end</span><br><br>puts hamming_weight(<span class="hljs-number">0b00000000000000000000000000001011</span>) <span class="hljs-comment"># 3</span><br>puts hamming_weight(<span class="hljs-number">0b00000000000000000000000010000000</span>) <span class="hljs-comment"># 1</span><br>puts hamming_weight(<span class="hljs-number">0b11111111111111111111111111111101</span>) <span class="hljs-comment"># 31</span><br></code></pre></td></tr></table></figure>
<p>åœ¨ç¨‹å¼ä¸­ç¶“å¸¸ä½¿ç”¨<code>0b</code>é–‹é ­è¡¨ç¤ºæ­¤ç‚ºäºŒé€²ä½åˆ¶ï¼Œè€Œåœ¨Rubyä¸­ï¼Œå‰é¢æœ‰é›¶çš„æ•¸å­—æœƒè¢«ç•¶ä½œå…«é€²åˆ¶æ•¸å­—è§£æï¼Œæ‰€ä»¥æ­¤é¡Œçš„å‚³å…¥å€¼å‰é¢å¯ä»¥åŠ ä¸Š<code>0b</code>ï¼Œç¢ºä¿æœ€å¾Œçš„çµæœæœƒæ˜¯æ­£ç¢ºçš„ã€‚</p>
<h2 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h2><figure class="highlight py"><table><tr><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">hammingWeight</span>(<span class="hljs-params">self, n: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">bin</span>(n).count(<span class="hljs-string">&#x27;1&#x27;</span>)<br><br>solution = Solution()<br><br><span class="hljs-built_in">print</span>(solution.hammingWeight(<span class="hljs-number">0b00000000000000000000000000001011</span>)) <span class="hljs-comment">#3</span><br><span class="hljs-built_in">print</span>(solution.hammingWeight(<span class="hljs-number">0b00000000000000000000000010000000</span>)) <span class="hljs-comment">#1</span><br><span class="hljs-built_in">print</span>(solution.hammingWeight(<span class="hljs-number">0b11111111111111111111111111111101</span>)) <span class="hljs-comment">#31</span><br></code></pre></td></tr></table></figure>

<p>Pythonçš„<code>bin(x)</code>å°‡æ•´æ•¸è½‰ç‚ºå¸¶å‰ç¶´<code>0b</code>çš„äºŒé€²åˆ¶å­—ä¸²ï¼Œå› ç‚º<code>0b</code>ä¸¦ä¸æœƒå½±éŸ¿æˆ‘å€‘æœ€å¾Œè¦è¨ˆç®—<code>1</code>çš„æ•¸é‡çš„çµæœï¼Œå› æ­¤ä¸éœ€è¦ç‰¹åˆ¥è½‰æ›ã€‚</p>
<p>å¦‚æœè¦æ§åˆ¶æ˜¯å¦é¡¯ç¤ºå‰ç¼€<code>0b</code>ï¼Œå¯ä»¥ä½¿ç”¨ï¼š</p>
<figure class="highlight py"><table><tr><td class="code"><pre><code class="hljs py"><span class="hljs-built_in">format</span>(<span class="hljs-number">14</span>, <span class="hljs-string">&#x27;#b&#x27;</span>), <span class="hljs-built_in">format</span>(<span class="hljs-number">14</span>, <span class="hljs-string">&#x27;b&#x27;</span>)<br>(<span class="hljs-string">&#x27;0b1110&#x27;</span>, <span class="hljs-string">&#x27;1110&#x27;</span>)<br><span class="hljs-string">f&#x27;<span class="hljs-subst">&#123;<span class="hljs-number">14</span>:#b&#125;</span>&#x27;</span>, <span class="hljs-string">f&#x27;<span class="hljs-subst">&#123;<span class="hljs-number">14</span>:b&#125;</span>&#x27;</span><br>(<span class="hljs-string">&#x27;0b1110&#x27;</span>, <span class="hljs-string">&#x27;1110&#x27;</span>)<br></code></pre></td></tr></table></figure>
<p>ä¾†æºï¼š<a href="https://docs.python.org/zh-cn/3/library/functions.html#bin">Pythonå®˜æ–¹æ–‡ä»¶</a></p>
<h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> hammingWeight = <span class="hljs-keyword">function</span>(<span class="hljs-params">n</span>) &#123;<br>    <span class="hljs-keyword">return</span> n.<span class="hljs-title function_">toString</span>(<span class="hljs-number">2</span>).<span class="hljs-title function_">split</span>(<span class="hljs-string">&#x27;1&#x27;</span>).<span class="hljs-property">length</span> - <span class="hljs-number">1</span>;<br>&#125;;<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">hammingWeight</span>(<span class="hljs-number">0b00000000000000000000000000001011</span>)) <span class="hljs-comment">//3</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">hammingWeight</span>(<span class="hljs-number">0b00000000000000000000000010000000</span>)) <span class="hljs-comment">//1</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">hammingWeight</span>(<span class="hljs-number">0b11111111111111111111111111111101</span>)) <span class="hljs-comment">//31</span><br></code></pre></td></tr></table></figure>

<p>JSçš„ä½¿ç”¨<code>.split(&#39;1&#39;)</code>ï¼Œå°‡å­—ä¸²ä¾æ“š1åˆ†å‰²ç‚ºé™£åˆ—ï¼Œæœ€å¾Œè¨ˆç®—é™£åˆ—çš„é•·åº¦å†<code>-1</code>å°±å¯ä»¥å¾—åˆ°ç­”æ¡ˆäº†ï¼</p>
<p>ç‚ºä»€éº¼é€™è£¡è¦<code>-1</code>å‘¢ï¼Ÿå¯ä»¥æƒ³åƒä¸€å€‹è›‹ç³•ï¼Œå¦‚æœåˆ‡äº†ä¸€åˆ€æœƒè®Šæˆå…©å¡Šï¼Œå…¶ä¸­çš„é‚£ä¸€åˆ€ï¼Œåœ¨é€™è£¡å°±æ˜¯<code>1</code>çš„æ„æ€ï¼Œæˆ‘å€‘æœ€å¾Œè¦å¾—åˆ°çš„æ˜¯<code>åˆ‡äº†å¹¾åˆ€</code>ï¼Œè€Œä¸æ˜¯<code>è›‹ç³•æœ‰å¹¾å¡Š</code>ï¼Œæ‰€ä»¥ç‚ºäº†æ ¡æ­£æœ€å¾Œæœƒéœ€è¦<code>-1</code>ã€‚</p>
<p>ä»¥ä¸Šå°±æ˜¯ä»Šå¤©çš„Leetcodeåˆ·é¡Œè§£é‡‹Ù©(â—Ë™â–¿Ë™â—)Û¶</p>
]]></content>
      <categories>
        <category>leetcode</category>
      </categories>
      <tags>
        <tag>Ruby</tag>
        <tag>Python</tag>
        <tag>JavaScript</tag>
        <tag>leetcode</tag>
        <tag>number of 1 bits</tag>
        <tag>æ¼¢æ˜æ¬Šé‡</tag>
        <tag>hamming weight</tag>
      </tags>
  </entry>
  <entry>
    <title>LeetcodeæŒ‘æˆ°: Day03 palindrome number</title>
    <url>/2024/02/01/leetcode-palindrome-number/</url>
    <content><![CDATA[<p>ç‚ºäº†åŠ å¼·è‡ªå·±çš„ç¨‹å¼èƒ½åŠ›ï¼Œå› æ­¤è¨˜éŒ„æ¯å¤©åˆ·leetcodeçš„è§£æ³•+èªªæ˜ï¼Œä»Šå¤©æœƒç”¨<code>Ruby</code>ã€<code>Python</code>ã€<code>JavaScript</code>ä¾†è§£é¡Œï¼Œä»Šå¤©ä¾†åˆ°ç¬¬ä¸‰å¤©ï¼Œè®“æˆ‘å€‘ç¹¼çºŒå§ï¼</p>
<img src="/images/leetcode-palindrome-number/01.png">

<p>é¡Œç›®ä¾†æºï¼š<a href="https://leetcode.com/problems/palindrome-number/">leetcode</a></p>
<h2 id="Ruby"><a href="#Ruby" class="headerlink" title="Ruby"></a>Ruby</h2><figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">is_palindrome</span>(<span class="hljs-params">x</span>)<br>  x.to_s == x.to_s.reverse<br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure>

<p>æˆ‘ç¬¬ä¸€å€‹æƒ³åˆ°ä½¿ç”¨<code>reverse</code>ï¼Œä¸é<code>reverse</code>å¿…é ˆè¦å­—ä¸²æ‰è¡Œï¼Œ<br>å› æ­¤å±±ä¸è½‰è·¯è½‰ï¼ŒæŠŠä¸€é–‹å§‹çµ¦çš„xå€¼ä½¿ç”¨<code>.to_s</code>è½‰ç‚ºå­—ä¸²å³å¯ï¼</p>
<h2 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br><br>  <span class="hljs-keyword">def</span> <span class="hljs-title function_">isPalindrome</span>(<span class="hljs-params">self, x: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">bool</span>:<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">str</span>(x) == <span class="hljs-built_in">str</span>(x)[::-<span class="hljs-number">1</span>]<br></code></pre></td></tr></table></figure>
<p>pythonçš„reverseå¯«æ³•å¾ˆç‰¹åˆ¥ï¼<br>ä¸éä¸€æ¨£æ˜¯è¦å…ˆè½‰æˆå­—ä¸²æ‰€ä»¥ä½¿ç”¨<code>str(x)</code></p>
<p>å…¶ä¸­<code>[::-1]</code>æ˜¯åè½‰è®€å–çš„æ„æ€ï¼Œå¦‚æœæ˜¯arrayçš„è©±ä¹Ÿæœƒåè½‰è®€å–<br>å€˜è‹¥æ˜¯<code>[3::-1]</code>å‰‡æœƒå¾ç´¢å¼•å€¼<code>3</code>é–‹å§‹åè½‰è®€å–</p>
<h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> isPalindrome = <span class="hljs-keyword">function</span>(<span class="hljs-params">x</span>) &#123;<br>    <span class="hljs-keyword">return</span> x == [...x.<span class="hljs-title function_">toString</span>()].<span class="hljs-title function_">reverse</span>().<span class="hljs-title function_">join</span>(<span class="hljs-string">&#x27;&#x27;</span>);<br>&#125;;<br></code></pre></td></tr></table></figure>
<p>æˆ‘ä½¿ç”¨<code>...</code>çš„<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Spread_syntax">å±•é–‹ç¬¦è™Ÿ</a>å°‡å­—ä¸²è½‰ç‚ºé™£åˆ—ï¼Œå†ä½¿ç”¨<code>reverse</code>çš„åŠŸèƒ½ï¼Œå°‡é™£åˆ—åè½‰ï¼Œæœ€å¾Œä½¿ç”¨<code>join(&#39;&#39;)</code>çµ„èµ·ä¾†ï¼Œå¦‚æœåè½‰å®Œç­‰æ–¼<code>x</code>ä¹Ÿå›å‚³<code>true</code>!</p>
<p>ä»Šå¤©çš„é¡Œç›®ç¨å¾®ç°¡å–®ä¸€é»ï¼Œæˆ‘å€‘æ˜å¤©ç¹¼çºŒÙ©(à¹‘â›á´—â›à¹‘)Û¶</p>
]]></content>
      <categories>
        <category>leetcode</category>
      </categories>
      <tags>
        <tag>Ruby</tag>
        <tag>Python</tag>
        <tag>JavaScript</tag>
        <tag>leetcode</tag>
        <tag>palindrome number</tag>
      </tags>
  </entry>
  <entry>
    <title>LeetcodeæŒ‘æˆ°: Day12 plus one</title>
    <url>/2024/02/10/leetcode-plus-one/</url>
    <content><![CDATA[<p>ç‚ºäº†åŠ å¼·è‡ªå·±çš„ç¨‹å¼èƒ½åŠ›ï¼Œå› æ­¤é–‹å§‹è¨˜éŒ„æ¯å¤©åˆ·leetcodeçš„è§£æ³•+èªªæ˜ï¼Œæœƒç”¨<code>Ruby</code>ã€<code>python</code>å’Œ<code>JavaScript</code>ä¸‰å€‹èªè¨€ä¾†è§£é¡Œï¼Œä»Šå¤©æ˜¯ç¬¬åäºŒå¤©ï¼Œè®“æˆ‘å€‘é–‹å§‹å§ï¼</p>
<img src="/images/leetcode-plus-one/0210.png">

<p>é¡Œç›®ä¾†æºï¼š<a href="https://leetcode.com/problems/plus-one/">leetcode</a></p>
<p>é€™é¡Œé¡Œç›®å¾ˆç°¡å–®ï¼Œåªè¦æœƒä½¿ç”¨å°‡æ•¸å­—é™£åˆ—è½‰ç‚ºæ•´æ•¸å†åŠ ä¸€ï¼Œæ¥è‘—å†è½‰å›æ•¸å­—é™£åˆ—å°±å¯ä»¥å¾—åˆ°ç­”æ¡ˆï½</p>
<h2 id="Ruby"><a href="#Ruby" class="headerlink" title="Ruby"></a>Ruby</h2><figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">plus_one</span>(<span class="hljs-params">digits</span>)<br>  (digits.join(<span class="hljs-string">&#x27;&#x27;</span>).to_i + <span class="hljs-number">1</span>).to_s.chars.map(&amp;<span class="hljs-symbol">:to_i</span>)<br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure>

<p><code>.map(&amp;:to_i)</code>åŸå§‹çš„å¯«æ³•ç‚º<code>.map&#123; |num| num.to_i &#125;</code></p>
<h2 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h2><figure class="highlight py"><table><tr><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">plusOne</span>(<span class="hljs-params">self, digits</span>):<br>        <span class="hljs-keyword">return</span> [<span class="hljs-built_in">int</span>(digit) <span class="hljs-keyword">for</span> digit <span class="hljs-keyword">in</span> <span class="hljs-built_in">str</span>(<span class="hljs-built_in">int</span>(<span class="hljs-string">&#x27;&#x27;</span>.join(<span class="hljs-built_in">map</span>(<span class="hljs-built_in">str</span>, digits))) + <span class="hljs-number">1</span>)]<br></code></pre></td></tr></table></figure>
<p>Pythonè½‰æ›å‹æ…‹éƒ½æ˜¯åŒ…ä¸€å€‹æ‹¬è™Ÿåœ¨å¤–é¢ï¼Œ<code>int(&#39;&#39;.join(map(str, digits)))</code>ç‚ºå°‡é™£åˆ—å…§æ¯ä¸€å­—é€£æ¥ç‚ºå­—ä¸²æœ€å¾Œè½‰ç‚ºæ•´æ•¸ï¼Œè€Œå¾Œ<code>+1</code>ï¼Œå†åˆ©ç”¨<code>str()</code>è½‰ç‚ºå­—ä¸²ã€‚</p>
<p>æœ€å¾Œå°‡æ¯ä¸€å­—è½‰ç‚ºæ•´æ•¸é™£åˆ—å›å‚³ã€‚</p>
<h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> plusOne = <span class="hljs-keyword">function</span>(<span class="hljs-params">digits</span>) &#123;<br>    <span class="hljs-keyword">return</span> (<span class="hljs-title class_">BigInt</span>(digits.<span class="hljs-title function_">join</span>(<span class="hljs-string">&#x27;&#x27;</span>)) + <span class="hljs-number">1n</span>).<span class="hljs-title function_">toString</span>().<span class="hljs-title function_">split</span>(<span class="hljs-string">&#x27;&#x27;</span>).<span class="hljs-title function_">map</span>(<span class="hljs-title class_">Number</span>);<br>  &#125;;<br></code></pre></td></tr></table></figure>

<p>åœ¨<code>js</code>æ¯”è¼ƒç‰¹åˆ¥ï¼Œä½¿ç”¨<a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/BigInt">BigInt</a>ï¼ŒBigInt æ˜¯ä¸€å€‹å…§å»ºçš„ç‰©ä»¶ï¼Œæä¾›äº†è¡¨ç¤ºå¤§æ–¼ 2^53 çš„æ•´æ•¸çš„åŠŸèƒ½ (2^53 æ˜¯ JavaScript åŸç”Ÿçš„Numberèƒ½å¤ è¡¨ç¤ºçš„æœ€å¤§å€¼)ï¼Œå› ç‚ºä½¿ç”¨<code>BigInt</code>å‹æ…‹ï¼Œæ‰€ä»¥<code>+1</code>è¦ä½¿ç”¨<code>+1n</code>ï¼Œæ‰èƒ½å¾—åˆ°åŠ ä¸€å¾Œçš„çµæœã€‚</p>
]]></content>
      <categories>
        <category>leetcode</category>
      </categories>
      <tags>
        <tag>Ruby</tag>
        <tag>Python</tag>
        <tag>JavaScript</tag>
        <tag>leetcode</tag>
        <tag>plus one</tag>
      </tags>
  </entry>
  <entry>
    <title>LeetcodeæŒ‘æˆ°: Day04 roman to integer</title>
    <url>/2024/02/02/leetcode-roman-to-integer/</url>
    <content><![CDATA[<p>ç‚ºäº†åŠ å¼·è‡ªå·±çš„ç¨‹å¼èƒ½åŠ›ï¼Œå› æ­¤è¨˜éŒ„æ¯å¤©åˆ·leetcodeçš„è§£æ³•+èªªæ˜ï¼Œä»Šå¤©æœƒç”¨<code>Ruby</code>ã€<code>Python</code>ã€<code>JavaScript</code>ä¾†è§£é¡Œï¼Œä»Šå¤©ä¾†åˆ°ç¬¬å››å¤©ï¼Œè®“æˆ‘å€‘ç¹¼çºŒå§ï¼</p>
<img src="/images/leetcode-roman-to-integer/1.png">

<p>é¡Œç›®ä¾†æºï¼š<a href="https://leetcode.com/problems/roman-to-integer">leetcode</a></p>
<p>ç¾…é¦¬æ•¸å­—çš„è§£é‡‹:<a href="https://zh.wikipedia.org/zh-tw/%E7%BD%97%E9%A9%AC%E6%95%B0%E5%AD%97">ç¾…é¦¬æ•¸å­—</a></p>
<p>ç¾…é¦¬æ•¸å­—å…±æœ‰7å€‹ï¼Œå³â… ï¼ˆ1ï¼‰ã€â…¤ï¼ˆ5ï¼‰ã€â…©ï¼ˆ10ï¼‰ã€â…¬ï¼ˆ50ï¼‰ã€â…­ï¼ˆ100ï¼‰ã€â…®ï¼ˆ500ï¼‰å’Œâ…¯ï¼ˆ1000ï¼‰ã€‚å¦å¤–å› ç‚ºç¾…é¦¬æ•¸å­—æœ‰<code>å·¦åŠ å³æ¸›</code>çš„ç‰¹æ€§ï¼Œä»£è¡¨èªªå¤§çš„æ•¸å­—åœ¨å·¦é‚Šå°±å¾€å³åŠ ï¼Œå¤§çš„æ•¸å­—åœ¨å³é‚Šå°±å¾€å·¦æ¸›ã€‚</p>
<p>åƒæ˜¯<code>MCMXCIV</code>çš„ç¾…é¦¬æ•¸å­—ç‚ºä½•ï¼Ÿå¯ä»¥ä¾åºå…ˆæŠŠä»–å€‘è®Šæˆé˜¿æ‹‰ä¼¯æ•¸å­—ï¼Œå†å¾å€‹ä½æ•¸é–‹å§‹å¾€å·¦é‚Šéµå¾ªå·¦åŠ å³æ¸›çš„è¦å‰‡ï¼Œå°±å¯ä»¥å¾—åˆ°ç­”æ¡ˆäº†ï¼š</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">M</span>(<span class="hljs-number">1000</span>),C(<span class="hljs-number">100</span>),M(<span class="hljs-number">1000</span>),X(<span class="hljs-number">10</span>),C(<span class="hljs-number">100</span>),I(<span class="hljs-number">1</span>),V(<span class="hljs-number">5</span>)<br><span class="hljs-attribute">1000</span>, <span class="hljs-number">100</span>, <span class="hljs-number">1000</span>, <span class="hljs-number">10</span>, <span class="hljs-number">100</span>, <span class="hljs-number">4</span>(-<span class="hljs-number">1</span> + <span class="hljs-number">5</span>)<br><span class="hljs-attribute">1000</span>, <span class="hljs-number">100</span>, <span class="hljs-number">1000</span>, <span class="hljs-number">10</span>, <span class="hljs-number">104</span>(<span class="hljs-number">100</span> + <span class="hljs-number">4</span>)<br><span class="hljs-attribute">1000</span>, <span class="hljs-number">100</span>, <span class="hljs-number">1000</span>, <span class="hljs-number">94</span>(-<span class="hljs-number">10</span> + <span class="hljs-number">104</span>)<br><span class="hljs-attribute">1000</span>,<span class="hljs-number">100</span>,<span class="hljs-number">1094</span> (<span class="hljs-number">1000</span> + <span class="hljs-number">94</span>)<br><span class="hljs-attribute">1000</span>, <span class="hljs-number">994</span>(-<span class="hljs-number">100</span> + <span class="hljs-number">1094</span>) <br><span class="hljs-attribute">1994</span> (<span class="hljs-number">1000</span>+<span class="hljs-number">994</span>)<br></code></pre></td></tr></table></figure>
<p>å…¶å¯¦è¦å‰‡è »å–®ç´”çš„ï¼Œéµå¾ªå·¦åŠ å³æ¸›å³å¯ï¼Œé€™æ¨£å°±å¯ä»¥æŠŠå®ƒæ”¹å¯«æˆç¨‹å¼äº†ï¼š</p>
<h2 id="Ruby"><a href="#Ruby" class="headerlink" title="Ruby"></a>Ruby</h2><figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">roman_to_int</span>(<span class="hljs-params">s</span>)<br>  roman_num = &#123;<span class="hljs-string">&#x27;I&#x27;</span>=&gt;<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;V&#x27;</span>=&gt;<span class="hljs-number">5</span>, <span class="hljs-string">&#x27;X&#x27;</span>=&gt;<span class="hljs-number">10</span>, <span class="hljs-string">&#x27;L&#x27;</span>=&gt;<span class="hljs-number">50</span>, <span class="hljs-string">&#x27;C&#x27;</span>=&gt;<span class="hljs-number">100</span>, <span class="hljs-string">&#x27;D&#x27;</span>=&gt;<span class="hljs-number">500</span>, <span class="hljs-string">&#x27;M&#x27;</span>=&gt;<span class="hljs-number">1000</span>&#125;<br>  result = <span class="hljs-number">0</span><br>  prev_value = <span class="hljs-number">0</span><br><br>  s.chars.reverse_each <span class="hljs-keyword">do</span> |<span class="hljs-params">char</span>|<br>    value = roman_num[char]<br>    result += (value &lt; prev_value) ? -value : value<br>    prev_value = value<br>  <span class="hljs-keyword">end</span><br><br>  result<br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure>

<p>å…ˆæŠŠç¾…é¦¬æ•¸å­—çš„ä¸ƒå€‹æ•¸åšæˆ<code>hash</code>ï¼Œæ¥è‘—è¨­å®š<code>result</code> <code>pre_value</code>ç‚º<code>0</code>ï¼Œå†ä½¿ç”¨<code>reverse_each</code>ï¼ŒæŠŠå€¼å¾å€‹ä½æ•¸ä¸Ÿé€²å»ï¼Œè½‰æ›ç‚ºé˜¿æ‹‰ä¼¯æ•¸å­—å¾Œï¼Œæ¯”è¼ƒ<code>prev_value</code>ï¼Œå› ç‚º<code>prev_value</code>æ†åœ¨å³é‚Šï¼Œæ‰€ä»¥å¦‚æœ<code>value</code>æ¯”è¼ƒå°ï¼Œ<code>value</code>å‰‡ç‚º<code>-</code></p>
<p>é€™é‚Šè¦ç‰¹åˆ¥æ³¨æ„ï¼Œå› ç‚ºæ¯æ¬¡æ¯”è¼ƒçš„å€¼æ˜¯è¦æ¯”è¼ƒåŸå§‹çš„<code>value</code>ï¼Œæ‰€ä»¥æœƒéœ€è¦<code>prev_value</code>ä¾†å„²å­˜ä¸Šä¸€æ¬¡çš„å€¼ï¼Œè€Œä¸æ˜¯å’Œ<code>result</code>æ¯”è¼ƒã€‚</p>
<h2 id="Pyton"><a href="#Pyton" class="headerlink" title="Pyton"></a>Pyton</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">romanToInt</span>(<span class="hljs-params">self, s: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        roman_num = &#123;<span class="hljs-string">&#x27;I&#x27;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;V&#x27;</span>: <span class="hljs-number">5</span>, <span class="hljs-string">&#x27;X&#x27;</span>: <span class="hljs-number">10</span>, <span class="hljs-string">&#x27;L&#x27;</span>: <span class="hljs-number">50</span>, <span class="hljs-string">&#x27;C&#x27;</span>: <span class="hljs-number">100</span>, <span class="hljs-string">&#x27;D&#x27;</span>: <span class="hljs-number">500</span>, <span class="hljs-string">&#x27;M&#x27;</span>: <span class="hljs-number">1000</span>&#125;<br>        result = <span class="hljs-number">0</span><br>        prev_value = <span class="hljs-number">0</span><br><br>        <span class="hljs-keyword">for</span> char <span class="hljs-keyword">in</span> <span class="hljs-built_in">reversed</span>(s):<br>            value = roman_num[char]<br>            result += -value <span class="hljs-keyword">if</span> value &lt; prev_value <span class="hljs-keyword">else</span> value<br>            prev_value = value<br><br>        <span class="hljs-keyword">return</span> result<br></code></pre></td></tr></table></figure>

<p>å› ç‚ºåŸºæœ¬çš„é‚è¼¯æ¶æ§‹å’Œ<code>Ruby</code>ä¸€æ¨£ï¼Œé€™é‚Šåªæœ‰æ”¹è®Šå¯«æ³•è€Œå·²</p>
<h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">romanToInt</span>(<span class="hljs-params">s</span>) &#123;<br>    <span class="hljs-keyword">const</span> romanNum = &#123;<span class="hljs-string">&#x27;I&#x27;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&#x27;V&#x27;</span>: <span class="hljs-number">5</span>, <span class="hljs-string">&#x27;X&#x27;</span>: <span class="hljs-number">10</span>, <span class="hljs-string">&#x27;L&#x27;</span>: <span class="hljs-number">50</span>, <span class="hljs-string">&#x27;C&#x27;</span>: <span class="hljs-number">100</span>, <span class="hljs-string">&#x27;D&#x27;</span>: <span class="hljs-number">500</span>, <span class="hljs-string">&#x27;M&#x27;</span>: <span class="hljs-number">1000</span>&#125;;<br>    <span class="hljs-keyword">let</span> result = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">let</span> prevValue = <span class="hljs-number">0</span>;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = s.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) &#123;<br>        <span class="hljs-keyword">const</span> char = s[i];<br>        <span class="hljs-keyword">const</span> value = romanNum[char];<br>        result += (value &lt; prevValue) ? -value : value;<br>        prevValue = value;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> result;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>å› ç‚ºJSæ²’æœ‰<code>reverse</code>ï¼Œæ‰€ä»¥æˆ‘ä½¿ç”¨æœ€åŸå§‹çš„æ–¹æ³•ï¼Œåˆ©ç”¨<code>ç´¢å¼•å€¼</code>ï¼Œ<code>i</code>èµ·å§‹å€¼è¨­ç‚º<code>s.length - 1</code>ï¼Œå°±å¯ä»¥åå‘ä¸Ÿå…¥ç¾…é¦¬å­—ï¼Œå†åˆ©ç”¨<code>hash</code>è½‰æ›ç‚ºæ•¸å­—å³å¯ï¼Œæ¥ä¸‹ä¾†çš„é‚è¼¯éƒ½å’Œ<code>Ruby</code>ä¸€æ¨£ï¼Œåªä¸éè®Šæ•¸æ…£ä¾‹å¯«ä¸ä¸€æ¨£è€Œå·²ï¼</p>
<p>ä»Šå¤©çš„é¡Œç›®æ¯”è¼ƒé›£çš„åœ¨å‰é¢è½‰æ›çš„é‚è¼¯ï¼Œç†æ¸…ä¹‹å¾Œè½‰æ›æˆç¨‹å¼ç¢¼å°±ç°¡å–®å¤šäº†ï¼</p>
]]></content>
      <categories>
        <category>leetcode</category>
      </categories>
      <tags>
        <tag>Ruby</tag>
        <tag>Python</tag>
        <tag>JavaScript</tag>
        <tag>leetcode</tag>
        <tag>roman to integer</tag>
      </tags>
  </entry>
  <entry>
    <title>LeetcodeæŒ‘æˆ°: Day07 remove duplicates from sorted array</title>
    <url>/2024/02/05/leetcode-remove-duplicates-from-sorted-array/</url>
    <content><![CDATA[<p>ç‚ºäº†åŠ å¼·è‡ªå·±çš„ç¨‹å¼èƒ½åŠ›ï¼Œå› æ­¤é–‹å§‹è¨˜éŒ„æ¯å¤©åˆ·leetcodeçš„è§£æ³•+èªªæ˜ï¼Œæœƒç”¨<code>Ruby</code>ã€<code>python</code>å’Œ<code>JavaScript</code>ä¸‰å€‹èªè¨€ä¾†è§£é¡Œï¼Œä»Šå¤©æ˜¯ç¬¬ä¸ƒå¤©ï¼Œè®“æˆ‘å€‘é–‹å§‹å§ï¼</p>
<img src="/images/leetcode-remove-duplicates-from-sorted-array/1.png">

<p>é¡Œç›®ä¾†æºï¼š<a href="https://leetcode.com/problems/remove-duplicates-from-sorted-array/">leetcode</a></p>
<p>æ­¤é¡Œç›®é›–ç„¶çœ‹ä¼¼ç°¡å–®ï¼Œä½†éœ€è¦æ³¨æ„ä¸€å€‹å°ç´°ç¯€ï¼Œé™¤äº†æœ€å¾Œå›å‚³ä¸é‡è¤‡çš„æ•¸æœ‰å¹¾å€‹å¤–ï¼ŒåŸå§‹å‚³å…¥çš„<code>nums</code>ä¹Ÿéœ€è¦æ”¹è®Šï¼Œé€™æ¨£æ‰æœƒé€šéæ¸¬é©—ï¼</p>
<h2 id="Ruby"><a href="#Ruby" class="headerlink" title="Ruby"></a>Ruby</h2><figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">remove_duplicates</span>(<span class="hljs-params">nums</span>)<br>  nums.uniq!<br>  nums.size<br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure>
<p>è¦‹è­‰Rubyé»‘é­”æ³•çš„æ™‚åˆ»Ù©(^á´—^)Û¶ï¼Œé€™é‚Šç‰¹åˆ¥æ³¨æ„çš„æ˜¯ï¼Œ<code>uniq!</code>ç‚ºä»€éº¼è¦ä½¿ç”¨é©šå˜†è™Ÿ<code>!</code>å‘¢ï¼Ÿå› ç‚ºä½¿ç”¨é©šå˜†è™Ÿæ‰èƒ½æ›´æ”¹åŸå§‹çš„<code>nums</code>ï¼Œå¦‚æœä½¿ç”¨<code>uniq</code>å‰‡æ˜¯å›å‚³æ–°çš„Array</p>
<p>è©³æƒ…å¯è¦‹Ruby API <a href="https://rubyapi.org/3.3/o/s?q=uniq!">uniq!</a>, <a href="https://rubyapi.org/3.3/o/s?q=uniq">uniq</a></p>
<h2 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">removeDuplicates</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        nums[:] = <span class="hljs-built_in">sorted</span>(<span class="hljs-built_in">set</span>(nums))<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">len</span>(nums)<br></code></pre></td></tr></table></figure>
<p>Pythonçš„è©±å¯ä»¥ä½¿ç”¨<code>set(nums)</code>ï¼Œset æ˜¯ä¸€çµ„ç„¡åºä¸”æ²’æœ‰é‡è¤‡çš„å…ƒç´ ï¼Œæ‰€ä»¥æˆ‘å¤–é¢ä½¿ç”¨äº†<code>sorted</code>æ’åºã€‚</p>
<p>å› ç‚ºè¦æ”¹è®Š<code>nums</code>çš„å€¼ï¼Œæ‰€ä»¥ä½¿ç”¨<code>nums[:]</code></p>
<p>è©³æƒ…å¯åƒè€ƒï¼š<a href="https://docs.python.org/zh-tw/3/tutorial/datastructures.html">Python docs</a></p>
<h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">removeDuplicates</span>(<span class="hljs-params">nums</span>) &#123;<br>    nums.<span class="hljs-title function_">splice</span>(<span class="hljs-number">0</span>, nums.<span class="hljs-property">length</span>, ...<span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(nums));<br>    <span class="hljs-keyword">return</span> nums.<span class="hljs-property">length</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>JSå®šç¾©<code>set</code>ç‚ºï¼š<code>é›†åˆï¼ˆsetï¼‰ä¸­çš„å…ƒç´ åªä¼šå‡ºç°ä¸€æ¬¡ï¼Œå³é›†åˆä¸­çš„å…ƒç´ æ˜¯å”¯ä¸€çš„ã€‚</code>ï¼Œå¯ä»¥åƒè€ƒï¼š<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Set">MDN</a>ï¼Œä½†å› ç‚ºè¦æ”¹è®Š<code>nums</code>çš„æ•¸ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨<code>splice</code>ï¼Œç§»é™¤æˆ–è€…æ›¿æ¢å·²å­˜åœ¨çš„å…ƒç´ å’Œ&#x2F;æˆ–æ·»åŠ æ–°å…ƒç´ å°±åœ°æ”¹è®Šä¸€ä¸ªArrayçš„å†…å®¹ã€‚</p>
<p>æœ€å¾Œç­”æ¡ˆå°±å‡ºä¾†äº†ï¼</p>
<h2 id="åƒè€ƒè³‡æ–™"><a href="#åƒè€ƒè³‡æ–™" class="headerlink" title="åƒè€ƒè³‡æ–™"></a>åƒè€ƒè³‡æ–™</h2><ul>
<li><a href="https://rubyapi.org/3.3/o/s?q=uniq!">Ruby API</a></li>
<li><a href="https://docs.python.org/zh-tw/3/tutorial/datastructures.html">Python docs</a></li>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Set">MDN</a></li>
</ul>
]]></content>
      <categories>
        <category>leetcode</category>
      </categories>
      <tags>
        <tag>Ruby</tag>
        <tag>Python</tag>
        <tag>JavaScript</tag>
        <tag>leetcode</tag>
        <tag>remove duplicates from sorted array</tag>
      </tags>
  </entry>
  <entry>
    <title>LeetcodeæŒ‘æˆ°: Day11 single number</title>
    <url>/2024/02/09/leetcode-single-number/</url>
    <content><![CDATA[<p>ç‚ºäº†åŠ å¼·è‡ªå·±çš„ç¨‹å¼èƒ½åŠ›ï¼Œå› æ­¤é–‹å§‹è¨˜éŒ„æ¯å¤©åˆ·leetcodeçš„è§£æ³•+èªªæ˜ï¼Œæœƒç”¨<code>Ruby</code>ã€<code>python</code>å’Œ<code>JavaScript</code>ä¸‰å€‹èªè¨€ä¾†è§£é¡Œï¼Œä»Šå¤©æ˜¯ç¬¬åä¸€å¤©ï¼Œè®“æˆ‘å€‘é–‹å§‹å§ï¼</p>
<img src="/images/leetcode-single-number/1.png">

<p>é¡Œç›®ä¾†æºï¼š<a href="https://leetcode.com/problems/single-number">leetcode</a></p>
<h2 id="Ruby"><a href="#Ruby" class="headerlink" title="Ruby"></a>Ruby</h2><figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">single_number</span>(<span class="hljs-params">nums</span>)<br>  nums.reduce(<span class="hljs-symbol">:^</span>)<br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure>
<p>é€™æ¬¡ç”¨åˆ°<code>XOR</code>ç¬¦è™Ÿ<code>^</code>ï¼Œé€™æ˜¯ç¨®é‹ç®—é‚è¼¯ï¼Œç”¨æ–¼å°å…©å€‹äºŒé€²åˆ¶æ•¸çš„å°æ‡‰ä½é€²è¡Œæ¯”è¼ƒï¼Œè¦å‰‡å¦‚ä¸‹ï¼šå…©å€‹å°æ‡‰ä½æ•¸å­—ä¸åŒï¼Œæœƒå›å‚³<code>1</code>ï¼Œå…©å€‹å°æ‡‰ä½ä¸åŒå‰‡æœƒå›å‚³<code>0</code>ï¼Œç”¨æ­¤ä¾†æ‰¾å‡ºåªå‡ºç¾ä¸€æ¬¡çš„æ•¸å­—ã€‚</p>
<p>ç¯„ä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-number">0</span> xor <span class="hljs-number">0</span> = <span class="hljs-number">0</span><br><span class="hljs-number">0</span> xor <span class="hljs-number">1</span> = <span class="hljs-number">1</span><br><span class="hljs-number">1</span> xor <span class="hljs-number">0</span> = <span class="hljs-number">1</span><br><span class="hljs-number">1</span> xor <span class="hljs-number">1</span> = <span class="hljs-number">0</span><br></code></pre></td></tr></table></figure>

<p>å¦‚æœæˆ‘å€‘å‚³å…¥<code>[4, 1, 2, 1, 2]</code>å‘¢ï¼Ÿæ ¹æ“š<code>reduce(:^)</code>æœƒé€™æ¨£é‹ç®—<code>4 ^ 1 ^ 2 ^ 1 ^ 2</code>ï¼š</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby">  <span class="hljs-number">4</span>:  <span class="hljs-number">100</span><br>  <span class="hljs-number">1</span>:  <span class="hljs-number">001</span><br><span class="hljs-variable constant_">XOR</span>:  <span class="hljs-number">101</span>  <br><br>  <span class="hljs-number">5</span>:  <span class="hljs-number">101</span><br>  <span class="hljs-number">2</span>:  <span class="hljs-number">010</span><br><span class="hljs-variable constant_">XOR</span>:  <span class="hljs-number">111</span> <br><br>  <span class="hljs-number">7</span>:  <span class="hljs-number">111</span><br>  <span class="hljs-number">1</span>:  <span class="hljs-number">001</span><br><span class="hljs-variable constant_">XOR</span>:  <span class="hljs-number">110</span> <br><br>  <span class="hljs-number">6</span>:  <span class="hljs-number">110</span><br>  <span class="hljs-number">2</span>:  <span class="hljs-number">010</span><br><span class="hljs-variable constant_">XOR</span>:  <span class="hljs-number">100</span><br></code></pre></td></tr></table></figure>
<p>ä¹Ÿå¯ä»¥ç”¨å¦å¤–ä¸€å€‹æ–¹æ³•ç†è§£ï¼Œ<code>1 ^ 1 = 0</code>, <code>2 ^ 2 = 0</code>, <code>0 ^ 4 = 4</code><br>åªè¦æœ‰ä¸åŒæ–¼å…¶ä»–çš„æ•¸ï¼Œå°±æœƒè¢«ç•™ä¸‹ä¾†ï¼Œé€™æ¨£ç­”æ¡ˆå°±å‡ºä¾†äº†ï¼</p>
<h2 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">singleNumber</span>(<span class="hljs-params">self, nums</span>):<br>        <span class="hljs-keyword">return</span> reduce(<span class="hljs-keyword">lambda</span> x, y: x ^ y, nums)<br></code></pre></td></tr></table></figure>
<p>Pythonä¹Ÿæ˜¯ä¸€æ¨£é‚è¼¯ï¼Œåªä¸é<code>reduce</code>å¯«æ³•ä¸åŒï¼Œå¯ä»¥åƒè€ƒï¼š<a href="https://docs.python.org/3.0/library/functools.html">reduce</a></p>
<h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> singleNumber = <span class="hljs-keyword">function</span>(<span class="hljs-params">nums</span>) &#123;<br>    <span class="hljs-keyword">return</span> nums.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, num</span>) =&gt;</span> acc ^ num, <span class="hljs-number">0</span>);<br>  &#125;;<br></code></pre></td></tr></table></figure>
<p>JSä¹Ÿæ˜¯ä¸€æ¨£é‚è¼¯ï¼Œåªä¸é<code>reduce</code>å¯«æ³•ä¸åŒï¼Œå¯ä»¥åƒè€ƒï¼š<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce">reduce</a></p>
]]></content>
      <categories>
        <category>leetcode</category>
      </categories>
      <tags>
        <tag>Ruby</tag>
        <tag>Python</tag>
        <tag>JavaScript</tag>
        <tag>leetcode</tag>
        <tag>single number</tag>
      </tags>
  </entry>
  <entry>
    <title>LeetcodeæŒ‘æˆ°: Day14 sqrtx</title>
    <url>/2024/02/12/leetcode-sqrtx/</url>
    <content><![CDATA[<p>ç‚ºäº†åŠ å¼·è‡ªå·±çš„ç¨‹å¼èƒ½åŠ›ï¼Œå› æ­¤é–‹å§‹è¨˜éŒ„æ¯å¤©åˆ·leetcodeçš„è§£æ³•+èªªæ˜ï¼Œæœƒç”¨<code>Ruby</code>ã€<code>python</code>å’Œ<code>JavaScript</code>ä¸‰å€‹èªè¨€ä¾†è§£é¡Œï¼Œä»Šå¤©æ˜¯ç¬¬åå››å¤©ï¼Œè®“æˆ‘å€‘é–‹å§‹å§ï¼</p>
<img src="/images/sqrtx/1.png">

<p>é¡Œç›®ä¾†æºï¼š<a href="https://leetcode.com/problems/sqrtx/">leetcode</a></p>
<p>ä»Šå¤©çš„é¡Œç›®æ˜¯å°‹æ‰¾å¹³æ–¹æ ¹ï¼Œä½†æ˜¯ä¸èƒ½ç”¨å…§å»ºçš„æ•¸å­¸æ–¹æ³•ä¾†æ‰¾ï¼Œé¡Œç›®è§£é‡‹å¦‚ä¸‹ï¼š</p>
<p>åœ¨ç»™å®šä¸€ä¸ªéè² æ•´æ•¸ x çš„æƒ…å†µä¸‹ï¼Œè¿”å›å››æ¨äº”å…¥åˆ°æœ€æ¥è¿‘æ•´æ•°çš„ x çš„å¹³æ–¹æ ¹ã€‚è¿”å›çš„æ•´æ•¸ä¹Ÿæ‡‰ç‚ºéè² æ•´æ•°ã€‚</p>
<p>ä¸å¾—ä½¿ç”¨ä»»ä½•å†…ç½®æŒ‡æ•°å‡½æ•°æˆ–è¿ç®—ç¬¦ã€‚<br>ä¾‹å¦‚ï¼Œè«‹å‹¿åœ¨ c++ ä¸­ä½¿ç”¨ pow(x, 0.5) æˆ–åœ¨ python ä¸­ä½¿ç”¨ x ** 0.5ã€‚</p>
<p>é¡Œç›®é‚„ç®—å–®ç´”ï¼Œå› ç‚ºåƒ…è¦å››æ¨äº”å…¥åˆ°æ•´æ•¸ä½å³å¯ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ˜¨å¤©ç”¨åˆ°çš„<code>äºŒåˆ†æ³•</code>ï¼Œå¾ä¸­é–“åˆ‡ä¸€åŠé–‹å§‹æ¸¬è©¦ï¼Œé€™æ¨£å¾ˆå¿«å°±å¯ä»¥æ‰¾åˆ°äº†ï¼</p>
<h2 id="Ruby"><a href="#Ruby" class="headerlink" title="Ruby"></a>Ruby</h2><figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">my_sqrt</span>(<span class="hljs-params">x</span>)<br>  <span class="hljs-comment"># å·¦å³é‚Šç•Œç‚º0...x</span><br>  left, right = <span class="hljs-number">0</span>, x<br><br>  <span class="hljs-keyword">while</span> left &lt;= right<br>    mid = (left + right) / <span class="hljs-number">2</span>  <span class="hljs-comment"># è¨ˆç®—ä¸­é–“å€¼</span><br>    mid_squared = mid * mid  <span class="hljs-comment"># è¨ˆç®—ä¸­é–“å€¼çš„å¹³æ–¹</span><br><br>    <span class="hljs-keyword">if</span> mid_squared == x<br>      <span class="hljs-keyword">return</span> mid.to_i  <span class="hljs-comment"># å¦‚æœä¸­é–“å€¼çš„å¹³æ–¹ç­‰æ–¼ xï¼Œè¿”å›ä¸­é–“å€¼ï¼ˆè½‰æ›ç‚ºæ•´æ•¸å½¢å¼ï¼‰</span><br>    <span class="hljs-keyword">elsif</span> mid_squared &lt; x<br>      left = mid + <span class="hljs-number">1</span>  <span class="hljs-comment"># å¦‚æœä¸­é–“å€¼çš„å¹³æ–¹å°æ–¼ xï¼Œå°±ä½¿ç”¨mid+1...xä¾†æ¯”è¼ƒï¼Œå› æ­¤èª¿æ•´leftçš„å€¼</span><br>    <span class="hljs-keyword">else</span><br>      right = mid - <span class="hljs-number">1</span>  <span class="hljs-comment"># å¦‚æœä¸­é–“å€¼çš„å¹³æ–¹å¤§æ–¼ xï¼Œå°±ä½¿ç”¨left...mid-1ä¾†æ¯”è¼ƒï¼Œå› æ­¤èª¿æ•´rightçš„å€¼</span><br>    <span class="hljs-keyword">end</span><br>  <span class="hljs-keyword">end</span><br><br>  <span class="hljs-keyword">return</span> right.to_i  <span class="hljs-comment"># ç•¶ left &gt; right æ™‚ï¼Œright å°±æ˜¯å°æ–¼æˆ–ç­‰æ–¼å¹³æ–¹æ ¹çš„æ•´æ•¸å€¼ï¼Œå› æ­¤è¦å‘ä¸‹å–æ•´ï¼Œæ‰€ä»¥è¿”å›å³é‚Šç•Œï¼ˆè½‰æ›ç‚ºæ•´æ•¸å½¢å¼ï¼‰</span><br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure>

<h2 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h2><figure class="highlight py"><table><tr><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">mySqrt</span>(<span class="hljs-params">self, x: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        <span class="hljs-comment"># å·¦å³é‚Šç•Œç‚º0...x</span><br>        left, right = <span class="hljs-number">0</span>, x<br><br>        <span class="hljs-keyword">while</span> left &lt;= right:<br>            mid = (left + right) // <span class="hljs-number">2</span>  <span class="hljs-comment"># è¨ˆç®—ä¸­é–“å€¼</span><br>            mid_squared = mid * mid  <span class="hljs-comment"># è¨ˆç®—ä¸­é–“å€¼çš„å¹³æ–¹</span><br><br>            <span class="hljs-keyword">if</span> mid_squared == x:<br>                <span class="hljs-keyword">return</span> mid  <span class="hljs-comment"># å¦‚æœä¸­é–“å€¼çš„å¹³æ–¹ç­‰æ–¼ xï¼Œè¿”å›ä¸­é–“å€¼</span><br>            <span class="hljs-keyword">elif</span> mid_squared &lt; x:<br>                left = mid + <span class="hljs-number">1</span>  <span class="hljs-comment"># å¦‚æœä¸­é–“å€¼çš„å¹³æ–¹å°æ–¼ xï¼Œèª¿æ•´å·¦é‚Šç•Œ</span><br>            <span class="hljs-keyword">else</span>:<br>                right = mid - <span class="hljs-number">1</span>  <span class="hljs-comment"># å¦‚æœä¸­é–“å€¼çš„å¹³æ–¹å¤§æ–¼ xï¼Œèª¿æ•´å³é‚Šç•Œ</span><br><br>        <span class="hljs-keyword">return</span> right  <span class="hljs-comment"># å› ç‚ºè¦å‘ä¸‹å–æ•´ï¼Œæ‰€ä»¥è¿”å›å³é‚Šç•Œ</span><br></code></pre></td></tr></table></figure>
<h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">mySqrt</span>(<span class="hljs-params">x</span>) &#123;<br>    <span class="hljs-keyword">let</span> left = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">let</span> right = x;<br>  <br>    <span class="hljs-keyword">while</span> (left &lt;= right) &#123;<br>      <span class="hljs-keyword">const</span> mid = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>((left + right) / <span class="hljs-number">2</span>);<br>      <span class="hljs-keyword">const</span> midSquared = mid * mid;<br>  <br>      <span class="hljs-keyword">if</span> (midSquared === x) &#123;<br>        <span class="hljs-keyword">return</span> mid;<br>      &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (midSquared &lt; x) &#123;<br>        left = mid + <span class="hljs-number">1</span>;<br>      &#125; <span class="hljs-keyword">else</span> &#123;<br>        right = mid - <span class="hljs-number">1</span>;<br>      &#125;<br>    &#125;<br>  <br>    <span class="hljs-keyword">return</span> right;<br>  &#125;<br></code></pre></td></tr></table></figure>

<p>é›–ç„¶å¦‚æœä½¿ç”¨å…§å»ºçš„æ–¹æ³•è¶…å¿«å°±å¯ä»¥è§£å‡ºä¾†äº†ï¼Œä½†å­¸ç¿’ä½¿ç”¨äºŒåˆ†æ³•ä¹Ÿèƒ½å¤ åœ¨å…¶ä»–çš„æ¢ä»¶ä¸‹æ‡‰ç”¨ï¼</p>
]]></content>
      <categories>
        <category>leetcode</category>
      </categories>
      <tags>
        <tag>Ruby</tag>
        <tag>Python</tag>
        <tag>JavaScript</tag>
        <tag>leetcode</tag>
        <tag>sqrtx</tag>
      </tags>
  </entry>
  <entry>
    <title>LeetcodeæŒ‘æˆ°: Day02 two sum</title>
    <url>/2024/01/31/leetcode-two-sum/</url>
    <content><![CDATA[<p>ç‚ºäº†åŠ å¼·è‡ªå·±çš„ç¨‹å¼èƒ½åŠ›ï¼Œå› æ­¤è¨˜éŒ„æ¯å¤©åˆ·leetcodeçš„è§£æ³•+èªªæ˜ï¼Œæœƒç”¨<code>Ruby</code>ä¾†è§£é¡Œï¼Œä»Šå¤©ä¾†åˆ°ç¬¬äºŒå¤©ï¼Œè®“æˆ‘å€‘ç¹¼çºŒå§ï¼</p>
<img src="/images/leetcode-two-sum/1.png">

<p>ä¾†æº:<a href="https://leetcode.com/problems/two-sum/">Leetcode</a></p>
<h2 id="Ruby"><a href="#Ruby" class="headerlink" title="Ruby"></a>Ruby</h2><figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">two_sum</span>(<span class="hljs-params">nums, target</span>)<br>  seen = &#123;&#125;<br>  nums.each_with_index &#123; |<span class="hljs-params">num, i</span>| <span class="hljs-keyword">return</span> [seen[target - num], i] <span class="hljs-keyword">if</span> seen.key?(target - num); seen[num] = i &#125;<br><span class="hljs-keyword">end</span><br><br><span class="hljs-comment"># Testing</span><br>puts two_sum([<span class="hljs-number">2</span>, <span class="hljs-number">7</span>, <span class="hljs-number">11</span>, <span class="hljs-number">15</span>], <span class="hljs-number">9</span>)  <span class="hljs-comment"># Output: [0, 1]</span><br>puts two_sum([<span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>], <span class="hljs-number">6</span>)       <span class="hljs-comment"># Output: [1, 2]</span><br>puts two_sum([<span class="hljs-number">3</span>, <span class="hljs-number">3</span>], <span class="hljs-number">6</span>)          <span class="hljs-comment"># Output: [0, 1]</span><br></code></pre></td></tr></table></figure>
<ul>
<li><code>seen</code>: ç©ºçš„hashï¼Œä¾†è¨˜éŒ„å·²ç¶“éæ­·éçš„æ•¸å­—åŠå…¶å°æ‡‰çš„ç´¢å¼•</li>
<li><code>nums</code>: å‚³å…¥çš„é™£åˆ—</li>
<li><code>target</code>:ç›®æ¨™ä¹‹å’Œ</li>
<li><code>each_with_index</code>:è¿­ä»£+ç´¢å¼•ï¼Œæœƒå¾—åˆ°<code>num</code>&amp; ç´¢å¼•å€¼<code>i</code></li>
<li><code>if seen.key?(target - num)</code>: target - numç‚ºç¬¬äºŒå€‹æ•¸ï¼Œå› ç‚ºtarget &#x3D; a + bï¼Œtarget - a &#x3D; bï¼Œç¬¬ä¸€å€‹æ•¸å­—ç‚ºnumæ™‚ï¼Œç¬¬äºŒå€‹å‰‡ç‚ºtarget - num</li>
<li><code>seen[target - num]</code>: ç›®æ¨™æ•¸å­—çš„ç´¢å¼•å€¼</li>
<li><code>seen[num] = i</code>: å¦‚æœæ²’æœ‰åŒ¹é…çš„æ•¸å°ï¼Œå°±å°‡ç•¶å‰æ•¸å­—<code>num</code>&amp;ç´¢å¼•<code>i</code>åŠ å…¥<code>seen</code>ç•¶ä¸­ï¼Œä¹‹å¾Œæ‰¾æ¯”è¼ƒå¿«</li>
</ul>
<p>ä»Šå¤©çš„é›£åº¦æ¯”æ˜¨å¤©é›£å¥½å¤šï¼ï¼ä¸æ„§æ˜¯é¢è©¦å¸¸è¦‹çš„é¡Œç›®ï¼Œä½†ä½¿ç”¨Rubyé‚„æ˜¯èƒ½å¤ å¾ˆç°¡æ½”åœ°å¯«å‡ºä¾†ï¼</p>
]]></content>
      <categories>
        <category>leetcode</category>
      </categories>
      <tags>
        <tag>Ruby</tag>
        <tag>leetcode</tag>
        <tag>two sum</tag>
      </tags>
  </entry>
  <entry>
    <title>LeetcodeæŒ‘æˆ°: Day06 valid parentheses</title>
    <url>/2024/02/04/leetcode-valid-parentheses/</url>
    <content><![CDATA[<p>ç‚ºäº†åŠ å¼·è‡ªå·±çš„ç¨‹å¼èƒ½åŠ›ï¼Œå› æ­¤è¨˜éŒ„æ¯å¤©åˆ·leetcodeçš„è§£æ³•+èªªæ˜ï¼Œä»Šå¤©æœƒç”¨<code>Ruby</code>ã€<code>Python</code>ã€<code>JavaScript</code>ä¾†è§£é¡Œï¼Œä»Šå¤©ä¾†åˆ°ç¬¬å…­å¤©ï¼Œè®“æˆ‘å€‘ç¹¼çºŒå§ï¼</p>
<img src="/images/leetcode-valid-parentheses/0204.png">

<p>é¡Œç›®ä¾†æºï¼š<a href="https://leetcode.com/problems/valid-parentheses/">leetcode</a></p>
<h2 id="Ruby"><a href="#Ruby" class="headerlink" title="Ruby"></a>Ruby</h2><figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">is_valid</span>(<span class="hljs-params">s</span>)<br>  stack = []<br>  mapping = &#123; <span class="hljs-string">&#x27;)&#x27;</span> =&gt; <span class="hljs-string">&#x27;(&#x27;</span>, <span class="hljs-string">&#x27;&#125;&#x27;</span> =&gt; <span class="hljs-string">&#x27;&#123;&#x27;</span>, <span class="hljs-string">&#x27;]&#x27;</span> =&gt; <span class="hljs-string">&#x27;[&#x27;</span> &#125;<br><br>  s.each_char <span class="hljs-keyword">do</span> |<span class="hljs-params">char</span>|<br>    <span class="hljs-keyword">if</span> mapping.key?(char)<br>      top_element = stack.pop |<span class="hljs-params"></span>| <span class="hljs-string">&#x27;#&#x27;</span><br>      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span> <span class="hljs-keyword">if</span> mapping[char] != top_element<br>    <span class="hljs-keyword">else</span><br>      stack.push(char)<br>    <span class="hljs-keyword">end</span><br>  <span class="hljs-keyword">end</span><br><br>  stack.empty?<br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure>

<p>å…ˆè¨­å®šä¸€å€‹åç‚º<code>stack</code>çš„ç©ºé™£åˆ—ï¼Œé‚„æœ‰å·¦æ‹¬è™Ÿçš„hashï¼Œ<br>å› ç‚ºkeyç‚ºå³æ‹¬è™Ÿï¼Œæ‰€ä»¥ç¬¬ä¸€æ¬¡çš„å·¦æ‹¬è™Ÿéƒ½ç„¡æ‡¸å¿µåœ°é€²å…¥<code>stack</code>ï¼Œç¬¬äºŒæ¬¡è¿´åœˆï¼Œ<code>top_element</code>å‰‡å–å‡ºä¸Šä¸€æ¬¡æ”¾é€²å»çš„å·¦æ‹¬è™Ÿï¼Œä¸¦å»æ¯”å°æ˜¯å¦å’Œç¬¬äºŒæ¬¡è¿´åœˆå°æ‡‰åˆ°çš„å·¦æ‹¬è™Ÿç›¸ç¬¦ã€‚</p>
<p>å¦‚æœä¸ç¬¦åˆå³æœƒå›å‚³<code>false</code>ï¼Œå¦‚æœæ‰€æœ‰çš„æ‹¬è™Ÿéƒ½æˆå°ï¼Œå³<code>stack</code>ç‚ºç©º</p>
<h2 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">isValid</span>(<span class="hljs-params">self, s: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">bool</span>:<br>        stack = []<br>        mapping = &#123;<span class="hljs-string">&#x27;)&#x27;</span>: <span class="hljs-string">&#x27;(&#x27;</span>, <span class="hljs-string">&#x27;&#125;&#x27;</span>: <span class="hljs-string">&#x27;&#123;&#x27;</span>, <span class="hljs-string">&#x27;]&#x27;</span>: <span class="hljs-string">&#x27;[&#x27;</span>&#125;<br><br>        <span class="hljs-keyword">for</span> char <span class="hljs-keyword">in</span> s:<br>            <span class="hljs-keyword">if</span> char <span class="hljs-keyword">in</span> mapping:<br>                top_element = stack.pop() <span class="hljs-keyword">if</span> stack <span class="hljs-keyword">else</span> <span class="hljs-string">&#x27;#&#x27;</span><br>                <span class="hljs-keyword">if</span> mapping[char] != top_element:<br>                    <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br>            <span class="hljs-keyword">else</span>:<br>                stack.append(char)<br><br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">not</span> stack<br></code></pre></td></tr></table></figure>
<p><code>python</code>ä½¿ç”¨ä¸€æ¨£çš„æ–¹å¼ï¼Œä¸éå› ç‚º<code>python</code>çš„æ·»åŠ <code>list</code>ä½¿ç”¨çš„æ˜¯<code>append</code>ï¼Œæ‰€ä»¥é€™è£¡æˆ‘æ”¹ç”¨<code>stack.append(char)</code> </p>
<h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> isValid = <span class="hljs-keyword">function</span>(<span class="hljs-params">s</span>) &#123;<br>    <span class="hljs-keyword">const</span> stack = [];<br>    <span class="hljs-keyword">const</span> mapping = &#123; <span class="hljs-string">&#x27;)&#x27;</span>: <span class="hljs-string">&#x27;(&#x27;</span>, <span class="hljs-string">&#x27;&#125;&#x27;</span>: <span class="hljs-string">&#x27;&#123;&#x27;</span>, <span class="hljs-string">&#x27;]&#x27;</span>: <span class="hljs-string">&#x27;[&#x27;</span> &#125;;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> char <span class="hljs-keyword">of</span> s) &#123;<br>        <span class="hljs-keyword">if</span> (mapping[char]) &#123;<br>            <span class="hljs-keyword">const</span> topElement = stack.<span class="hljs-title function_">pop</span>() || <span class="hljs-string">&#x27;#&#x27;</span>;<br>            <span class="hljs-keyword">if</span> (mapping[char] !== topElement) &#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>            &#125;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            stack.<span class="hljs-title function_">push</span>(char);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> !stack.<span class="hljs-property">length</span>;<br>&#125;;<br></code></pre></td></tr></table></figure>
<p>JSä¹Ÿæ˜¯ä¾æ¨£ç•«è‘«è˜†ï¼åªè¦ç¨å¾®æ”¹å¯«ä¸€ä¸‹å¯«æ³•å³å¯</p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p>åƒè€ƒè³‡æ–™ï¼š<br><a href="https://docs.python.org/zh-tw/3/tutorial/datastructures.html">Pythonæ‰‹å†Š</a></p>
]]></content>
      <categories>
        <category>leetcode</category>
      </categories>
      <tags>
        <tag>Ruby</tag>
        <tag>Python</tag>
        <tag>JavaScript</tag>
        <tag>leetcode</tag>
        <tag>longest common prefix</tag>
      </tags>
  </entry>
  <entry>
    <title>LeetcodeæŒ‘æˆ°: Day10 valid palindrome</title>
    <url>/2024/02/08/leetcode-valid-palindrome/</url>
    <content><![CDATA[<p>ç‚ºäº†åŠ å¼·è‡ªå·±çš„ç¨‹å¼èƒ½åŠ›ï¼Œå› æ­¤é–‹å§‹è¨˜éŒ„æ¯å¤©åˆ·leetcodeçš„è§£æ³•+èªªæ˜ï¼Œæœƒç”¨<code>Ruby</code>ã€<code>python</code>å’Œ<code>JavaScript</code>ä¸‰å€‹èªè¨€ä¾†è§£é¡Œï¼Œä»Šå¤©æ˜¯ç¬¬åå¤©ï¼Œçµ‚æ–¼å®Œæˆ1&#x2F;3äº†ï¼Œè®“æˆ‘å€‘é–‹å§‹å§ï¼</p>
<img src="/images/leetcode-valid-palindrome/banner.png">

<p>é¡Œç›®ä¾†æºï¼š<a href="https://leetcode.com/problems/valid-palindrome">leetcode</a></p>
<p>é€™å€‹å•é¡Œè¦æ±‚åˆ¤æ–·å¥å­æ˜¯å¦ç‚ºå›æ–‡ã€‚åœ¨é€²è¡Œæ¯”è¼ƒæ™‚ï¼Œæœƒéœ€è¦å…ˆå°‡æ‰€æœ‰å­—æ¯è½‰æ›ç‚ºå°å¯«ï¼Œä¸¦å»é™¤æ‰€æœ‰éå­—æ¯å’Œæ•¸å­—ã€‚ç„¶å¾Œï¼Œæ¯”è¼ƒè™•ç†éçš„å­—ä¸²æ˜¯å¦å’Œå®ƒçš„åè½‰ç›¸ç­‰ã€‚</p>
<h2 id="Ruby"><a href="#Ruby" class="headerlink" title="Ruby"></a>Ruby</h2><figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">is_palindrome</span>(<span class="hljs-params">s</span>)<br>  clean_s = s.downcase.gsub(<span class="hljs-regexp">/[^a-z0-9]/</span>, <span class="hljs-string">&#x27;&#x27;</span>)<br>  clean_s == clean_s.reverse<br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure>
<p>ä½¿ç”¨<code>downcase</code>å°‡å­—ç¬¦è½‰æ›ç‚ºå°å¯«ï¼Œå†ä½¿ç”¨<code>gsub</code>å»é™¤éå­—æ¯å’Œæ•¸å­—çš„å­—ï¼Œæœ€å¾Œæ¯”è¼ƒåè½‰æ˜¯å¦ç›¸åŒå°±å®Œæˆäº†ï½</p>
<h2 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h2><figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">is_palindrome</span>(<span class="hljs-params">s</span>):<br>    <span class="hljs-comment"># å°‡å­—ç¬¦è½‰æ›ç‚ºå°å¯«ï¼Œå»é™¤éå­—æ¯å’Œæ•¸å­—çš„å­—</span><br>    clean_s = <span class="hljs-string">&#x27;&#x27;</span>.join(char.lower() <span class="hljs-keyword">for</span> char <span class="hljs-keyword">in</span> s <span class="hljs-keyword">if</span> char.isalnum())<br>    <span class="hljs-comment"># æ¯”è¼ƒè™•ç†éçš„å­—ä¸²å’Œå®ƒçš„åè½‰æ˜¯å¦ç›¸ç­‰</span><br>    <span class="hljs-keyword">return</span> clean_s == clean_s[::-<span class="hljs-number">1</span>]<br></code></pre></td></tr></table></figure>

<p><code>isalnum()</code>æ–¹æ³•ç”¨æ–¼æª¢æŸ¥å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰å­—æ˜¯å¦éƒ½æ˜¯å­—æ¯å’Œæ•¸å­—ã€‚å¦‚æœæ˜¯ï¼Œè©²æ–¹æ³•è¿”å› Trueï¼Œè¡¨ç¤ºæ‰€æœ‰å­—ç¬¦å‡ç‚ºå­—æ¯ï¼ˆa-zã€A-Zï¼‰å’Œæ•¸å­—ï¼ˆ0-9ï¼‰ã€‚åä¹‹ï¼Œå¦‚æœå­—ç¬¦ä¸²ä¸­åŒ…å«éå­—æ¯å’Œéæ•¸å­—çš„å­—ç¬¦ï¼Œä¾‹å¦‚ç©ºæ ¼ã€é©šå˜†è™Ÿã€äº•è™Ÿã€ç™¾åˆ†è™Ÿã€å’Œå•è™Ÿç­‰ï¼Œè©²æ–¹æ³•å°‡è¿”å› Falseã€‚</p>
<p>ä½¿ç”¨é€™å€‹æ–¹æ³•å°±ä¸ç”¨ä½¿ç”¨<code>gsub</code>å–ä»£äº†ï¼Œå› ç‚ºåªæœ‰æ˜¯å­—æ¯å’Œæ•¸å­—æ‰æœƒæ”¾é€²<code>clean_s</code>è£¡</p>
<h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">isPalindrome</span>(<span class="hljs-params">s</span>) &#123;<br>  <span class="hljs-comment">// å°‡å­—ä¸²è½‰æ›ç‚ºå°å¯«ï¼Œå»é™¤éå­—æ¯å’Œæ•¸å­—</span><br>  <span class="hljs-keyword">const</span> cleanS = s.<span class="hljs-title function_">toLowerCase</span>().<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/[^a-z0-9]/g</span>, <span class="hljs-string">&#x27;&#x27;</span>);<br>  <span class="hljs-comment">// æ¯”è¼ƒè™•ç†éçš„å­—ä¸²å’Œå®ƒçš„åè½‰æ˜¯å¦ç›¸ç­‰</span><br>  <span class="hljs-keyword">return</span> cleanS === cleanS.<span class="hljs-title function_">split</span>(<span class="hljs-string">&#x27;&#x27;</span>).<span class="hljs-title function_">reverse</span>().<span class="hljs-title function_">join</span>(<span class="hljs-string">&#x27;&#x27;</span>);<br>&#125;<br></code></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>leetcode</category>
      </categories>
      <tags>
        <tag>Ruby</tag>
        <tag>Python</tag>
        <tag>JavaScript</tag>
        <tag>leetcode</tag>
        <tag>valid palindrome</tag>
      </tags>
  </entry>
  <entry>
    <title>Ruby on Rails: ä¸²æ¥LINE Pay API v3</title>
    <url>/2024/01/21/linepay/</url>
    <content><![CDATA[<style>
.em-div{
background-color: #d4a373;
color: white;
padding: 10px;
margin: 10px;
border-radius: 5px;
}

.em-div2{
border:2px #d4a373 solid;
margin:5px;
padding:10px 2px 2px 2px;
border-style:dashed;
}
</style>

<h3 id=""><a href="#" class="headerlink" title=""></a></h3><img src="/images/banner.jpeg">

<blockquote>
<p>åœ–ç‰‡ä¾†æº: <a href="https://pay.line.me/portal/tw/customer/press/98766?categoryId=">LINE Payæ–°è</a></p>
</blockquote>
<h3 id="-1"><a href="#-1" class="headerlink" title=""></a></h3><p>ä»Šå¤©ä¾†ä½¿ç”¨Ruby on Railsä¸²æ¥LINE Pay à¸…^â€¢ï»Œâ€¢^à¸…</p>
<p>é¦–å…ˆéœ€è¦åˆ°<a href="https://pay.line.me/th/developers/techsupport/sandbox/creation?locale=zh_TW">LINE Pay  SandBox</a>ç”³è«‹ä¸€å€‹æ¸¬è©¦å¸³è™Ÿ</p>
<img src="/images/LINE-Pay/2.png">

<p>æ¥è‘—åˆ°ä¿¡ç®±æ”¶LINE Pay ç™¼çš„å¸³è™Ÿå¯†ç¢¼ï¼Œç™»å…¥å¯ä»¥å¾é€™è£¡ç™»å…¥ï¼š<a href="https://pay.line.me/tw/developers/techsupport/sandbox/testflow?locale=zh_TW">LINE Payæ¸¬è©¦æµç¨‹</a></p>
<p>æ¥è‘—å¯ä»¥åˆ°<a href="https://sandbox-pay.line.me/zh_TW/payment/interlockKey">LINE Pay æ¸¬è©¦ç’°å¢ƒ</a>ï¼Œæ‹¿æ‰€éœ€çš„Channel ID ï¼† Channel Secret Key</p>
<img src="/images/LINE-Pay/3.png">

<p>ç„¶å¾ŒæŠŠ<a href="https://pay.line.me/tw/developers/apis/onlineApis?locale=zh_TW">LINE Pay API</a>æŠ€è¡“æ‰‹å†Šæ‹¿ç·Šç·Šï¼Œå› ç‚ºæ¥ä¸‹ä¾†æœƒå¾ˆéœ€è¦ä»–(ã††á´—ã††)</p>
<p>æˆ‘å…ˆä½¿ç”¨credientailå°‡æ‰€éœ€è¦çš„è³‡æ–™&amp;æ©Ÿå¯†è³‡æ–™æ”¾é€²å»</p>
<p><code>EDITOR=&quot;code --wait&quot; rails credentials:edit</code></p>
<ul>
<li>ENV</li>
</ul>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-symbol">line:</span><br>  <span class="hljs-variable constant_">CHANNEL_ID</span>: &lt;your channel id&gt;<br>  <span class="hljs-variable constant_">SECRET_KEY</span>: &lt;your secret key&gt;<br>  <span class="hljs-variable constant_">LINEPAY_SITE</span>: <span class="hljs-symbol">https:</span>/<span class="hljs-regexp">/sandbox-api-pay.line.me</span><br><span class="hljs-regexp">  CONFIRM_URL: /orders</span><span class="hljs-regexp">/confirm</span><br><span class="hljs-regexp">  CANCEL_URL: /orders</span><span class="hljs-regexp">/cancel</span><br><span class="hljs-regexp">  DOMAIN_NAME: http:/</span><span class="hljs-regexp">/127.0.0.1:3000</span><br><span class="hljs-regexp">  VERSION: v3</span><br></code></pre></td></tr></table></figure>

<p>CHANNEL_ID ï¼† SECRET_KEY è¦æ›¿æ›æˆå‰›å‰›å¾LINE Pay SANBOXæŸ¥åˆ°çš„IDå’ŒKEY</p>
<p>å¯«åœ¨credentialçš„è³‡æ–™æœ‰å¹¾å€‹å¥½è™•ï¼š</p>
<ol>
<li>é«˜æ©Ÿå¯†æ€§ï¼šå¿…é ˆè¦æœ‰å°æ‡‰çš„keyæ‰èƒ½å¤ æ‰“é–‹ï¼Œæ­¤keyä¸æœƒè·Ÿè‘—ä¸Šå‚³GitHub</li>
<li>ä¿®æ”¹æ–¹ä¾¿ï¼šé‡‘æµçš„ç‰ˆè™Ÿæœƒä¸æ–·æ›´æ–°ï¼ˆé€™æ¬¡æ˜¯æ¥v3ï¼‰ï¼Œå¦‚æœä¹‹å¾Œæ›´æ–°å¾credientialæ”¹å°±å¥½</li>
<li>ç¢ºä¿æ­£ç¢ºæ€§ï¼šä¸²æ¥é‡‘æµåªè¦æœ‰ä¸€å€‹æ±è¥¿éŒ¯èª¤å°±æœƒå¤±æ•—ï¼Œå°‡è³‡æ–™é›†ä¸­å¯«åœ¨é€™è£¡ï¼Œç¢ºèªæ­£ç¢ºæ€§æ™‚æœƒæ¯”è¼ƒæ–¹ä¾¿</li>
</ol>
<p>æˆ‘ä½¿ç”¨gem <a href="https://rubygems.org/gems/faraday/versions/2.7.11?locale=zh-TW">faraday</a>å‘LINE Pay ç™¼é€è«‹æ±‚ï¼Œæ‰€ä»¥é€™é‚Šå…ˆå®‰è£</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby">bundle add <span class="hljs-string">&quot;faraday&quot;</span><br></code></pre></td></tr></table></figure>

<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby">bundle i<br></code></pre></td></tr></table></figure>

<p>å»ºä¸€å€‹å°ˆæ¡ˆä¾†åšLINE Pay ä¸²æ¥Ù©(â—Ë™â–¿Ë™â—)Û¶â€¦â‹†à¸º</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-variable">$ </span>rails new project_name<br><span class="hljs-variable">$ </span>rails g scaffold product name <span class="hljs-symbol">price:</span>integer<br><span class="hljs-variable">$ </span>rails g model order<br><span class="hljs-variable">$ </span>rails g controller orders<br><span class="hljs-comment">#seed</span><br><span class="hljs-title class_">Product</span>.create(<br>  <span class="hljs-symbol">name:</span> <span class="hljs-string">&quot;æ¸¬è©¦å•†å“&quot;</span>,<br>  <span class="hljs-symbol">price:</span> <span class="hljs-number">500</span><br>)<br><br><span class="hljs-variable">$ </span>rails <span class="hljs-symbol">db:</span>create <span class="hljs-symbol">db:</span>migrate <span class="hljs-symbol">db:</span>seed<br></code></pre></td></tr></table></figure>

<p>æœ¬æ¬¡è¦åšï¼šLINE Pay çš„ä»˜æ¬¾(create) ï¼† LINE Pay å›è¦†çš„ä»˜æ¬¾çµæœ(confirm)</p>
<p>é è¨ˆæœƒå¯«åœ¨ordersè£¡é¢ï¼Œæ‰€ä»¥routeså¯ä»¥é€™æ¨£å¯«ï¼š</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-comment">#routes.rb</span><br>root <span class="hljs-string">&quot;products#index&quot;</span><br><br>  resources <span class="hljs-symbol">:products</span><br><br>  resources <span class="hljs-symbol">:orders</span> <span class="hljs-keyword">do</span><br>    collection <span class="hljs-keyword">do</span><br>      get <span class="hljs-symbol">:confirm</span><br>    <span class="hljs-keyword">end</span><br>  <span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure>

<p>é¦–é å»ºç«‹ä¸€å€‹é€å‡ºè³‡æ–™çš„è¡¨å–®</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-comment">#index.html.erb</span><br>&lt;%= form_tag orders_path, <span class="hljs-symbol">method:</span> <span class="hljs-symbol">:post</span>, <span class="hljs-symbol">data:</span> &#123; <span class="hljs-symbol">turbo:</span> <span class="hljs-literal">false</span> &#125; <span class="hljs-keyword">do</span> %&gt;<br>    &lt;%= hidden_field_tag(<span class="hljs-symbol">:name</span>, <span class="hljs-variable">@product</span>.name) %&gt;<br>    &lt;%= hidden_field_tag(<span class="hljs-symbol">:price</span>, <span class="hljs-variable">@product</span>.price) %&gt;<br>    &lt;%= select_tag(<span class="hljs-symbol">:quantity</span>, options_for_select([<span class="hljs-number">1</span>])) %&gt;<br>    &lt;%= submit_tag <span class="hljs-string">&quot;é€å‡º&quot;</span>, <span class="hljs-symbol">name:</span> <span class="hljs-literal">nil</span>, <span class="hljs-symbol">class:</span> <span class="hljs-string">&quot;btn btn-primary&quot;</span> %&gt;<br>&lt;% <span class="hljs-keyword">end</span> %&gt;<br></code></pre></td></tr></table></figure>

<p>å‰ç½®ä½œæ¥­éƒ½åšå¥½äº†ï¼Œå¯ä»¥é–‹å§‹ä¸²å•¦ï¼</p>
<p>æƒ³è¦ä¸²æ¥LINE Pay å‰ï¼Œè¦å…ˆäº†è§£LINE Pay é‚£é‚Šæœƒéœ€è¦ä»€éº¼è³‡æ–™</p>
<p>å¯ä»¥å…ˆçœ‹åˆ°æ‰‹å†Šè£¡LINE Pay requestçš„éƒ¨åˆ†ï¼ŒRequirement Yçš„éƒ¨åˆ†éƒ½æ˜¯LINE Pay éœ€è¦çš„</p>
<p>ç°¡å–®ä¾†èªªï¼Œæœƒéœ€è¦head &amp; bodyï¼ˆå¥½åƒå»¢è©±ï¼‰ï¼Œä½†è£¡é¢çš„å…§å®¹æ ¼å¼å®šç¾©ä¸åŒ</p>
<p>é€™æ˜¯Head:</p>
<img src="/images/header.jpg">

<p>é€™å€‹æ˜¯Body:</p>
<img src="/images/LINE-Pay/5.png">


<p>çœ‹å®Œé€™éº¼å¤šæ±è¥¿ä¸€å®šé ­æ˜çœ¼èŠ±ï¼Œæ²’é—œä¿‚æˆ‘å€‘ç›´æ¥å‹•æ‰‹åšÊ• â€¢Ì€ o â€¢Ì Ê”</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-comment">#orders_controller</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">create</span><br>    <span class="hljs-comment"># body</span><br>    order_id = <span class="hljs-string">&quot;order<span class="hljs-subst">#&#123;<span class="hljs-title class_">Time</span>.now.strftime(<span class="hljs-string">&#x27;%Y%m%d%H%M%S&#x27;</span>)&#125;</span>&quot;</span><br>    packages_id = <span class="hljs-string">&quot;package<span class="hljs-subst">#&#123;<span class="hljs-title class_">SecureRandom</span>.uuid&#125;</span>&quot;</span><br>    amount = params[<span class="hljs-symbol">:quantity</span>].to_i * params[<span class="hljs-symbol">:price</span>].to_i<br><br>    body = &#123; <span class="hljs-symbol">amount:</span>,<br>             <span class="hljs-symbol">currency:</span> <span class="hljs-string">&#x27;TWD&#x27;</span>,<br>             <span class="hljs-symbol">orderId:</span> order_id,<br>             <span class="hljs-symbol">packages:</span> [&#123; <span class="hljs-symbol">id:</span> packages_id,<br>                          <span class="hljs-symbol">amount:</span>,<br>                          <span class="hljs-symbol">products:</span> [&#123;<br>                            <span class="hljs-symbol">name:</span> params[<span class="hljs-symbol">:name</span>],<br>                            <span class="hljs-symbol">quantity:</span> params[<span class="hljs-symbol">:quantity</span>].to_i,<br>                            <span class="hljs-symbol">price:</span> params[<span class="hljs-symbol">:price</span>].to_i,<br>                          &#125;] &#125;],<br>             <span class="hljs-symbol">redirectUrls:</span> &#123; <span class="hljs-symbol">confirmUrl:</span> <span class="hljs-string">&quot;<span class="hljs-subst">#&#123;<span class="hljs-title class_">Rails</span>.application.credentials.line.<span class="hljs-variable constant_">DOMAIN_NAME</span>&#125;</span><span class="hljs-subst">#&#123;<span class="hljs-title class_">Rails</span>.application.credentials.line.<span class="hljs-variable constant_">CONFIRM_URL</span>&#125;</span>&quot;</span>,<br>                             <span class="hljs-symbol">cancelUrl:</span> <span class="hljs-string">&quot;<span class="hljs-subst">#&#123;<span class="hljs-title class_">Rails</span>.application.credentials.line.<span class="hljs-variable constant_">DOMAIN_NAME</span>&#125;</span><span class="hljs-subst">#&#123;<span class="hljs-title class_">Rails</span>.application.credentials.line.<span class="hljs-variable constant_">CANCEL_URL</span>&#125;</span>&quot;</span>&#125; &#125;<br>    <span class="hljs-comment"># header</span><br>    signature_uri = <span class="hljs-string">&quot;/<span class="hljs-subst">#&#123;<span class="hljs-title class_">Rails</span>.application.credentials.line.<span class="hljs-variable constant_">VERSION</span>&#125;</span>/payments/request&quot;</span><br>    create_header(signature_uri, body)<br>    conn = <span class="hljs-title class_">Faraday</span>.new(<br>      <span class="hljs-symbol">url:</span> <span class="hljs-string">&quot;<span class="hljs-subst">#&#123;<span class="hljs-title class_">Rails</span>.application.credentials.line.<span class="hljs-variable constant_">LINEPAY_SITE</span>&#125;</span>/<span class="hljs-subst">#&#123;<span class="hljs-title class_">Rails</span>.application.credentials.line.<span class="hljs-variable constant_">VERSION</span>&#125;</span>/payments/request&quot;</span>,<br>      <span class="hljs-symbol">headers:</span> <span class="hljs-variable">@header</span><br>    )<br><br>    response = conn.post <span class="hljs-keyword">do</span> |<span class="hljs-params">req</span>|<br>      req.body = body.to_json<br>    <span class="hljs-keyword">end</span><br>    parsed_response = <span class="hljs-variable constant_">JSON</span>.parse(response.body)<br>    <span class="hljs-keyword">if</span> parsed_response[<span class="hljs-string">&#x27;returnCode&#x27;</span>] == <span class="hljs-string">&#x27;0000&#x27;</span><br>      redirect_to parsed_response[<span class="hljs-string">&#x27;info&#x27;</span>][<span class="hljs-string">&#x27;paymentUrl&#x27;</span>][<span class="hljs-string">&#x27;web&#x27;</span>], <span class="hljs-symbol">allow_other_host:</span> <span class="hljs-literal">true</span><br>    <span class="hljs-keyword">else</span><br>      redirect_to order_path(<span class="hljs-variable">@order</span>), <span class="hljs-symbol">notice:</span> t(<span class="hljs-symbol">:payment_failed</span>, <span class="hljs-symbol">scope:</span> %i[message])<br>      puts parsed_response<br>    <span class="hljs-keyword">end</span><br>  <span class="hljs-keyword">end</span> <br></code></pre></td></tr></table></figure>

<p>æœ€ä¸€é–‹å§‹åšbodyï¼Œå…¶å¯¦å°±æ˜¯æŠŠLINE Pay æŠ€è¡“æ–‡ä»¶è£¡ï¼Œbodyæœ‰æ‰“å‹¾ç‚ºå¿…éœ€çš„é …ç›®ï¼Œ</p>
<p>ä½¿ç”¨ä»–æŒ‡å®šçš„æ ¼å¼çµ„åˆï¼Œå¦‚æœåœ¨ä¸€èˆ¬å°ˆæ¡ˆorder modelçš„è©±ï¼Œä¹Ÿèƒ½å¤ å¾orderè£¡é¢æ’ˆè³‡æ–™</p>
<p>å› ç‚ºrequestå’Œconfirmçš„<code>signature_uri</code> å’Œ <code>body</code>  ä¸åŒï¼Œ</p>
<p>æ‰€ä»¥æˆ‘æ²’æœ‰ç‰¹åˆ¥æ‹‰å‡ºå»åšä¸€å€‹æ–¹æ³•ï¼Œè€Œæ˜¯åœ¨create, confirmå…§å€‹åˆ¥çµ„åˆï¼Œ</p>
<p>ç„¶å¾Œå‚³å‡ºçµ¦create_header</p>
<h2 id="creat-header"><a href="#creat-header" class="headerlink" title="creat_header"></a>creat_header</h2><p>å»ºç«‹ä¸€å€‹ HTTP è«‹æ±‚çš„æ¨™é ­ï¼ˆheaderï¼‰ï¼Œä»¥ä¾¿é€²è¡Œèº«ä»½é©—è­‰å’Œæˆæ¬Šã€‚</p>
<p>å› ç‚ºconfirmä¹Ÿæœƒéœ€è¦å†è£½ä½œä¸€æ¬¡ï¼Œæ‰€ä»¥æˆ‘ç‰¹åœ°æ‹‰å‡ºä¾†å¦ä¸€å€‹æ–¹æ³•ï¼š</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-comment">#orders_controller</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">create_header</span>(<span class="hljs-params">signature_uri, body</span>)<br>    nonce = <span class="hljs-title class_">SecureRandom</span>.uuid<br>    secret = <span class="hljs-title class_">Rails</span>.application.credentials.line.<span class="hljs-variable constant_">SECRET_KEY</span><br>    message = <span class="hljs-string">&quot;<span class="hljs-subst">#&#123;secret&#125;</span><span class="hljs-subst">#&#123;signature_uri&#125;</span><span class="hljs-subst">#&#123;body.to_json&#125;</span><span class="hljs-subst">#&#123;nonce&#125;</span>&quot;</span><br>    hash = <span class="hljs-title class_">Open</span>SSL::<span class="hljs-variable constant_">HMAC</span>.digest(<span class="hljs-title class_">OpenSSL::Digest</span>.new(<span class="hljs-string">&#x27;sha256&#x27;</span>), secret, message)<br>    <span class="hljs-variable">@signature</span> = <span class="hljs-title class_">Base64</span>.strict_encode64(hash)<br>    <span class="hljs-variable">@header</span> = &#123; <span class="hljs-string">&#x27;Content-Type&#x27;</span>: <span class="hljs-string">&#x27;application/json&#x27;</span>,<br>                <span class="hljs-string">&#x27;X-LINE-ChannelId&#x27;</span>: <span class="hljs-string">&quot;<span class="hljs-subst">#&#123;<span class="hljs-title class_">Rails</span>.application.credentials.line[<span class="hljs-symbol">:CHANNEL_ID</span>]&#125;</span>&quot;</span>, <span class="hljs-comment"># rubocop:disable Style/RedundantInterpolation</span><br>                <span class="hljs-string">&#x27;X-LINE-Authorization-Nonce&#x27;</span>: nonce,<br>                <span class="hljs-string">&#x27;X-LINE-Authorization&#x27;</span>: <span class="hljs-variable">@signature</span> &#125;<br>  <span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure>

<p>å…¶å¯¦é€™æ®µåšçš„å°±æ˜¯æ‰‹å†Šè£¡çš„é€™å€‹æ­¥é©Ÿï¼š</p>
<div class="em-div2">

<p><strong>HTTP Method : POST</strong></p>
<p>Signature &#x3D; Base64(HMAC-SHA256(Your ChannelSecret, (Your ChannelSecret + URI + RequestBody + nonce)))</p>
</div>

<p>é€™é‚Šä¸ç”¨å¦å¤–åŒ¯å…¥åŠ å¯†å¥—ä»¶ï¼Œä½¿ç”¨Ruby on Railså…§å»ºçš„å³å¯</p>
<p>å¦å¤–LINE Pay  v3å› ç‚ºè¦é˜²æ­¢æƒ¡æ„æ”»æ“Šï¼Œæ‰€ä»¥è¦æ±‚æ¯æ¬¡é€headerè¦æœ‰ä¸€å€‹å”¯ä¸€çš„ nonceï¼Œæˆ‘ä½¿ç”¨ <code>SecureRandom.uuid</code> ç”Ÿæˆã€‚</p>
<p>åŠ å¯†çš„éƒ¨åˆ†ï¼š</p>
<ul>
<li>é€éOpenSSL ï¼Œä½¿ç”¨ HMACå’Œ SHA-256 åŠ å¯†ç®—æ³•ï¼Œå¾—åˆ° <code>hash</code>ã€‚</li>
<li>ä½¿ç”¨ Base64 åŠ å¯†æ–¹å¼å°‡ <code>hash</code> è½‰æ›æˆå­—ç¬¦ä¸²ï¼Œå¾—åˆ° <code>@signature</code>ã€‚</li>
</ul>
<p>ä¸Šé¢å…©æ­¥åšå®Œï¼Œå°±å¯ä»¥æˆåŠŸè·³è½‰åˆ°LINE PAYé é¢</p>
<img src="/images/LINE-Pay/6.png">


<p>ä½¿ç”¨LINE Pay æƒæå®Œæˆå°±æœƒè·³è½‰åˆ°ç¢ºèªé é¢</p>
<p>ç¢ºèªé é¢åŒæ™‚ä¹Ÿè¦ä½¿ç”¨POSTæ–¹æ³•ï¼Œä¸²æ¥confirmAPIï¼Œ</p>
<p>confirmè¦æ±‚çš„bodyæœƒæ¯”è¼ƒå°‘ï¼Œä½†headerçš„è¦æ±‚æ˜¯ä¸€æ¨£çš„ï¼Œ</p>
<p>æ‰€ä»¥åœ¨é€™è£¡ä¸€æ¨£å‘¼å«create_headerï¼Œ</p>
<p>å› ç‚ºæœ¬æ¬¡æ˜¯demoï¼Œæ‰€ä»¥é‡‘é¡å›ºå®šç‚º500ï¼Œ</p>
<p>å¦‚æœæ˜¯åœ¨å°ˆæ¡ˆå¯ä»¥åˆ©ç”¨ä¸Šä¸€æ­¥requestæˆåŠŸå¾Œ</p>
<p>LINE Pay å›å‚³çš„<code>transactionId</code> ,<code>orderId</code>ä¾†æ‰¾è©²ç­†è¨‚å–®</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">confirm</span> <span class="hljs-comment"># rubocop:disable Metrics/MethodLength</span><br>    transaction_id = params[<span class="hljs-symbol">:transactionId</span>]<br>    amount = <span class="hljs-number">500</span>.to_i<br><br>    body = &#123;<br>      <span class="hljs-symbol">amount:</span>,<br>      <span class="hljs-symbol">currency:</span> <span class="hljs-string">&#x27;TWD&#x27;</span><br>    &#125;<br>    signature_uri = <span class="hljs-string">&quot;/<span class="hljs-subst">#&#123;<span class="hljs-title class_">Rails</span>.application.credentials.line.<span class="hljs-variable constant_">VERSION</span>&#125;</span>/payments/<span class="hljs-subst">#&#123;transaction_id&#125;</span>/confirm&quot;</span><br>    create_header(signature_uri, body)<br><br>    conn = <span class="hljs-title class_">Faraday</span>.new(<br>      <span class="hljs-symbol">url:</span> <span class="hljs-string">&quot;<span class="hljs-subst">#&#123;<span class="hljs-title class_">Rails</span>.application.credentials.line.<span class="hljs-variable constant_">LINEPAY_SITE</span>&#125;</span>/v3/payments/<span class="hljs-subst">#&#123;transaction_id&#125;</span>/confirm&quot;</span>,<br>      <span class="hljs-symbol">headers:</span> <span class="hljs-variable">@header</span><br>    )<br><br>    response = conn.post <span class="hljs-keyword">do</span> |<span class="hljs-params">req</span>|<br>      req.body = body.to_json<br>    <span class="hljs-keyword">end</span><br>    parsed_response = <span class="hljs-variable constant_">JSON</span>.parse(response.body)<br>    puts <span class="hljs-string">&quot;Confirm Response: <span class="hljs-subst">#&#123;response.body&#125;</span>&quot;</span><br><br>    <span class="hljs-keyword">if</span> parsed_response[<span class="hljs-string">&#x27;returnCode&#x27;</span>] == <span class="hljs-string">&#x27;0000&#x27;</span><br>      redirect_to root_path, <span class="hljs-symbol">notice:</span> <span class="hljs-string">&#x27;ä»˜æ¬¾æˆåŠŸ&#x27;</span><br>    <span class="hljs-keyword">else</span><br>      redirect_to root_path, <span class="hljs-symbol">notice:</span> <span class="hljs-string">&#x27;ä»˜æ¬¾å¤±æ•—&#x27;</span><br>    <span class="hljs-keyword">end</span><br>  <span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure>

<p>æ¥è‘—å†é‡æ–°æ¸¬è©¦ï¼ŒæŒ‰é€å‡ºå¾Œï¼Œæœƒåˆ°LINE Pay ä»˜æ¬¾é </p>
<img src="/images/LINE-Pay/7.png">

<p>æƒææˆåŠŸæ¡ˆä»˜æ¬¾å¾Œï¼Œå°±æœƒåˆ°ä»˜æ¬¾çµæœé ï¼š</p>
<img src="/images/LINE-Pay/8.png">

<p>LINE Pay æ¸¬è©¦å¾Œå°ä¹Ÿæœƒå‡ºç¾è³‡æ–™</p>
<img src="/images/LINE-Pay/9.png">


<p>å®Œæˆå•¦Ù©(â—Ë™â–¿Ë™â—)Û¶ å› ç‚ºæ˜¯ç¬¬ä¸€æ¬¡ä¸²LINE Pay ï¼Œ</p>
<p>æ‰€ä»¥ä¾†ä¾†å›å›ç¢ºèªäº†å¥½å¹¾æ¬¡è³‡æ–™ï¼Œ</p>
<p>å› ç‚ºåªè¦æœ‰ä¸€å€‹åœ°æ–¹éŒ¯èª¤å°±æœƒå¤±æ•—ï¼Œæ‰¾å¾—çœ¼ç›éƒ½èŠ±äº†(âœ–ï¹âœ–)</p>
<p>é€™ç¯‡å…§å®¹ä¸»è¦ä»¥LINE Pay å®˜æ–¹æŠ€è¡“æ–‡ä»¶é‚„æœ‰ä»¥ä¸‹åƒè€ƒè³‡æ–™ç”Ÿå‡ºä¾†çš„Ù©(à¹‘â›á´—â›à¹‘)Û¶</p>
<p>å¦‚æœæœ‰éœ€è¦æ›´æ­£çš„åœ°æ–¹æ­¡è¿æŒ‡æ•™ï¼</p>
<p>å¦‚æœæ‚¨æœ‰èˆˆè¶£äº†è§£æ›´å¤šï¼Œè«‹åƒè€ƒï¼š</p>
<h3 id="åƒè€ƒè³‡æ–™ï¼š"><a href="#åƒè€ƒè³‡æ–™ï¼š" class="headerlink" title="åƒè€ƒè³‡æ–™ï¼š"></a>åƒè€ƒè³‡æ–™ï¼š</h3><blockquote>
<p><a href="https://pay.line.me/th/developers/apis/onlineApis?locale=zh_TW">LINE Pay Developers APIs</a></p>
</blockquote>
<blockquote>
<p><a href="https://github.com/lostisland/faraday">faraday</a></p>
</blockquote>
<blockquote>
<p><a href="https://www.youtube.com/watch?v=nEjVIeDE-Ro">é‡‘æµè‡ªå·±ä¸²ï¼Œä½¿ç”¨ Node.js ä¸²æ¥ LINE Pay</a></p>
</blockquote>
<blockquote>
<p><a href="https://ithelp.ithome.com.tw/articles/10273803">D-2.Line_pay_api ä¸²æ¥(ä¸‰) Rails ä¸²æ¥</a></p>
</blockquote>
]]></content>
      <categories>
        <category>Ruby on Rails</category>
      </categories>
      <tags>
        <tag>Ruby</tag>
        <tag>Ruby on Rails</tag>
        <tag>line pay</tag>
        <tag>API</tag>
        <tag>line pay API</tag>
        <tag>line pay v3</tag>
        <tag>v3</tag>
        <tag>faraday</tag>
        <tag>é‡‘æµ</tag>
      </tags>
  </entry>
  <entry>
    <title>Python: PEP 8 ç¨‹å¼ç¢¼é¢¨æ ¼æŒ‡å— </title>
    <url>/2024/03/01/python-pep8-style-guide-for-python-code/</url>
    <content><![CDATA[<img src="/images/python-pep8-style-guide-for-python-code/python-logo.png">

<blockquote>
<p>åœ–ç‰‡ä¾†æº: <a href="https://www.python.org/community/logos/">Python.org</a></p>
</blockquote>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p>è‡ªå·±åœ¨ç·´ç¿’å¯«Pythonæ™‚ï¼Œå¸¸è¦ºå¾—æ€ªæ€ªçš„ï¼Œå¾Œä¾†æ‰ç™¼ç¾ï¼Œæ˜¯å› ç‚ºæˆ‘æ²’æœ‰äº†è§£Pythonçš„æ›¸å¯«é¢¨æ ¼ã€‚<br>å°±åƒç·´ç¿’å¯«ä½œæ–‡è¦äº†è§£å¥è®€çš„è¦å‰‡ï¼Œå¯«ç¨‹å¼ä¸€é–‹å§‹ï¼Œä¹Ÿéœ€è¦æ¸…æ¥šè©²ç¨‹å¼çš„æ›¸å¯«é¢¨æ ¼ï¼Œæ‰èƒ½å¤ åœ¨æ‰“å¥½åŸºç¤æ¶æ§‹ä¸‹ç²¾é€²ã€‚</p>
<p>é›–ç„¶ç›®å‰æœ‰è¨±å¤šæ–¹ä¾¿çš„å°å·¥å…·ï¼Œèƒ½å¤ è‡ªå‹•å¹«å¿™æ•´ç†æ’ç‰ˆã€ç¸®æ’ç­‰ç­‰ï¼Œä½†è¦ºå¾—è‡ªå·±æ‡‰è©²è¦å…ˆçŸ¥é“ç‚ºä»€éº¼ï¼Œå†åˆ©ç”¨å·¥å…·ï¼Œæ‰èƒ½å¤ æ›´é †åˆ©ï½</p>
<p>Pythonæœ‰å®šç¾©äº†PEP(Python Enhancement Proposal)ï¼Œè£¡é¢æœ‰è¨±å¤šç« ç¯€ï¼Œè€Œå…¶ä¸­çš„<a href="https://peps.python.org/pep-0008/">PEP 8 â€“ Style Guide for Python Code</a>ï¼Œå‰‡å¯ä»¥è§£æ±ºæˆ‘çš„ç…©æƒ±ï¼Œå› ç‚ºPEP 8çš„å…§å®¹æœ‰å¾ˆå¤šï¼Œä»¥ä¸‹æ–‡ç« æœƒåˆ†äº«è‡ªå·±è¦ºå¾—å¸¸ç”¨çš„è¦ç¯„ã€‚</p>
<h2 id="ç¸®æ’-Indentation"><a href="#ç¸®æ’-Indentation" class="headerlink" title="ç¸®æ’ Indentation"></a><a href="https://peps.python.org/pep-0008/#indentation">ç¸®æ’ Indentation</a></h2><ul>
<li>æ¯è¡Œç¸®æ’4å€‹ç©ºæ ¼</li>
<li>çºŒè¡Œæ‡‰è©²åœ¨æ‹¬è™Ÿå…§çš„å‚ç›´å°é½Šï¼š</li>
</ul>
<p>âœ…æ­£ç¢ºç¤ºç¯„</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">foo = long_function_name(var_one, var_two,<br>                         var_three, var_four)<br></code></pre></td></tr></table></figure>

<p>âéŒ¯èª¤ç¤ºç¯„</p>
<p>ç¬¬ä¸€è¡Œè‹¥è¦ä¿ç•™åƒæ•¸çš„è©±ï¼Œæ‹¬è™Ÿæ‡‰è©²è¦å‚ç›´å°é½Š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">foo = long_function_name(var_one, <br>		var_two,var_three, var_four)<br></code></pre></td></tr></table></figure>

<ul>
<li>çºŒè¡Œäº¦å¯ä½¿ç”¨æ‡¸æ›ç¸®æ’ã€‚åœ¨ä½¿ç”¨æ‡¸æ›ç¸®æ’æ™‚ï¼Œæ‡‰è€ƒæ…®ä»¥ä¸‹å¹¾é»ï¼šç¬¬ä¸€è¡Œä¸æ‡‰æœ‰åƒæ•¸ï¼ˆè¦æŒ‰Enteræ›åˆ°ä¸‹ä¸€è¡Œï¼‰ï¼Œæ‡‰ä½¿ç”¨é€²ä¸€æ­¥çš„ç¸®æ’ä¾†æ˜ç¢ºå€åˆ†è‡ªå·±æ˜¯ä¸€å€‹çºŒè¡Œï¼š</li>
</ul>
<p>âœ…æ­£ç¢ºç¤ºç¯„</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#æ‡¸æ›ç¸®æ’</span><br>foo = long_function_name(<br>    var_one, var_two,<br>    var_three, var_four)<br></code></pre></td></tr></table></figure>

<p>ä¾æ“šä»¥ä¸Šçš„è¦å‰‡ï¼Œæä¾›å¤šä¸€é»ç¤ºç¯„ï¼š</p>
<p>âœ…æ­£ç¢ºç¤ºç¯„</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">context</span>(<span class="hljs-params">user, password, </span><br><span class="hljs-params">            timeout, command</span>):<br>    <span class="hljs-keyword">pass</span><br><br>user_list = [<br>    <span class="hljs-string">&#x27;user1&#x27;</span>,<br>    <span class="hljs-string">&#x27;user2&#x27;</span>,<br>    <span class="hljs-string">&#x27;user3&#x27;</span>,<br>    <span class="hljs-string">&#x27;user4&#x27;</span><br>]<br></code></pre></td></tr></table></figure>

<p>âéŒ¯èª¤ç¤ºç¯„</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">context</span>(<span class="hljs-params">user, password, </span><br><span class="hljs-params">    timeout, command</span>):<br>    <span class="hljs-keyword">pass</span><br><br>user_list = [<br>    <span class="hljs-string">&#x27;user1&#x27;</span>,<br>    <span class="hljs-string">&#x27;user2&#x27;</span>,<br>    <span class="hljs-string">&#x27;user3&#x27;</span>,<br>    <span class="hljs-string">&#x27;user4&#x27;</span>]<br></code></pre></td></tr></table></figure>

<h3 id="æ‹¬è™Ÿ-brace-bracket-parenthesis"><a href="#æ‹¬è™Ÿ-brace-bracket-parenthesis" class="headerlink" title="æ‹¬è™Ÿ brace&#x2F;bracket&#x2F;parenthesis"></a>æ‹¬è™Ÿ brace&#x2F;bracket&#x2F;parenthesis</h3><p>æ‹¬è™Ÿå–®ç¨ä¸€è¡Œï¼Œç¸®æ’ or ä¸ç¸®æ’éƒ½å¯ä»¥</p>
<p>âœ…æ­£ç¢ºç¤ºç¯„</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">my_list = [<br>    <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>,<br>    <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>,<br>    ]<br>result = some_function_that_takes_arguments(<br>    <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>,<br>    <span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>, <span class="hljs-string">&#x27;f&#x27;</span>,<br>    )<br></code></pre></td></tr></table></figure>

<p>âœ…æ­£ç¢ºç¤ºç¯„</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">my_list = [<br>    <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>,<br>    <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>,<br>]<br>result = some_function_that_takes_arguments(<br>    <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>,<br>    <span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>, <span class="hljs-string">&#x27;f&#x27;</span>,<br>)<br></code></pre></td></tr></table></figure>

<ul>
<li>æ¯è¡Œç¨‹å¼ç¢¼æœ€é•·ä¸è¦è¶…é79å€‹å­—ï¼šç‚ºä»€éº¼æ˜¯79å€‹å­—å‘¢ï¼Ÿå› ç‚ºç•¶åˆå®šç¾©PEP8æ™‚å¹´ä»£ä¹…é ï¼Œè¢å¹•æ¯”è¼ƒå°ï¼Œ79å‰›å¥½ç¬¦åˆæŸç¨®è¢å¹•çš„å¯¬åº¦ğŸ¤£ï¼Œä¸éå› ç‚ºç¾åœ¨è¢å¹•çš„å¯¬åº¦éƒ½åšå¾—æ¯”è¼ƒå¤§ï¼Œå› æ­¤æ­¤è¦ç¯„å¯ä»¥éˆæ´»æ‡‰å°ã€‚</li>
</ul>
<h2 id="ç©ºè¡Œ-Blank-Lines"><a href="#ç©ºè¡Œ-Blank-Lines" class="headerlink" title="ç©ºè¡Œ Blank Lines"></a><a href="https://peps.python.org/pep-0008/#blank-lines">ç©ºè¡Œ Blank Lines</a></h2><ul>
<li>å¯«å¤šå€‹å‡½æ•¸ï¼Œå‡½æ•¸é–“è¦ç©ºå…©å€‹ç©ºè¡Œ</li>
</ul>
<p>âœ…æ­£ç¢ºç¤ºç¯„</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_name</span>(<span class="hljs-params">value</span>):<br>    <span class="hljs-keyword">pass</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_age</span>(<span class="hljs-params">value</span>):<br>    <span class="hljs-keyword">pass</span><br></code></pre></td></tr></table></figure>

<ul>
<li>åœ¨åŒä¸€å€‹classå…§çš„å…©å€‹methodï¼Œmethodé–“è¦ç©ºä¸€å€‹ç©ºè¡Œ</li>
</ul>
<p>âœ…æ­£ç¢ºç¤ºç¯„</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Demo</span>(<span class="hljs-title class_ inherited__">object</span>):<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">pass</span><br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">do_something</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">pass</span><br></code></pre></td></tr></table></figure>

<h2 id="Imports"><a href="#Imports" class="headerlink" title="Imports"></a><a href="https://peps.python.org/pep-0008/#imports">Imports</a></h2><ul>
<li>å°å…¥é€šå¸¸æ‡‰è©²åœ¨å–®ç¨çš„è¡Œä¸Šï¼š</li>
</ul>
<p>âœ…æ­£ç¢ºç¤ºç¯„</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> sys<br></code></pre></td></tr></table></figure>

<p>âœ…æ­£ç¢ºç¤ºç¯„</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> subprocess <span class="hljs-keyword">import</span> Popen, PIPE<br></code></pre></td></tr></table></figure>

<p>âéŒ¯èª¤ç¤ºç¯„</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> sys, os<br></code></pre></td></tr></table></figure>

<h3 id="Import-Order"><a href="#Import-Order" class="headerlink" title="Import Order"></a>Import Order</h3><p>å°å…¥é †åºæ‡‰è©²ä¾ç…§ä»¥ä¸‹åˆ†çµ„ï¼š</p>
<ol>
<li>Standard library imports.(Pythonå…§å»ºLibrary)</li>
<li>Related third party imports.(ç¬¬ä¸‰æ–¹)</li>
<li>Local application&#x2F;library specific imports.(æœ¬åœ°Moduleç›¸äº’å°å…¥)</li>
</ol>
<p>æ‡‰è©²åœ¨æ¯çµ„å°å…¥ä¸­é–“åŠ ä¸€è¡Œç©ºè¡Œ</p>
<p>âœ…æ­£ç¢ºç¤ºç¯„</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> sys<br><br><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> abort<br><span class="hljs-keyword">from</span> werkzeug.security <span class="hljs-keyword">import</span> generate_password_hash, check_password_hash<br><br><span class="hljs-keyword">from</span> my_project.extensions <span class="hljs-keyword">import</span> database<br><span class="hljs-keyword">from</span> my_project.utils <span class="hljs-keyword">import</span> custom_function, custom_url<br></code></pre></td></tr></table></figure>

<h2 id="ç©ºæ ¼-White-Space"><a href="#ç©ºæ ¼-White-Space" class="headerlink" title="ç©ºæ ¼ White Space"></a><a href="https://peps.python.org/pep-0008/#whitespace-in-expressions-and-statements">ç©ºæ ¼ White Space</a></h2><h3 id="é¿å…å¤šé¤˜ç©ºæ ¼"><a href="#é¿å…å¤šé¤˜ç©ºæ ¼" class="headerlink" title="é¿å…å¤šé¤˜ç©ºæ ¼"></a>é¿å…å¤šé¤˜ç©ºæ ¼</h3><ul>
<li>æ‹¬è™Ÿèˆ‡å…§å®¹é–“ä¸éœ€è¦ç©ºæ ¼</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Correct:</span><br>spam(ham[<span class="hljs-number">1</span>], &#123;eggs: <span class="hljs-number">2</span>&#125;)<br><span class="hljs-comment"># Wrong:</span><br>spam( ham[ <span class="hljs-number">1</span> ], &#123; eggs: <span class="hljs-number">2</span> &#125; )<br></code></pre></td></tr></table></figure>

<ul>
<li>ç©ºæ ¼æ¥åœ¨é€—è™Ÿã€åˆ†è™Ÿã€å†’è™Ÿä¹‹å¾Œ</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Correct:</span><br><span class="hljs-keyword">if</span> x == <span class="hljs-number">4</span>: <span class="hljs-built_in">print</span>(x, y); x, y = y, x<br><span class="hljs-comment"># Wrong:</span><br><span class="hljs-keyword">if</span> x == <span class="hljs-number">4</span> : <span class="hljs-built_in">print</span>(x , y) ; x , y = y , x<br></code></pre></td></tr></table></figure>

<ul>
<li>ä½†æ˜¯ï¼Œåœ¨åˆ‡ç‰‡ä¸­ï¼Œå†’è™Ÿçš„ä½œç”¨é¡ä¼¼æ–¼äºŒå…ƒé‹ç®—ç¬¦ï¼Œå…©å€‹å†’è™Ÿå¿…é ˆç›¸åŒé–“è·ã€‚ä¾‹å¤–ï¼šç•¶çœç•¥åˆ‡ç‰‡åƒæ•¸æ™‚ï¼Œç©ºæ ¼ä¹Ÿè¢«çœç•¥ï¼š</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Correct:</span><br>ham[<span class="hljs-number">1</span>:<span class="hljs-number">9</span>], ham[<span class="hljs-number">1</span>:<span class="hljs-number">9</span>:<span class="hljs-number">3</span>], ham[:<span class="hljs-number">9</span>:<span class="hljs-number">3</span>], ham[<span class="hljs-number">1</span>::<span class="hljs-number">3</span>], ham[<span class="hljs-number">1</span>:<span class="hljs-number">9</span>:]<br>ham[lower:upper], ham[lower:upper:], ham[lower::step]<br>ham[lower+offset : upper+offset]<br>ham[: upper_fn(x) : step_fn(x)], ham[:: step_fn(x)]<br>ham[lower + offset : upper + offset]<br></code></pre></td></tr></table></figure>

<ul>
<li>å·¦æ‹¬è™Ÿå‰æ–¹ä¸éœ€è¦æœ‰ç©ºæ ¼ï¼š</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Correct:</span><br>dct[<span class="hljs-string">&#x27;key&#x27;</span>] = lst[index]<br><span class="hljs-comment"># Wrong:</span><br>dct [<span class="hljs-string">&#x27;key&#x27;</span>] = lst [index]<br></code></pre></td></tr></table></figure>

<ul>
<li>è®Šæ•¸ç­‰è™Ÿå·¦å³å„ä¸€å€‹ç©ºæ ¼ã€ä½†ä¸éœ€è¦å¼·åˆ¶å°é½Šï¼š</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Correct:</span><br>x = <span class="hljs-number">1</span><br>y = <span class="hljs-number">2</span><br>long_variable = <span class="hljs-number">3</span><br><br><span class="hljs-comment"># Wrong:</span><br>x             = <span class="hljs-number">1</span><br>y             = <span class="hljs-number">2</span><br>long_variable = <span class="hljs-number">3</span><br></code></pre></td></tr></table></figure>

<h2 id="æ³¨é‡‹-Comments"><a href="#æ³¨é‡‹-Comments" class="headerlink" title="æ³¨é‡‹ Comments"></a><a href="https://peps.python.org/pep-0008/#comments">æ³¨é‡‹ Comments</a></h2><ul>
<li><strong><a href="https://peps.python.org/pep-0008/#block-comments">Block Comments</a></strong></li>
<li><strong><a href="https://peps.python.org/pep-0008/#inline-comments">Inline Comments</a></strong><ul>
<li><code>#</code>å¾Œéš”ä¸€å€‹ç©ºæ ¼ï¼Œæ³¨é‡‹èˆ‡ç¨‹å¼ç¢¼é–“è‡³å°‘è¦éš”å…©å€‹ç©ºæ ¼ï¼š</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python">x = x + <span class="hljs-number">1</span>                 <span class="hljs-comment"># Compensate for border</span><br></code></pre></td></tr></table></figure>

<ul>
<li><strong><a href="https://peps.python.org/pep-0008/#documentation-strings">Documentation Strings</a></strong><ul>
<li>æ‡‰è©²å‡ºç¾åœ¨defä¹‹å¾Œ</li>
<li>çµæŸçš„<code>â€œâ€â€œ</code>æ‡‰è©²è¦å–®ç¨å ä¸€è¡Œ</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">add_numbers</span>(<span class="hljs-params">a, b</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    é€™æ˜¯ä¸€å€‹åŠ æ³•å‡½æ•¸ï¼Œç”¨æ–¼å°‡å…©å€‹æ•¸å­—ç›¸åŠ ã€‚</span><br><span class="hljs-string"></span><br><span class="hljs-string">    åƒæ•¸ï¼š</span><br><span class="hljs-string">    a (int): ç¬¬ä¸€å€‹æ•¸å­—</span><br><span class="hljs-string">    b (int): ç¬¬äºŒå€‹æ•¸å­—</span><br><span class="hljs-string"></span><br><span class="hljs-string">    è¿”å›ï¼š</span><br><span class="hljs-string">    int: å…©å€‹æ•¸å­—çš„å’Œ</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">return</span> a + b<br></code></pre></td></tr></table></figure>

<h2 id="å‘½åè¦å‰‡-Naming-Conventions"><a href="#å‘½åè¦å‰‡-Naming-Conventions" class="headerlink" title="å‘½åè¦å‰‡ Naming Conventions"></a><a href="https://peps.python.org/pep-0008/#naming-conventions">å‘½åè¦å‰‡ <strong>Naming Conventions</strong></a></h2><p>ä»¥ä¸‹ç‚ºå¸¸è¦‹çš„å‘½åæ–¹å¼ï¼š</p>
<ul>
<li><code>b</code>ï¼ˆå–®å€‹å°å¯«å­—æ¯ï¼‰</li>
<li><code>B</code>ï¼ˆå–®ä¸€å¤§å¯«å­—æ¯ï¼‰</li>
<li><code>lowercase</code></li>
<li><code>lower_case_with_underscores</code></li>
<li><code>UPPERCASE</code></li>
<li><code>UPPER_CASE_WITH_UNDERSCORES</code></li>
<li><code>CapitalizedWords</code> ï¼ˆä¹Ÿæ˜¯é§å³°å¼å‘½åæ³• CapWords, or CamelCaseï¼‰</li>
<li><code>mixedCase</code>ï¼ˆèˆ‡ CatalizedWords çš„å€åˆ¥åœ¨æ–¼é¦–å­—æ¯å°å¯«ï¼‰</li>
</ul>
<h3 id="Class-Name"><a href="#Class-Name" class="headerlink" title="Class Name"></a><a href="https://peps.python.org/pep-0008/#class-names">Class Name</a></h3><p>ä½¿ç”¨é§å³°å‘½åæ³•ï¼Œç¯„ä¾‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyCar</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, make, model, year</span>):<br>        self.make, self.model, self.year, self.odometer_reading = make, model, year, <span class="hljs-number">0</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">full_name</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">f&quot;<span class="hljs-subst">&#123;self.year&#125;</span> <span class="hljs-subst">&#123;self.make&#125;</span> <span class="hljs-subst">&#123;self.model&#125;</span>&quot;</span><br><br>my_car = MyCar(<span class="hljs-string">&quot;Toyota&quot;</span>, <span class="hljs-string">&quot;Camry&quot;</span>, <span class="hljs-number">2022</span>)<br><span class="hljs-built_in">print</span>(my_car.full_name())<br></code></pre></td></tr></table></figure>

<h3 id="Package-and-Module-Names"><a href="#Package-and-Module-Names" class="headerlink" title="Package and Module Names"></a><strong><a href="https://peps.python.org/pep-0008/#package-and-module-names">Package and Module Names</a></strong></h3><ul>
<li>æ¨¡çµ„(Module)æ‡‰è©²æœ‰çŸ­çš„ã€å…¨å°å¯«çš„åç¨±ã€‚å¦‚æœå¯ä»¥æé«˜å¯è®€æ€§ï¼Œå¯ä»¥åœ¨æ¨¡çµ„åç¨±ä¸­ä½¿ç”¨åº•ç·š _</li>
<li>å¥—ä»¶(Package)ä¹Ÿæ‡‰è©²æœ‰çŸ­çš„ã€å…¨å°å¯«çš„åç¨±ï¼Œå„˜ç®¡ä¸é¼“å‹µä½¿ç”¨åº•ç·š</li>
</ul>
<h3 id="Function-and-Variable-Names"><a href="#Function-and-Variable-Names" class="headerlink" title="Function and Variable Names"></a><strong><a href="https://peps.python.org/pep-0008/#function-and-variable-names">Function and Variable Names</a></strong></h3><ul>
<li>å‡½æ•¸(function)åç¨±æ‡‰å°å¯«ï¼Œå¿…è¦æ™‚ç”¨åº•ç·šåˆ†éš”å–®å­—ä»¥æé«˜å¯è®€æ€§</li>
<li>è®Šæ•¸(variable)èˆ‡å‡½æ•¸éµå¾ªç›¸åŒè¦å®š</li>
</ul>
<h3 id="Constants"><a href="#Constants" class="headerlink" title="Constants"></a><strong><a href="https://peps.python.org/pep-0008/#constants">Constants</a></strong></h3><ul>
<li>å¸¸æ•¸é€šå¸¸åœ¨æ¨¡çµ„å±¤ç´šå®šç¾©ï¼Œä¸¦å…¨éƒ¨ç”¨å¤§å¯«å­—æ¯æ›¸å¯«ï¼Œä¸¦ç”¨ä¸‹åŠƒç·šåˆ†éš”å–®å­—ã€‚ä¾‹å¦‚ï¼šMAX_OVERFLOW å’Œ TOTALã€‚</li>
</ul>
<h2 id="å‘½åæ•´ç†"><a href="#å‘½åæ•´ç†" class="headerlink" title="å‘½åæ•´ç†"></a>å‘½åæ•´ç†</h2><table>
<thead>
<tr>
<th></th>
<th>å‘½åè¦å‰‡</th>
</tr>
</thead>
<tbody><tr>
<td>Class Name</td>
<td>CapitalizedWords</td>
</tr>
<tr>
<td>Package and Module Names</td>
<td>lower_case_with_underscores</td>
</tr>
<tr>
<td>Function and Variable Names</td>
<td>lower_case_with_underscores</td>
</tr>
<tr>
<td>Constants</td>
<td>UPPER_CASE_WITH_UNDERSCORES</td>
</tr>
</tbody></table>
<p>é€éé–±è®€PEP 8ï¼Œä¹Ÿç‚ºç·¨å¯«Pythonä¹‹è·¯æ‰“ä¸‹äº†è‰¯å¥½çš„åŸºç¤ï¼Œå› ç‚ºPEP8çš„å…§å®¹å¾ˆå¤šï¼Œé€™è£¡åªæœ‰èˆ‰æ¯”è¼ƒå¸¸è¦‹çš„ç¯„ä¾‹ï¼Œç´°ç¯€é‚„æ˜¯å¯ä»¥å»å®˜æ–¹æ–‡ä»¶æŸ¥çœ‹ï¼Œåˆ†äº«çµ¦å„ä½ï½</p>
<p>æœ¬ç¯‡æ–‡ç« æ˜¯æˆ‘ç”±ä»¥ä¸‹åƒè€ƒè³‡æ–™æ•´ç†è€Œæˆï¼Œå¦‚æœæ‚¨æœ‰èˆˆè¶£äº†è§£æ›´å¤šï¼Œè«‹åƒè€ƒï¼š</p>
<h3 id="åƒè€ƒè³‡æ–™ï¼š"><a href="#åƒè€ƒè³‡æ–™ï¼š" class="headerlink" title="åƒè€ƒè³‡æ–™ï¼š"></a>åƒè€ƒè³‡æ–™ï¼š</h3><blockquote>
<p><a href="https://peps.python.org/pep-0008/">PEP 8 â€“ Style Guide for Python Code</a></p>
</blockquote>
<blockquote>
<p><a href="https://www.udemy.com/course/python3-tips/">Udemy - Python 3 ç¼–ç¨‹æŠ€å·§æ±‡æ€»</a></p>
</blockquote>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>pep8</tag>
        <tag>style guide</tag>
      </tags>
  </entry>
  <entry>
    <title>Ruby on Rails: ç”¨Devise10åˆ†é˜è£½ä½œç®¡ç†è€…å¾Œå°ç‰ˆé¢</title>
    <url>/2023/12/24/rails-admin-layout-devise/</url>
    <content><![CDATA[<style>
.em-div{
background-color: #d4a373;
color: white;
padding: 10px;
margin: 10px;
border-radius: 5px;
}

.em-div2{
border:2px #d4a373 solid;
margin:5px;
padding:10px 2px 2px 2px;
border-style:dashed;
}

.image-container {
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* é™°å½±æ•ˆæœ */
  border-radius: 10px; /* åœ“è§’æ•ˆæœ */
  overflow: hidden; /* è¶…å‡ºéƒ¨åˆ†éš±è— */
  margin: 5px; /* ç•™ç™½æ•ˆæœ */
}
</style>



<h3 id=""><a href="#" class="headerlink" title=""></a></h3><div class="image-container">
<img src="/images/rails_admin_layout_devise/banner.png">
</div>

<p>é€™ç¯‡æ˜¯å€‹å¯¦ä½œç¯„ä¾‹ Ù©(â—Ë™â–¿Ë™â—)Û¶â€¦â‹†à¸º</p>
<p>ä¸»è¦å…§å®¹éƒ½æ˜¯åƒè€ƒä»¥ä¸‹å½±ç‰‡è€Œæˆï¼Œå¦‚æœè¦äº†è§£æ›´å¤šå¯ä»¥çœ‹ï¼š</p>
<blockquote>
<p><a href="https://www.youtube.com/watch?v=SxwFyK9OtfY">Layouts For Admin Users with Devise in Ruby on Rails 7</a></p>
</blockquote>
<p>ä»Šå¤©ä½¿ç”¨Railsä¾†çš„<a href="https://rubygems.org/gems/devise/versions/4.2.0?locale=zh-TW">Devise</a>å¥—ä»¶ä¾†è£½ä½œç®¡ç†è€…å¾Œå°ç‰ˆé¢</p>
<p>ä»¥ä¸‹ç‚ºå¯¦ä½œæ­¥é©Ÿï¼š</p>
<ul>
<li>newä¸€å€‹æ–°å°ˆæ¡ˆï¼Œæˆ‘åç¨±è¨­ç‚ºblogï¼Œä¹Ÿå¯ä»¥è¨­å®šåˆ¥çš„</li>
</ul>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-variable">$ </span>rails new blog<br></code></pre></td></tr></table></figure>

<ul>
<li>åœ¨Gemfileè³‡æ–™å¤¾å®‰è£deviseï¼Œä¸¦åŸ·è¡Œ<code>bundle install</code></li>
</ul>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-comment">#Gemfile</span><br>gem <span class="hljs-string">&#x27;devise&#x27;</span>, <span class="hljs-string">&#x27;~&gt; 4.2&#x27;</span><br></code></pre></td></tr></table></figure>

<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-variable">$ </span>bundle install<br></code></pre></td></tr></table></figure>

<ul>
<li>æ–°å¢pages_controllerï¼†home.html.erb</li>
</ul>
<p>é€™è£¡ä¹Ÿå¯ä»¥è¨­å®šåˆ¥çš„ä¸»é¡Œï¼Œåªä¸éç‚ºäº†ç¤ºç¯„æ‰€ä»¥é¸æ“‡é€™å€‹ï¼Œ<br><img src="/images/rails_admin_layout_devise/02.png"><br>é€™å€‹æŒ‡ä»¤æœƒç”Ÿå‡ºPagesçš„controllerï¼Œè£¡é¢æœ‰homeæ–¹æ³•ï¼Œviewæœ‰home.html.erbé é¢ï¼Œroutesä¹Ÿæœƒå¹«å¿™é•·å¥½pages&#x2F;homeï¼Œè »æ–¹ä¾¿çš„Ù©(à¹‘â›á´—â›à¹‘)Û¶</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-variable">$ </span>rails g controller pages home<br></code></pre></td></tr></table></figure>

<ul>
<li>åˆ©ç”¨scaffoldåšCRUDçš„æµç¨‹</li>
</ul>
<p>ç”¨scaffoldå¯ä»¥çœæ‰å¥½å¤šæ­¥é©Ÿ(Â´âˆ€&#96;)æ‡¶äººæ•‘æ˜Ÿ</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-variable">$ </span>rails g scaffold post title <span class="hljs-symbol">body:</span>text<br></code></pre></td></tr></table></figure>
<div class="image-container">
<img src="/images/rails_admin_layout_devise/01.png">
</div>

<ul>
<li>è¨­å®šroutes</li>
</ul>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-comment">#routes.rb</span><br>root <span class="hljs-string">&#x27;pages#home&#x27;</span><br></code></pre></td></tr></table></figure>

<ul>
<li>å®‰è£Devise &amp; ç”Ÿæˆä½¿ç”¨è€…</li>
</ul>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-variable">$ </span>rails g <span class="hljs-symbol">devise:</span>install<br></code></pre></td></tr></table></figure>

<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-variable">$ </span>rails g devise user<br></code></pre></td></tr></table></figure>

<p>deviseæœƒè‡ªå‹•å¹«ä½ å¢åŠ æª”æ¡ˆï¼ŒçœŸçš„å¾ˆæ–¹ä¾¿</p>
<ul>
<li>ç”Ÿä¸€å€‹migrationï¼Œå¢åŠ roleæ¬„ä½åˆ°Userè³‡æ–™è¡¨</li>
</ul>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-variable">$ </span>rails g migration <span class="hljs-title class_">AddRoleToUsers</span> <span class="hljs-symbol">role:</span>integer<br></code></pre></td></tr></table></figure>

<ul>
<li>åˆ°User modelå¢åŠ è§’è‰²ï¼Œå…¶ä¸­è§’è‰²çš„åç¨±éƒ½å¯ä»¥è‡ªå·±å®šç¾©ï¼Œæˆ‘ä½¿ç”¨admin</li>
</ul>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-comment">#user.rb</span><br>enum <span class="hljs-symbol">role:</span>[<span class="hljs-symbol">:general</span>, <span class="hljs-symbol">:admin</span>]<br></code></pre></td></tr></table></figure>

<ul>
<li>æ¥è‘—å°±å¯ä»¥åˆ°application_controller.rbï¼Œè¨­ç½®åˆ¤æ–·ä½¿ç”¨è€…ç™»å…¥çš„layouté é¢çš„<code>set_layout</code>æ–¹æ³•</li>
</ul>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-comment">#controller&gt;application_controller</span><br>layout <span class="hljs-symbol">:set_layout</span> <span class="hljs-comment"># è¨­ç½®åˆ¤æ–·ç™»å…¥çš„ä½¿ç”¨è€…layouté é¢</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">set_layout</span><br>    <span class="hljs-keyword">if</span> current_user&amp;.admin?<br>      <span class="hljs-string">&#x27;admin&#x27;</span><br>    <span class="hljs-keyword">else</span><br>      <span class="hljs-string">&#x27;application&#x27;</span><br>    <span class="hljs-keyword">end</span><br>  <span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure>

<p><code>current_user&amp;.admin?</code></p>
<p>é€™è¡ŒåŸæœ¬æ˜¯é€™æ¨£å¯«ï¼š<code>if current_user &amp;&amp; current_user.admin == true</code></p>
<p>å¯ä»¥ç”¨ &amp;. ç°¡åŒ–</p>
<p>å¦‚æœcurrent_userå­˜åœ¨ï¼ˆä¹Ÿå°±æ˜¯æœ‰ç™»å…¥ï¼‰ä»¥åŠ ç™»å…¥çš„è§’è‰²æ˜¯adminçš„è©±ï¼Œlayoutå°±ä½¿ç”¨admin</p>
<p>å¦‚æœä¸æ˜¯çš„è©±ï¼Œ layoutå°±ä½¿ç”¨é è¨­å°å…¥application</p>
<ul>
<li>æ¥è‘—åˆ°layoutè³‡æ–™å¤¾ä¸‹ï¼Œæ‰‹å‹•æ–°å¢ä¸€å€‹admin.html.erbï¼Œå…§å®¹å¯ä»¥éš¨è‡ªå·±å–œå¥½èª¿æ•´</li>
</ul>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-comment">#views&gt;layout</span><br>æ–°å¢ <span class="hljs-comment">#admin.html.erb</span><br>&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br>&lt;html&gt;<br>  &lt;head&gt;<br>    &lt;title&gt;<span class="hljs-title class_">Blog</span>&lt;<span class="hljs-regexp">/title&gt;</span><br><span class="hljs-regexp">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1&quot;&gt;</span><br><span class="hljs-regexp">    &lt;%= csrf_meta_tags %&gt;</span><br><span class="hljs-regexp">    &lt;%= csp_meta_tag %&gt;</span><br><span class="hljs-regexp"></span><br><span class="hljs-regexp">    &lt;%= stylesheet_link_tag &quot;application&quot;, &quot;data-turbo-track&quot;: &quot;reload&quot; %&gt;</span><br><span class="hljs-regexp">    &lt;%= javascript_importmap_tags %&gt;</span><br><span class="hljs-regexp">  &lt;/head</span>&gt;<br><br>  &lt;body&gt;<br>    &lt;h2&gt;æ­¤ç‚ºç®¡ç†è€…ä»‹é¢&lt;<span class="hljs-regexp">/h2&gt;</span><br><span class="hljs-regexp">    &lt;%= yield %&gt;</span><br><span class="hljs-regexp">  &lt;/body</span>&gt;<br>&lt;<span class="hljs-regexp">/html&gt;</span><br></code></pre></td></tr></table></figure>

<p>æ¥è‘—å¯ä»¥åˆ°home.html.erbé é¢ï¼Œå¯«è·³è½‰çš„åˆ¤æ–·</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-comment">#home.html.erb</span><br>      &lt;%<span class="hljs-comment">#æ˜¯å¦è½‰ç‚ºåº—å®¶å¾Œå°åˆ¤æ–·%&gt;</span><br>      &lt;% <span class="hljs-keyword">if</span> current_user %&gt;<br>        &lt;%= current_user.role %&gt;<br>          &lt;%= link_to <span class="hljs-string">&quot;logout&quot;</span>, destroy_user_session_path, <span class="hljs-symbol">method:</span> <span class="hljs-symbol">:delete</span>, <span class="hljs-symbol">data:</span> &#123; <span class="hljs-symbol">turbo_method:</span> <span class="hljs-symbol">:delete</span>&#125; %&gt;<br>      &lt;% <span class="hljs-keyword">else</span> %&gt;<br>          &lt;%= link_to <span class="hljs-string">&quot;log_in&quot;</span>, new_user_session_path %&gt;<br>      &lt;% <span class="hljs-keyword">end</span> %&gt;<br></code></pre></td></tr></table></figure>

<p>é€™å€‹å¯«çš„åœ°æ–¹å¯ä»¥è‡ªç”±é¸æ“‡ï¼Œå¦‚æœè¦åšå€‹ç¶²ç«™æœ‰å¾ˆå¤šé é¢çš„è©±ï¼Œ</p>
<p>æˆ‘ä¹Ÿæœ‰å˜—è©¦æ”¾åœ¨_navbar.html.barï¼Œè®“æ•´å€‹ç¶²é éƒ½å¯ä»¥å¥—ç”¨æ­¤è¨­å®š</p>
<p>æ¥è‘—å°±å¤§åŠŸå‘Šæˆäº†ï¼ï¼</p>
<p>é€™æ˜¯å‰›å‰›æ­¥é©Ÿåšå‡ºçš„é¦–é </p>
<div class="image-container">
<img src="/images/rails_admin_layout_devise/03.png">
</div>

<p>ç™»å…¥é é¢</p>
<div class="image-container">
<img src="/images/rails_admin_layout_devise/04.png">
</div>

<p>å› ç‚ºé‚„æ²’è¨­å®šcurrent_user.roleæ‰€ä»¥åœ¨html.erbé é¢æ”¾<code>&lt;% console %&gt;</code>ç¨‹å¼ç¢¼ï¼Œ</p>
<p>æ­é…æŒ‡ä»¤ï¼Œä¾†å¿«é€ŸæŒ‡å®šæŸä½¿ç”¨è€…çš„role</p>
<div class="image-container">
<img src="/images/rails_admin_layout_devise/05.png">
</div>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby">current_user<br><br>current_user.role = <span class="hljs-title class_">User</span>.roles[<span class="hljs-symbol">:admin</span>]<br><br>current_user.save<br><br>current_user.admin?<br></code></pre></td></tr></table></figure>

<p>ç™»å…¥æˆåŠŸå¾Œï¼Œå°±æœ‰ç®¡ç†è€…çš„ä»‹é¢äº†ï¼ï¼</p>
<div class="image-container">
<img src="/images/rails_admin_layout_devise/06.png">
</div>

<p>å¯¦éš›æ‡‰ç”¨çš„æ™‚å€™ï¼Œå¯ä»¥æŠŠåªæœ‰ç®¡ç†è€…çŸ¥é“çš„é€£çµ&amp;è³‡è¨Šæ”¾åœ¨é€™ï¼Œ</p>
<p>è®“ä»–çš„ä»‹é¢çœ‹èµ·ä¾†å’Œä¸€èˆ¬ä½¿ç”¨è€…æœ‰å€éš”</p>
<p>ä½¿ç”¨Deviseå¥—ä»¶çœŸçš„å¥½æ–¹ä¾¿Ù©(â—Ë™â–¿Ë™â—)Û¶â€¦â‹†à¸º æˆ‘åŸæœ¬æƒ³èªªè‡ªå·±åˆ»å¥½éº»ç…©ï¼Œ</p>
<p>é€™æ•´å€‹æ­¥é©Ÿå¤§ç´„10åˆ†é˜å°±å¯ä»¥å®Œæˆäº†ï¼ï¼</p>
<p>æœ‰èˆˆè¶£ä¹Ÿå¯ä»¥è©¦çœ‹çœ‹ï½ï½</p>
<hr>
<p>æœ¬ç¯‡æ–‡ç« æ˜¯æˆ‘ç”±ä»¥ä¸‹åƒè€ƒè³‡æ–™æ•´ç†+è‡ªå·±ç¹ªåœ–è€Œæˆï¼Œå¦‚æœæ‚¨æœ‰èˆˆè¶£äº†è§£æ›´å¤šï¼Œè«‹åƒè€ƒï¼š</p>
<h3 id="åƒè€ƒè³‡æ–™ï¼š"><a href="#åƒè€ƒè³‡æ–™ï¼š" class="headerlink" title="åƒè€ƒè³‡æ–™ï¼š"></a>åƒè€ƒè³‡æ–™ï¼š</h3><blockquote>
<p><a href="https://www.youtube.com/watch?v=SxwFyK9OtfY">Layouts For Admin Users with Devise in Ruby on Rails 7</a></p>
</blockquote>
]]></content>
      <categories>
        <category>Ruby on Rails</category>
      </categories>
      <tags>
        <tag>devise</tag>
        <tag>rails7</tag>
        <tag>rails</tag>
        <tag>layout</tag>
      </tags>
  </entry>
  <entry>
    <title>React: å¯¦é«”èª²ç¨‹å­¸ç¿’å¿ƒå¾—</title>
    <url>/2024/06/28/react/</url>
    <content><![CDATA[<img src="/images/react/React.webp">

<p>ä½œç‚ºä¸€åå‰›èµ·æ­¥çš„ Junior å…¨ç«¯å·¥ç¨‹å¸«ï¼Œæˆ‘éå»å¤§å¤šæ˜¯ç”¨ JavaScript æ’°å¯«å‰ç«¯ç¨‹å¼ã€‚ç‚ºäº†æå‡è‡ªå·±çš„æŠ€èƒ½ï¼Œæˆ‘æ±ºå®šå ±åäº”å€å­¸é™¢é–‹è¨­çš„<a href="https://5xcampus.com/courses/react.html">ã€ŠReact å…¨æ”»ç•¥ - å…¥é–€åˆ°é€²éšã€‹</a>èª²ç¨‹ï¼Œç›®æ¨™æ˜¯æ·±å…¥å­¸ç¿’æ™‚ä¸‹ç†±é–€çš„å‰ç«¯æ¡†æ¶ï¼šReactï¼Œä¸¦æœè‘— Senior å·¥ç¨‹å¸«çš„æ–¹å‘é‚é€²ã€‚</p>
<p>åœ¨å­¸ç¿’ React çš„éç¨‹ä¸­ï¼Œæ”¶ç©«äº†å¥½å¤šå¯¶è²´çš„ç¶“é©—ã€‚å¥¶ç¶ èŒ¶è€å¸«æ˜¯ä¸€ä½æ¥­ç•Œè³‡æ·±çš„å·¥ç¨‹å¸«ä¸»ç®¡ï¼Œä»–å¾åº•å±¤é‚è¼¯é–‹å§‹è¬›è§£ React çš„åŸºç¤çŸ¥è­˜ï¼Œä¸¦ç”¨ç¨‹å¼ç¢¼ä½œç‚ºç¯„ä¾‹ï¼Œåˆ†äº«äº†è¨±å¤šæ¥­ç•Œçš„å¯¦æˆ°ç¶“é©—å’Œåœ¨å·¥ä½œä¸­å¯¦éš›æœƒç”¨åˆ°çš„ React å¯«æ³•ã€‚é€™äº›å…§å®¹ä¸åƒ…è®“æˆ‘ç†è§£å¾—æ›´æ·±å…¥ï¼Œä¹Ÿè®“æˆ‘åœ¨æ‡‰ç”¨ React æ™‚æ›´åŠ å¾—å¿ƒæ‡‰æ‰‹ã€‚</p>
<p>è€Œä¸”è€å¸«ä¸Šèª²é¢¨æ ¼å¹½é»˜æœ‰è¶£ï¼Œèª²ç¨‹ä¸­æœƒç©¿æ’å·¥ä½œä¸Šèˆ‡ React æˆ–æ˜¯å·¥ç¨‹å¸«ç›¸é—œçš„è¶£äº‹ï¼Œä¹Ÿè®“èª²ç¨‹å…§å®¹è®Šå¾—æ›´æ´»æ½‘åŠç”Ÿæ´»åŒ–ï¼Œæ¯æ¬¡ä¸Šèª²å®Œéƒ½è¦ºå¾—é™¤äº†å­¸ç¿’ React ä¹‹å¤–ï¼Œä¹Ÿé€éèª²ç¨‹å…§å®¹è®“è‡ªå·±é–‹çœ¼ç•Œã€å­¸ç¿’è³‡æ·±å·¥ç¨‹å¸«çš„æ€è€ƒæ–¹å¼ï¼Œæ¯æ¬¡ä¸Šèª²å®Œéƒ½è¦ºå¾—æ”¶ç©«æ»¿æ»¿ã€‚</p>
<h2 id="èª²ç¨‹ç°¡ä»‹"><a href="#èª²ç¨‹ç°¡ä»‹" class="headerlink" title="èª²ç¨‹ç°¡ä»‹"></a>èª²ç¨‹ç°¡ä»‹</h2><p>ã€ŠReact å…¨æ”»ç•¥ - å…¥é–€åˆ°é€²éšã€‹èª²ç¨‹æ˜¯ç‚ºäº†å¹«åŠ©å­¸å“¡æ‰“å¥½ React çš„åŸºç¤ï¼Œæˆç‚ºæ›´åŠ æ‰å¯¦çš„ React å‰ç«¯å·¥ç¨‹å¸«è€Œè¨­è¨ˆçš„ã€‚èª²ç¨‹å…§å®¹æ¶µè“‹äº†å¾åŸºç¤åˆ°é€²éšçš„å„å€‹æ–¹é¢ï¼Œè€å¸«é‚„æœƒåˆ†äº«è¨±å¤šå¯¦éš›é–‹ç™¼ä¸­çš„åœ˜éšŠå”ä½œç¶“é©—å’ŒæŠ€å·§ï¼Œé€™äº›éƒ½æ˜¯æ›¸ç±å’Œä¸€èˆ¬ç·šä¸Šèª²ç¨‹ä¸­é›£ä»¥è¦‹åˆ°çš„å¯¶è²´å…§å®¹ã€‚</p>
<p>å¥¶ç¶ èŒ¶è€å¸«é€é 50+ ä»½ç¤ºç¯„ç¨‹å¼æª”æ¡ˆï¼Œå¾æœ€åŸºç¤çš„ React Components å¦‚ä½•æ’°å¯« ã€Props å‚³éæ©Ÿåˆ¶ç­‰ï¼Œåˆ†äº« React æ ¸å¿ƒèªæ³•ï¼›é‚„æœ‰ Typescript ã€styled-components ã€Tailwind CSSã€Redux ç­‰æ›´é€²éšçš„å¯¦æˆ°æ‡‰ç”¨ã€‚</p>
<p>é€™é–€èª²ç‰¹åˆ¥é©åˆä»¥ä¸‹çš„äººï¼š</p>
<ul>
<li>å‰ç«¯å·¥ç¨‹å¸«ï¼šå¸Œæœ›é€éå­¸ç¿’ React ä¾†ç²¾é€² JavaScript æŠ€è¡“ã€‚</li>
<li>æœ‰ Vue.js æˆ– Angular é–‹ç™¼ç¶“é©—è€…ï¼šæƒ³å¿«é€Ÿä¸Šæ‰‹ Reactã€‚</li>
<li>æœ‰ React è‡ªå­¸ç¶“é©—çš„é–‹ç™¼è€…ï¼šå¸Œæœ›éå›ºåŸºç¤è§€å¿µã€‚</li>
<li>æƒ³äº†è§£ React é–‹ç™¼åœ˜éšŠåˆä½œèˆ‡ç®¡ç†çš„é–‹ç™¼è€…ï¼šå°‹æ±‚æ›´é«˜æ•ˆçš„åœ˜éšŠå”ä½œæ–¹æ³•ã€‚</li>
</ul>
<h2 id="React-çš„åŸºç¤çŸ¥è­˜"><a href="#React-çš„åŸºç¤çŸ¥è­˜" class="headerlink" title="React çš„åŸºç¤çŸ¥è­˜"></a>React çš„åŸºç¤çŸ¥è­˜</h2><p>åœ¨èª²å ‚ä¸Šï¼Œè€å¸«è©³ç´°è¬›è§£äº† JSXã€çµ„ä»¶ï¼ˆComponentsï¼‰ã€å±¬æ€§ï¼ˆPropsï¼‰ã€ç‹€æ…‹ï¼ˆStateï¼‰ç­‰åŸºç¤çŸ¥è­˜ã€‚é€™äº›æ˜¯å­¸ç¿’ React çš„æ ¸å¿ƒåŸºç¤ï¼Œäº†è§£äº†æ ¸å¿ƒçš„åº•å±¤é‚è¼¯å¾Œï¼Œæ›´èƒ½é€²ä¸€æ­¥å­¸ç¿’å’Œæ‡‰ç”¨ã€‚</p>
<h3 id="Components-Props"><a href="#Components-Props" class="headerlink" title="Components &amp; Props"></a>Components &amp; Props</h3><p>åœ¨ React ä¸­ï¼Œcomponent æ˜¯è®“ç¨‹å¼é‡è¤‡åˆ©ç”¨çš„é‡è¦åŸºç¤ã€‚<br>å¥¶ç¶ èŒ¶è€å¸«æ•™æˆ‘å€‘å¦‚ä½•å‰µå»º component ä¸¦ä½¿ç”¨ props å‚³éæ•¸æ“šï¼Œä¸¦æ•™å°äº†æˆ‘å€‘å¹¾å€‹é‡è¦çš„æ¦‚å¿µï¼š</p>
<ul>
<li>compnent è¦ç²å–è®Šæ•¸ï¼Œä¸€å®šæœƒå¾ props æ‹¿</li>
<li>React component çš„ç¬¬ä¸€å€‹åƒæ•¸å°±æ˜¯ propsï¼Œå…¶å‹åˆ¥ä¸€å®šæ˜¯ç‰©ä»¶</li>
</ul>
<p>å¯¦éš›çš„ç¨‹å¼ç¢¼ç¯„ä¾‹ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">PropTypes</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;prop-types&quot;</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">FunctionalCard01</span> = (<span class="hljs-params">props</span>) =&gt; &#123;<br>  <span class="hljs-keyword">const</span> &#123; img, name, children, price &#125; = props;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;category-item&quot;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;category-item__img&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&#123;img&#125;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&#123;name&#125;</span> /&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;category-item__name&quot;</span>&gt;</span>&#123;name&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;category-item__price&quot;</span>&gt;</span>&#123;price&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;category-item__quote&quot;</span>&gt;</span>&#123;children&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>  );<br>&#125;;<br><br><span class="hljs-title class_">FunctionalCard01</span>.<span class="hljs-property">propTypes</span> = &#123;<br>  <span class="hljs-attr">price</span>: <span class="hljs-title class_">PropTypes</span>.<span class="hljs-property">number</span>.<span class="hljs-property">isRequired</span>,<br>  <span class="hljs-attr">img</span>: <span class="hljs-title class_">PropTypes</span>.<span class="hljs-property">string</span>.<span class="hljs-property">isRequired</span>,<br>  <span class="hljs-attr">name</span>: <span class="hljs-title class_">PropTypes</span>.<span class="hljs-property">string</span>.<span class="hljs-property">isRequired</span>,<br>  <span class="hljs-attr">children</span>: <span class="hljs-title class_">PropTypes</span>.<span class="hljs-property">node</span>,<br>&#125;;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">FunctionalCard01</span>;<br></code></pre></td></tr></table></figure>

<p>é€™æ˜¯ä¸€æ®µç°¡å–®çš„ Functional Componentï¼Œå®ƒæ¥æ”¶ props ä¸¦åœ¨ JSX ä¸­æ¸²æŸ“ã€‚é€™ç¨®æ–¹å¼è®“ component è®Šå¾—æ›´ç‚ºéˆæ´»å’Œå¯é‡è¤‡ä½¿ç”¨ã€‚</p>
<h3 id="useState"><a href="#useState" class="headerlink" title="useState"></a>useState</h3><ul>
<li>æ¯å€‹ component é™¤äº†å¯ä»¥å¾ props æ‹¿å€¼å¤–ï¼Œæœ¬èº«é‚„å¯ä»¥å„²å­˜è®Šæ•¸ã€‚å°±åƒç‰©ä»¶å¯ä»¥å„²å­˜è‡ªå·±çš„å±¬æ€§ä¸€æ¨£ï¼ŒReact component ä¹Ÿå¯ä»¥æœ‰è‡ªå·±çš„ç‹€æ…‹ã€‚</li>
<li>å‡½æ•¸æ²’æœ‰ this æ¦‚å¿µï¼Œå®ƒåœ¨å‘¼å«å®Œå¾Œå°±è¢«é‡‹æ”¾ï¼Œç„¡æ³•åœ¨å‡½æ•¸å…§éƒ¨å„²å­˜è®Šæ•¸çš„çµæœã€‚è¦å¦‚ä½•åœ¨å‡½æ•¸ä¸­å„²å­˜è®Šæ•¸çš„ç‹€æ…‹å‘¢ï¼Ÿå¯ä»¥ä½¿ç”¨ useState ä¾†å¯¦ç¾ã€‚</li>
</ul>
<p>å¯¦éš›çš„ç¨‹å¼ç¢¼ç¯„ä¾‹ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">atClick</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-title function_">setCount</span>(count + <span class="hljs-number">1</span>);<br>&#125;;<br><br><span class="hljs-keyword">return</span> (<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;border p-2 border-black&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;count&quot;</span>&gt;</span>count: &#123;count&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;atClick&#125;</span>&gt;</span></span><br><span class="language-xml">      increment</span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>);<br></code></pre></td></tr></table></figure>

<p>é€™æ®µç¨‹å¼ç¢¼è¡¨ç¤ºä½¿ç”¨ useState ä¾†ç®¡ç†è¨ˆæ•¸å™¨çš„ç‹€æ…‹ï¼Œä¸¦åœ¨æŒ‰éˆ•é»æ“Šæ™‚æ›´æ–°ç‹€æ…‹ã€‚</p>
<p>å¦å¤– React çš„ useState é‚„æœ‰ä¸€å€‹é‡è¦çš„è§€å¿µï¼š</p>
<ul>
<li>useState å„²å­˜ç‹€æ…‹ï¼Œåªæœ‰ç¬¬ä¸€æ¬¡å‚³å…¥çš„å€¼æœƒè¢«ä½¿ç”¨ã€‚æ‰€ä»¥ï¼ŒReact çš„ useState å…è¨±ä½ å‚³å…¥ä¸€å€‹å‡½å¼ä¾†å›å‚³åˆå§‹å€¼ï¼Œé€™å€‹å‡½å¼åªæœƒè¢«åŸ·è¡Œä¸€æ¬¡ã€‚æ˜¯å¦éœ€è¦ä½¿ç”¨é€™å€‹å‡½å¼å–æ±ºæ–¼åˆå§‹åŒ–çš„æˆæœ¬æ˜¯å¦æ˜‚è²´ã€‚</li>
</ul>
<p>å¯¦éš›çš„ç¨‹å¼ç¢¼ç¯„ä¾‹ï¼š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><code class="hljs jsx"><span class="hljs-comment">// <span class="hljs-doctag">FIXME:</span> Bad</span><br><span class="hljs-comment">// é€™è£¡æœƒè¢«åŸ·è¡Œå¥½å¤šæ¬¡</span><br><span class="hljs-keyword">const</span> [countBad, setCountBad] = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">useState</span>(<span class="hljs-title function_">getInitialState</span>(<span class="hljs-string">&#x27;bad&#x27;</span>));<br><br><span class="hljs-comment">// [x]: Correct</span><br><span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">useState</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>  <span class="hljs-comment">// é€™è£¡çš„ function åªæœƒè¢«åŸ·è¡Œä¸€æ¬¡</span><br>  <span class="hljs-keyword">return</span> <span class="hljs-title function_">getInitialState</span>(<span class="hljs-string">&#x27;correct&#x27;</span>);<br>&#125;);<br></code></pre></td></tr></table></figure>

<h3 id="å¾å…¥é–€åˆ°é€²éš"><a href="#å¾å…¥é–€åˆ°é€²éš" class="headerlink" title="å¾å…¥é–€åˆ°é€²éš"></a>å¾å…¥é–€åˆ°é€²éš</h3><p>é™¤äº†ä»¥ä¸Šçš„ç¯„ä¾‹ï¼Œå¥¶ç¶ èŒ¶è€å¸«çš„ React èª²ç¨‹ç·Šæ‰£èª²ç¨‹çš„æ¨™é¡Œã€Œå¾å…¥é–€åˆ°é€²éšã€ï¼Œè®“æˆ‘å°è±¡æ·±åˆ»çš„å…§å®¹é‚„æœ‰ï¼šuseEffect ç¬¬äºŒå€‹åƒæ•¸çš„å·®ç•°ã€æ·±å…¥ç†è§£ useRef å¹«åŠ©æˆ‘å€‘ç²å– DOM å…ƒç´ ï¼Œä½¿ç”¨ useState å’Œ useEffect ä¾†è™•ç†è¡¨å–®è¼¸å…¥å’Œé©—è­‰ã€ä½¿ç”¨ React.memo ä¾†å„ªåŒ– component æ€§èƒ½ï¼Œé¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“ã€è‡ªå®šç¾© Fetch Hook å°‡é‚è¼¯æå–åˆ°å¯é‡ç”¨çš„å‡½å¼ä½¿çµ„ä»¶æ›´åŠ ç°¡æ½”ï¼Œä¸¦ä¸”æ›´æ˜“æ–¼æ¸¬è©¦å’Œç¶­è­·ã€ä½¿ç”¨ Redux Thunk é€²è¡Œç•°æ­¥æ“ä½œã€ä½¿ç”¨ testing library é€²è¡Œå–®å…ƒæ¸¬è©¦ç­‰ç­‰ï¼Œé€™äº›éƒ½è®“æˆ‘å° React æœ‰äº†æ›´å…¨é¢çš„äº†è§£ã€‚</p>
<p>å¦‚æœä½ åœ¨è‡ªå­¸ React çš„è·¯ä¸Šï¼Œä½†ç¸½è¦ºå¾—å¡å¡çš„ï¼Œæˆ–æ˜¯ä¸æ‡‚ä½¿ç”¨ A æ–¹æ³•æˆ– B æ–¹æ³•å“ªå€‹æ¯”è¼ƒå¥½ã€æ•ˆç‡æ¯”è¼ƒé«˜ã€ä¸æ‡‚å“ªå€‹æ–¹æ³•åœ¨å·¥ä½œä¸Šæ¯”è¼ƒå¸¸ä½¿ç”¨ï¼Œéƒ½æ¨è–¦ä½ ä¾†ä¸Šå¥¶ç¶ èŒ¶è€å¸«çš„ã€ŠReact å…¨æ”»ç•¥ - å…¥é–€åˆ°é€²éšã€‹èª²ç¨‹ï¼Œé™¤äº†èƒ½è§£æ±ºä½ ä»¥ä¸Šçš„å•é¡Œï¼Œæ›´èƒ½å¤ è®“ä½ åœ¨ React çš„å­¸ç¿’ä¸Šæœ‰å…¨é¢çš„æå‡ã€å°‘èµ°å¾ˆå¤šå½è·¯ï¼</p>
]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>React</tag>
        <tag>JavaScript</tag>
        <tag>äº”å€å­¸é™¢</tag>
      </tags>
  </entry>
  <entry>
    <title>Ruby on Rails: ä½¿ç”¨AWS IVS &amp; OBS è¼•é¬†é–‹å§‹ç›´æ’­</title>
    <url>/2024/03/17/ruby-aws-ivs-obs-livestream/</url>
    <content><![CDATA[<img src="/images/ruby-aws-ivs-obs-stream-live/cover.avif">

<p>åœ–ç‰‡ä¾†æºï¼š<a href="https://unsplash.com/photos/black-smartphone-taking-photo-of-yellow-round-fruits-8zsBofKrhP8">Usplash</a></p>
<h2 id="AMAZON-IVS"><a href="#AMAZON-IVS" class="headerlink" title="AMAZON IVS"></a>AMAZON IVS</h2><p><a href="https://aws.amazon.com/tw/ivs/">Amazon IVS</a>æ˜¯AMAZONçš„äº’å‹•å¼å½±ç‰‡æœå‹™ï¼Œå¯ä»¥åˆ©ç”¨æ­¤æ§‹å»ºå³æ™‚ä¸²æµå’Œäº’å‹•å½±ç‰‡é«”é©—ã€‚</p>
<p>æœ¬ç¯‡æ–‡ç« ä¸»è¦åƒè€ƒ <a href="https://www.youtube.com/watch?v=aY4d5kNKbGc">Deanin - Livestream to Your Rails App with Amazon IVS</a> ï¼† <a href="https://docs.aws.amazon.com/ivs/latest/LowLatencyUserGuide/web-getting-started.html">Amazon Interactive Video Service</a></p>
<h2 id="å»ºç«‹IVS-Channel"><a href="#å»ºç«‹IVS-Channel" class="headerlink" title="å»ºç«‹IVS Channel"></a>å»ºç«‹IVS Channel</h2><p>AWS IVSçš„æœå‹™è¶…éä¸€å®šé¡åº¦æœƒéœ€è¦æ”¶è²»ï¼Œæ”¶è²»æ¨™æº–å¯ä»¥åƒè€ƒé€™è£¡ï¼š<a href="https://aws.amazon.com/tw/ivs/pricing/">Amazon äº’å‹•å¼å½±ç‰‡æœå‹™å®šåƒ¹</a>ï¼Œé€™æ¬¡ä½¿ç”¨çš„ç¯„åœåœ¨å…è²»é¡åº¦å…§ã€‚</p>
<img src="/images/ruby-aws-ivs-obs-stream-live/1.png">

<p>æ‰“ä¸ŠChannel nameå³å¯ï¼Œä¸‹æ–¹äº¦æœ‰å¯ä»¥å°‡ç›´æ’­å½±ç‰‡å„²å­˜è‡³S3ç­‰é¸é …ï¼Œå¯ä¾ç…§å€‹äººéœ€è¦èª¿æ•´</p>
<p>å»ºç½®å®Œæˆå°±æœƒçœ‹åˆ°é€™å€‹ç•«é¢ï¼š<br><img src="/images/ruby-aws-ivs-obs-stream-live/2.png"></p>
<h2 id="å»ºç½®Ruby-on-Railså°ˆæ¡ˆ"><a href="#å»ºç½®Ruby-on-Railså°ˆæ¡ˆ" class="headerlink" title="å»ºç½®Ruby on Railså°ˆæ¡ˆ"></a>å»ºç½®Ruby on Railså°ˆæ¡ˆ</h2><figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-variable">$ </span>rails new video<br><span class="hljs-variable">$ </span>rails g controller pages home<br><span class="hljs-variable">$ </span>rails g scaffold post title <span class="hljs-symbol">body:</span>text<br></code></pre></td></tr></table></figure>

<p>ç‚ºäº†æ–¹ä¾¿å¯ä»¥å°‡<code>config/routes.rb</code> å¢åŠ   <code>root &#39;pages#homeâ€™</code></p>
<h2 id="ä¸²æ¥AWS-IVSç›´æ’­"><a href="#ä¸²æ¥AWS-IVSç›´æ’­" class="headerlink" title="ä¸²æ¥AWS IVSç›´æ’­"></a>ä¸²æ¥AWS IVSç›´æ’­</h2><p>åƒè€ƒï¼š<a href="https://docs.aws.amazon.com/ivs/latest/LowLatencyUserGuide/web-getting-started.html">AWS IVS Player SDK</a></p>
<p>æœ€é‡è¦çš„éƒ¨åˆ†å°±æ˜¯é€™æ®µï¼Œè¨˜å¾—å°‡PLAYBACK_URLæ›¿æ›æˆè¦è¼‰å…¥çš„URL<br><img src="/images/ruby-aws-ivs-obs-stream-live/3.png"></p>
<p>è¦è¼‰å…¥çš„URLï¼š<br><img src="/images/ruby-aws-ivs-obs-stream-live/4.png"></p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-comment">#app/views/pages/home.html.erb</span><br>&lt;h1&gt;<span class="hljs-title class_">Pages</span><span class="hljs-comment">#home&lt;/h1&gt;</span><br>&lt;p&gt;<span class="hljs-title class_">Find</span> me <span class="hljs-keyword">in</span> app/views/pages/home.html.erb&lt;<span class="hljs-regexp">/p&gt;</span><br><span class="hljs-regexp"></span><br><span class="hljs-regexp">&lt;script src=&quot;https:/</span><span class="hljs-regexp">/player.live-video.net/</span><span class="hljs-number">1.26</span>.<span class="hljs-number">0</span>/amazon-ivs-player.min.js<span class="hljs-string">&quot;&gt;&lt;/script&gt;</span><br><span class="hljs-string">&lt;div id=&quot;</span>amazon-ivs<span class="hljs-string">&quot;&gt;</span><br><span class="hljs-string">    &lt;video id=&quot;</span>video-player<span class="hljs-string">&quot;</span><br><span class="hljs-string">        autoplay</span><br><span class="hljs-string">        controls</span><br><span class="hljs-string">        playsinline</span><br><span class="hljs-string">        style=&quot;</span>max-<span class="hljs-symbol">height:</span> 500px; max-<span class="hljs-symbol">width:</span> 500px<span class="hljs-string">&quot;</span><br><span class="hljs-string">    &gt;&lt;/video&gt;</span><br><span class="hljs-string">&lt;/div&gt;</span><br><span class="hljs-string">&lt;script&gt;</span><br><span class="hljs-string">  if (IVSPlayer.isPlayerSupported) &#123;</span><br><span class="hljs-string">    const player = IVSPlayer.create();</span><br><span class="hljs-string">    player.attachHTMLVideoElement(document.getElementById(&#x27;video-player&#x27;));</span><br><span class="hljs-string">    player.load(&quot;</span><span class="hljs-title class_">Playback</span> <span class="hljs-variable constant_">URL</span><span class="hljs-string">&quot;);</span><br><span class="hljs-string">    player.play();</span><br><span class="hljs-string">  &#125;</span><br><span class="hljs-string">&lt;/script&gt;</span><br></code></pre></td></tr></table></figure>

<h2 id="è¨­å®šOBS"><a href="#è¨­å®šOBS" class="headerlink" title="è¨­å®šOBS"></a>è¨­å®šOBS</h2><p>æœ‰åœ¨æ¥è§¸ç›´æ’­çš„äººæ‡‰è©²è »ç†Ÿæ‚‰OBSçš„ï¼ŒOBSæ˜¯ä¸€å€‹<strong>ç”¨æ–¼éŒ„å½±å’Œç›´æ’­çš„è‡ªç”±é–‹æºè»Ÿé«”ï¼Œ</strong>å¸¸è¦‹çš„Youtube, Twitch,FB, Instagraméƒ½å¯ä»¥æ¥æ­¤ç›´æ’­ï¼Œè‡ªè¨‚çš„åŠŸèƒ½ä¹Ÿå¾ˆé«˜ï¼Œæˆ–æ˜¯ä¹Ÿå¯ä»¥åƒæˆ‘å€‘é€™æ¬¡ä¸€æ¨£ï¼Œä½¿ç”¨AWS IVS + OBS æ”¾åˆ°è‡ªå·±çš„ç¶²é å°ˆæ¡ˆè£¡ï¼Œå¯ä»¥åƒè€ƒå’Œä¸‹è¼‰ï¼š<a href="https://obsproject.com/">OBS</a></p>
<p>OBS â†’ Setting â†’ Stream â†’ è¤‡è£½è‡ªå·±AWS Channelçš„server &amp; keyè²¼ä¸Š<br><img src="/images/ruby-aws-ivs-obs-stream-live/5.png"></p>
<p>AWS IVS Server &amp; Key<br><img src="/images/ruby-aws-ivs-obs-stream-live/6.png"></p>
<p>æ¥è‘—åœ¨OBS æŒ‰ä¸‹Star Streamå°±å¤§åŠŸå‘Šæˆäº†ï¼</p>
<p>AWS Channel:<br><img src="/images/ruby-aws-ivs-obs-stream-live/7.png"></p>
<p>ç¶²é ï¼š<br><img src="/images/ruby-aws-ivs-obs-stream-live/8.png"></p>
<p>åŸæœ¬æƒ³èªªä¸²æ¥ç›´æ’­ä¸çŸ¥é“æœƒä¸æœƒå¾ˆé›£ï¼Œçœ‹äº†<a href="https://www.youtube.com/watch?v=aY4d5kNKbGc">Deanin - Livestream to Your Rails App with Amazon IVS</a> çš„æ•™å­¸ç™¼ç¾é€éAWS IVSè®Šå¾—ç°¡å–®å¾ˆå¤šï¼</p>
<p>æœ¬ç¯‡æ–‡ç« æ˜¯æˆ‘ç”±ä»¥ä¸‹åƒè€ƒè³‡æ–™æ•´ç†è€Œæˆï¼Œå¦‚æœæ‚¨æœ‰èˆˆè¶£äº†è§£æ›´å¤šï¼Œè«‹åƒè€ƒï¼š</p>
<h3 id="åƒè€ƒè³‡æ–™ï¼š"><a href="#åƒè€ƒè³‡æ–™ï¼š" class="headerlink" title="åƒè€ƒè³‡æ–™ï¼š"></a>åƒè€ƒè³‡æ–™ï¼š</h3><blockquote>
<p> <a href="https://www.youtube.com/watch?v=aY4d5kNKbGc">Deanin - Livestream to Your Rails App with Amazon IVS</a> </p>
</blockquote>
<blockquote>
<p><a href="https://docs.aws.amazon.com/ivs/latest/LowLatencyUserGuide/web-getting-started.html">Amazon Interactive Video Service</a></p>
</blockquote>
<blockquote>
<p><a href="https://docs.aws.amazon.com/ivs/latest/LowLatencyUserGuide/web-getting-started.html">AWS IVS Player SDK</a></p>
</blockquote>
<blockquote>
<p><a href="https://obsproject.com/">OBS</a></p>
</blockquote>
]]></content>
      <categories>
        <category>Ruby on Rails</category>
      </categories>
      <tags>
        <tag>Ruby</tag>
        <tag>Rails</tag>
        <tag>Ruby on Rails</tag>
        <tag>AMAZON IVS</tag>
        <tag>OBS</tag>
        <tag>livestream</tag>
      </tags>
  </entry>
  <entry>
    <title>Ruby on Rails: ä»€éº¼æ˜¯Abstraction layer</title>
    <url>/2024/03/31/ruby-on-rails-abstraction-layer/</url>
    <content><![CDATA[<style>
.em-div{
background-color: #d4a373;
color: white;
padding: 10px;
margin: 10px;
border-radius: 5px;
}

.em-div2{
border:2px #d4a373 solid;
margin:5px;
padding:10px 2px 2px 2px;
border-style:dashed;
}
</style>

<h3 id=""><a href="#" class="headerlink" title=""></a></h3><img src="/images/ruby-on-rails-abstraction-layer/banner.jpg">

<blockquote>
<p>åœ–ç‰‡ä¾†æº: <a href="https://unsplash.com/photos/orange-pink-and-teal-illustration-Tk0B3Dfkf_4">Usplash - Clark Van Der Beken</a></p>
</blockquote>
<h2 id="-1"><a href="#-1" class="headerlink" title=""></a></h2><p>é¦–åœ–çš„layerå¥½ç¾Ù©(à¹‘â›á´—â›à¹‘)Û¶ï¼Œä¸éå°æ–¼ç¨‹å¼çš„ä¸–ç•Œï¼ŒLayerçš„æ„ç¾©éå¸¸åœ°é¼é—Šï¼Œä¾†çœ‹ä¸‹ç¶­åŸºç™¾ç§‘å°æ–¼Layerçš„å®šç¾©ï¼š</p>
<div class="em-div2">

<p><a href="https://zh.wikipedia.org/wiki/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%AE%BE%E8%AE%A1">ç‰©ä»¶å°å‘è¨­è¨ˆ</a>ä¸­çš„<strong>å±¤</strong>ï¼ˆlayerï¼‰æ˜¯ä¸€ç¾¤å’Œå…¶ä»–<a href="https://zh.wikipedia.org/wiki/%E8%BB%9F%E9%AB%94%E6%A8%A1%E7%B5%84">æ¨¡çµ„</a>æœ‰é¡ä¼¼<a href="https://zh.wikipedia.org/wiki/%E8%80%A6%E5%90%88%E6%80%A7_(%E8%A8%88%E7%AE%97%E6%A9%9F%E7%A7%91%E5%AD%B8)">è€¦åˆæ€§</a>çš„<a href="https://zh.wikipedia.org/wiki/%E7%B1%BB_(%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6)">é¡åˆ¥</a>ã€‚å±¤ä¹Ÿå¯ä»¥èªªæ˜¯ä¸€çµ„å¯<a href="https://zh.wikipedia.org/wiki/%E5%A4%8D%E7%94%A8">å¾©ç”¨</a>çš„è»Ÿé«”çµ„ä»¶ï¼Œå¯ä»¥åœ¨é¡ä¼¼çš„ç’°å¢ƒä¸‹å¾©ç”¨ã€‚</p>
<p>å„å±¤çš„æ¨¡çµ„æœƒç”¨<a href="https://zh.wikipedia.org/wiki/%E6%A0%91_(%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84)">æ¨¹</a>ç‹€çš„éšç´šæ¶æ§‹ä¾†è¦åŠƒï¼Œå„å±¤æ¨¡çµ„ä¹‹é–“çš„ä¾è³´é—œä¿‚æœƒç”¨é€£æ¥ä¾†è¡¨ç¤ºã€‚å„å±¤ä¹‹é–“çš„ä¾è³´é—œä¿‚å¯èƒ½æ˜¯<a href="https://zh.wikipedia.org/wiki/%E7%BB%A7%E6%89%BF_(%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6)">ç¹¼æ‰¿</a>ã€<a href="https://zh.wikipedia.org/w/index.php?title=%E7%89%A9%E4%BB%B6%E8%A4%87%E5%90%88&action=edit&redlink=1">è¤‡åˆ</a>æˆ–èšåˆï¼ˆaggregationï¼‰é—œä¿‚ï¼Œä¸éä¹Ÿæœ‰å¯èƒ½æ˜¯å…¶ä»–çš„é—œä¿‚ã€‚</p>
<p>åˆ†å±¤æ˜¯è¨±å¤šæ›¸ç±ä¸­éƒ½æœƒæåˆ°çš„<a href="https://zh.wikipedia.org/wiki/%E6%9E%B6%E6%9E%84%E6%A8%A1%E5%BC%8F">æ¶æ§‹æ¨¡å¼</a>ï¼Œä¾‹å¦‚ã€Š<a href="https://zh.wikipedia.org/w/index.php?title=Pattern-Oriented_Software_Architecture&action=edit&redlink=1">Pattern-Oriented Software Architecture</a>ã€‹æ›¸ä¸­å°±æœ‰æåˆ°ã€‚</p>
</div>

<p>çœ‹åˆ°äº†è£¡é¢çš„<code>é¡åˆ¥</code>ã€<code>ç¹¼æ‰¿</code>ï¼Œå¥½åƒå¾ˆç†Ÿæ‚‰ï¼Œåœ¨Ruby on Railsä¸­æœ‰ä½¿ç”¨åˆ°ï¼Œä½†æ˜¯æ•´å€‹çµ„èµ·ä¾†ï¼Œçœ‹æ‡‚ä¸€é»é»åˆå¥½åƒæ²’çœ‹æ‡‚ï¼Ÿ</p>
<p>æ¥è‘—ä¾†çœ‹çœ‹ç¶­åŸºç™¾ç§‘å°æ–¼<a href="https://zh.wikipedia.org/wiki/%E6%8A%BD%E8%B1%A1%E5%B1%A4">Abstraction layer</a>çš„å®šç¾©ï¼š</p>
<div class="em-div2">

<p><strong>æŠ½è±¡å±¤</strong>ï¼ˆè‹±èªï¼šabstraction layerï¼Œ abstraction levelï¼Œæˆ– a layer of abstractionï¼‰æ˜¯ä¸€ç¨®éš±è—ç¨ç‰¹åŠŸèƒ½åŸ·è¡Œç´°ç¯€çš„æ–¹æ³•ã€‚ä½¿ç”¨æŠ½è±¡å±¤çš„<a href="https://zh.wikipedia.org/wiki/%E8%BB%9F%E9%AB%94">è»Ÿé«”</a>æ¨¡å‹åŒ…å«<a href="https://zh.wikipedia.org/wiki/OSI%E6%A8%A1%E5%9E%8B">OSI</a>ç¶²è·¯å”å®šä¸ƒå±¤æ¨¡å‹ã€<a href="https://zh.wikipedia.org/wiki/OpenGL">OpenGL</a>ç¹ªåœ–å‡½å¼åº«åŠä»¥Unixç‚ºåŸæœ¬çš„è¼¸å…¥è¼¸å‡ºï¼ˆI&#x2F;Oï¼‰æ¨¡å‹ï¼Œä¸¦é©ç”¨æ–¼å¤§éƒ¨åˆ†æ–°ä¸€ä»£çš„ä½œæ¥­ç³»çµ±ã€‚</p>
<p>åœ¨Unixä½œæ¥­ç³»çµ±ä¸­ï¼Œå¤§éƒ¨åˆ†çš„è¼¸å…¥è¼¸å‡ºå½¢å¼è¢«è¦–ç‚ºå¾è£ç½®è®€å¯«çš„ä¸²æµå€¼ã€‚è€Œä¸²æµå€¼æ¨¡å‹ç‚ºäº†æä¾›ç¨ç«‹è£ç½®è¢«æª”æ¡ˆåŠçµ‚ç«¯æ©ŸI&#x2F;Oæ‰€ä½¿ç”¨ã€‚ç‚ºäº†åœ¨æ‡‰ç”¨å±¤è®€å¯«è£ç½®ï¼Œç¨‹å¼å‘¼å«<a href="https://zh.wikipedia.org/wiki/%E5%87%BD%E6%95%B8">å‡½å¼</a>é–‹å•Ÿåƒæ˜¯<a href="https://zh.wikipedia.org/wiki/%E7%B5%82%E7%AB%AF%E6%A9%9F">çµ‚ç«¯æ©Ÿ</a>çš„å¯¦é«”è£ç½®æˆ–æ˜¯<a href="https://zh.wikipedia.org/wiki/%E9%9B%BB%E8%85%A6%E7%B6%B2%E8%B7%AF">ç¶²è·¯</a>ã€<a href="https://zh.wikipedia.org/wiki/%E6%AA%94%E6%A1%88">æª”æ¡ˆ</a>ç³»çµ±çš„<a href="https://zh.wikipedia.org/wiki/%E8%99%9B%E6%93%AC">è™›æ“¬</a>è£ç½®ã€‚è£ç½®çš„<a href="https://zh.wikipedia.org/wiki/%E5%AF%A6%E9%AB%94">å¯¦é«”</a>ç‰¹å¾µæ˜¯è¢«å…è¨±ç¨‹å¼è¨­è¨ˆå¸«è®€å¯«è³‡æ–™çš„ä½œæ¥­ç³»çµ±æ‰€èª¿ç”¨ã€‚æ¥è‘—<a href="https://zh.wikipedia.org/wiki/%E4%BD%9C%E6%A5%AD%E7%B3%BB%E7%B5%B1">ä½œæ¥­ç³»çµ±</a>æ“ä½œæ­£ç¢ºçš„è®€å¯«è½‰æ›ã€‚</p>
<p>å¤§éƒ¨åˆ†çš„<a href="https://zh.wikipedia.org/wiki/%E5%9B%BE%E5%BD%A2%E5%BA%93">åœ–å½¢åº«</a>ï¼Œåƒæ˜¯OpenGLï¼Œæä¾›æŠ½è±¡åœ–å½¢è£ç½®æ¨¡å‹ã€‚é€™ç¨®å‡½å¼åº«çš„ä¸»è¦åŠŸèƒ½åœ¨æ–¼è½‰æ›<a href="https://zh.wikipedia.org/wiki/%E7%A8%8B%E5%BC%8F%E8%A8%AD%E8%A8%88%E5%B8%AB">ç¨‹å¼è¨­è¨ˆå¸«</a>çš„æŒ‡ä»¤åˆ°<a href="https://zh.wikipedia.org/w/index.php?title=%E5%9C%96%E5%BD%A2%E5%85%83%E4%BB%B6&action=edit&redlink=1">åœ–å½¢å…ƒä»¶</a>ã€‚é€™å€‹ç‰¹æ®Šçš„ç¹ªåœ–æŒ‡ä»¤èˆ‡å°å‚³çµ±é™°æ¥µå°„ç·šç®¡éŠ€å¹•çš„æŒ‡ä»¤ä¸åŒï¼Œè€Œæ˜¯éš±è—äº†æŠ½è±¡ä»‹é¢çš„ç´°ç¯€ã€‚</p>
<p>åœ¨<a href="https://zh.wikipedia.org/wiki/%E8%B3%87%E8%A8%8A%E7%A7%91%E5%AD%B8">è³‡è¨Šå­¸</a>ï¼ŒæŠ½è±¡å±¤æ˜¯<a href="https://zh.wikipedia.org/wiki/%E6%A6%82%E5%BF%B5%E6%A8%A1%E5%9E%8B_(%E8%B3%87%E8%A8%8A%E7%A7%91%E5%AD%B8)">æ¨¡å‹</a>æˆ–<a href="https://zh.wikipedia.org/wiki/%E6%BC%94%E7%AE%97%E6%B3%95">æ¼”ç®—æ³•</a>çš„æ¨å»£ã€‚</p>
</div>

<p>å®Œè›‹äº†ï¼Œå®Œå…¨çœ‹ä¸æ‡‚ (à° à±à°  Ë“Ì­ à° à±à° )ã€‚</p>
<p>å…¶å¯¦æŠ½è±¡å±¤å¾ˆå¸¸å‡ºç¾åœ¨Ruby on Railsè£¡é¢ï¼ŒRuby on Railsçš„æ‰€æœ‰çš„æ±è¥¿éƒ½æ˜¯ç‰©ä»¶ï¼Œè€Œæˆ‘å€‘æ‰€ç†Ÿæ‚‰çš„MVCï¼Œä¹Ÿæ˜¯ç‰©ä»¶ã€‚<code>view object</code> &#x2F; <code>controller object</code> &#x2F; <code>model object</code> å½¼æ­¤å‚³éè‘—è¨Šæ¯ï¼Œ<strong>é€™äº›ç‰©ä»¶åœ¨ä½éšä¸Šéƒ½å±¬æ–¼æŠ½è±¡å±¤ã€‚</strong></p>
<p>ç¶²é çš„ç”Ÿå‘½é€±æœŸåˆ†æˆå…©å€‹éšæ®µï¼š</p>
<ol>
<li>bootstrap phase (configuration and initialization)</li>
</ol>
<ul>
<li>è¼‰å…¥æ‡‰ç”¨ç¨‹å¼ç¢¼</li>
<li>åˆå§‹åŒ–å’Œé…ç½®æ¡†æ¶å…ƒä»¶</li>
</ul>
<ol start="2">
<li>serving phase</li>
</ol>
<ul>
<li>åŸ·è¡Œè¨±å¤šç¨ç«‹çš„Web Request</li>
</ul>
<p>è€Œæˆ‘å€‘å…ˆæš«æ™‚èšç„¦åœ¨serving phaseä¸Šï¼Œå› ç‚ºç¶²é è«‹æ±‚(Web Request)æ˜¯ç¨ç«‹çš„ï¼Œå› æ­¤æœå‹™éšæ®µå¯ä»¥è¢«è¦–ç‚ºä¸€æ¢æµæ°´ç·šï¼Œæˆ‘å€‘å°‡è«‹æ±‚è³‡æ–™ï¼ˆraw materialï¼‰æ”¾åœ¨è¼¸é€å¸¶ä¸Šï¼Œä¸­é–“é€šéè¨±å¤šå·¥ä½œç«™ï¼Œä¸¦åœ¨æœ€å¾Œå¾—åˆ°å›æ‡‰</p>
<p>è©¦æƒ³åƒï¼Œè¦æ€éº¼è®“æµæ°´ç·šæé«˜æ•ˆç‡å‘¢ï¼Ÿå°±è¦æŠŠå·¥ä½œç«™æ‹‰å‡ºä¾†ï¼Œçœ‹æœ‰ä»€éº¼å¯ä»¥æ”¹é€²çš„ï¼Œè€ŒæŠ½è±¡å±¤ï¼Œå°±å¯ä»¥æƒ³åƒæˆæµæ°´ç·šä¸Šçš„å·¥ä½œç«™ã€‚æŠŠå·¥ä½œç«™æ‹‰å‡ºä¾†çš„é€™å€‹éç¨‹ï¼ˆextraction of abstraction layersï¼‰ï¼Œä¹Ÿå¯ä»¥ç¨±ä½œåˆ†å±¤ï¼ˆlayeringï¼‰ï¼Œè€Œé€™å€‹æ¶æ§‹æ¨¡å¼å¯ä»¥æé«˜è»Ÿé«”çš„å“è³ªã€‚</p>
<p>è€Œä¸€å€‹æŠ½è±¡å±¤æ‡‰è©²è¦æœ‰ä»€éº¼å±¬æ€§å‘¢ï¼Ÿ</p>
<ul>
<li><a href="https://zh.wikipedia.org/wiki/%E5%8D%95%E4%B8%80%E5%8A%9F%E8%83%BD%E5%8E%9F%E5%88%99">å–®ä¸€è·è²¬</a>ï¼ˆè·è²¬å¯ä»¥å¾ˆå»£æ³›ï¼Œä½†ä¸æ‡‰é‡è¤‡ï¼Œéµå¾ª<a href="https://zh.wikipedia.org/wiki/%E5%85%B3%E6%B3%A8%E7%82%B9%E5%88%86%E7%A6%BB">é—œæ³¨é»åˆ†é›¢</a>ï¼‰</li>
<li>å„å±¤æ‡‰è©²æ˜¯é¬†æ•£è€¦åˆçš„ï¼Œä¸¦ä¸”æ²’æœ‰å¾ªç’°æˆ–åå‘ä¾è³´é—œä¿‚ã€‚<ul>
<li>å¦‚æœæˆ‘å€‘å¾ä¸Šåˆ°ä¸‹ç¹ªè£½è«‹æ±‚è™•ç†æµç¨‹ï¼Œå±¤é–“é€£æ¥æ°¸é ä¸æ‡‰è©²å‘ä¸Šï¼Œä¸¦ä¸”æˆ‘å€‘æ‡‰è©²ç›¡é‡æ¸›å°‘å±¤é–“é€£æ¥æ•¸ã€‚ï¼ˆå¯ä»¥æƒ³åƒæˆæµæ°´ç·šï¼Œå¾ˆå°‘æœƒæµåˆ°ä¸€åŠå€’å›å»åšï¼‰</li>
</ul>
</li>
<li>æŠ½åƒä¸æ‡‰æ´©æ¼å…¶å…§éƒ¨çµæ§‹<ul>
<li>æå–æŠ½è±¡çš„ä¸»è¦æƒ³æ³•æ˜¯å°‡ä»‹é¢èˆ‡å¯¦ä½œåˆ†é›¢</li>
</ul>
</li>
<li>æ‡‰è©²å¯ä»¥å–®ç¨æå–æŠ½è±¡å±¤</li>
</ul>
<p>å¦‚æœéµå¾ªä»¥ä¸Šçš„é€™äº›åŸå‰‡ï¼Œå¯ä»¥è®“é–‹ç™¼è€…æ˜“æ–¼é‡æ§‹ã€debugå’Œæ¸¬è©¦ã€‚</p>
<p>åœ¨ç¾å¯¦ç”Ÿæ´»ä¸­ï¼Œè¡¡é‡æ•ˆç‡çš„æ¨™æº–æ˜¯é€Ÿåº¦ï¼› åœ¨è»Ÿé«”é–‹ç™¼ä¸­ï¼Œé€Ÿåº¦ä¹Ÿæ˜¯é—œéµâ€”â€”ç™¼å¸ƒæ–°åŠŸèƒ½çš„é€Ÿåº¦ï¼Œè€Œè¦æ€éº¼èƒ½å¤ å¿«é€Ÿåœ°ç™¼å¸ƒæ–°åŠŸèƒ½ï¼Ÿé€™å–æ±ºæ–¼è¨±å¤šå› ç´ ï¼Œè€Œæœ€ä¸»è¦çš„å› ç´ å°±æ˜¯ç¨‹å¼ç¢¼çš„<strong>å¯ç¶­è­·æ€§</strong>ï¼Œå…¶ä¸­åŒ…æ‹¬ï¼šæ·»åŠ æ–°åŠŸèƒ½å’Œå°ç¾æœ‰åŠŸèƒ½é€²è¡Œæ›´æ”¹ã€é™¤éŒ¯çš„å®¹æ˜“ç¨‹åº¦ï¼Œæ‡‰ç”¨è»Ÿé«”è¨­è¨ˆæ¨¡å¼å’Œæå–æŠ½è±¡å±¤æ˜¯ä¿æŒé«˜å¯ç¶­è­·æ€§çš„å…©å€‹ä¸»è¦å·¥å…·ã€‚</p>
<p>è€ŒæŠ½è±¡å±¤ä¸æ˜¯è¶Šå¤šè¶Šå¥½ï¼Œä¸»è¦çœ‹æ•´å€‹æ‡‰ç”¨ç¨‹å¼çš„æ¶æ§‹ï¼ŒåŸºæœ¬çš„Railsåƒ…åŒ…å«äº†ä¸‰å€‹æŠ½è±¡å±¤æ¦‚å¿µï¼šModelã€Controllerã€View(ä¹Ÿå°±æ˜¯æˆ‘å€‘æ‰€å¸¸èªªçš„MVC)</p>
<p>è‡³æ–¼è¦å¦‚ä½•é€æ­¥å¼•å…¥æ–°çš„æŠ½è±¡å±¤å‘¢ï¼Ÿ</p>
<p>å¯ä»¥åƒè€ƒæœ¬æ›¸ï¼š<a href="https://www.packtpub.com/product/layered-design-for-ruby-on-rails-applications/9781801813785">Layered Design for Ruby on Rails Applications</a></p>
<p>æœªä¾†ä¹Ÿæœƒå°‡æœ¬æ›¸æåˆ°çš„æœ‰è¶£çš„æ¦‚å¿µæ•´ç†åˆ†äº«ï¼Œä»Šå¤©å°±å…ˆåˆ°é€™è£¡Ù©(â—Ë™â–¿Ë™â—)Û¶<br>æœ¬ç¯‡æ–‡ç« æ˜¯æˆ‘ç”±ä»¥ä¸‹åƒè€ƒè³‡æ–™æ•´ç†è€Œæˆï¼Œå¦‚æœæ‚¨æœ‰èˆˆè¶£äº†è§£æ›´å¤šï¼Œè«‹åƒè€ƒï¼š</p>
<h3 id="åƒè€ƒè³‡æ–™ï¼š"><a href="#åƒè€ƒè³‡æ–™ï¼š" class="headerlink" title="åƒè€ƒè³‡æ–™ï¼š"></a>åƒè€ƒè³‡æ–™ï¼š</h3><blockquote>
<p><a href="https://www.tenlong.com.tw/products/9781801813785">Layered Design for Ruby on Rails Applications</a>**</p>
</blockquote>
<blockquote>
<p><a href="https://zh.wikipedia.org/wiki/Wikipedia:%E9%A6%96%E9%A1%B5">Wiki</a></p>
</blockquote>
]]></content>
      <categories>
        <category>Ruby on Rails</category>
      </categories>
      <tags>
        <tag>rails</tag>
        <tag>abstraction layer</tag>
        <tag>ruby</tag>
        <tag>layered design</tag>
      </tags>
  </entry>
  <entry>
    <title>LeetcodeæŒ‘æˆ°: Day13 search insert position</title>
    <url>/2024/02/11/search-insert-position/</url>
    <content><![CDATA[<p>ç‚ºäº†åŠ å¼·è‡ªå·±çš„ç¨‹å¼èƒ½åŠ›ï¼Œå› æ­¤é–‹å§‹è¨˜éŒ„æ¯å¤©åˆ·leetcodeçš„è§£æ³•+èªªæ˜ï¼Œæœƒç”¨<code>Ruby</code>ã€<code>python</code>å’Œ<code>JavaScript</code>ä¸‰å€‹èªè¨€ä¾†è§£é¡Œï¼Œä»Šå¤©æ˜¯ç¬¬åä¸‰å¤©ï¼Œè®“æˆ‘å€‘é–‹å§‹å§ï¼</p>
<img src="/images/search-insert-position/1.png">

<p>é¡Œç›®ä¾†æºï¼š<a href="https://leetcode.com/problems/search-insert-position/description/">leetcode</a></p>
<p>ä¸€é–‹å§‹çœ‹åˆ°é¡Œç›®åŸæœ¬æƒ³èªªï¼ŒæŠŠæ•¸å­—æ’å…¥é™£åˆ—ä¸­æ’åºå¾Œå†è¿”é‚„ç´¢å¼•å€¼å°±å¥½ï¼Œä½†å¯¦éš›åŸ·è¡Œå»ç™¼ç¾æ•ˆç‡å¾ˆå·®Ê˜â€¿Ê˜ã€‚</p>
<p>å¾Œä¾†æƒ³åˆ°å¯ä»¥ä½¿ç”¨äºŒåˆ†æ³•ï¼Œå…ˆå–ä¸­é–“çš„æ•¸å­—èˆ‡targetæ¯”è¼ƒï¼Œåˆ†æˆå…©é‚Šï¼Œé€™æ¨£æœ€å¤šå°±åªè¦æ¯”è¼ƒé™£åˆ—ä¸€åŠçš„æ•¸é‡å°±å¥½ï¼Œæœƒæ¯”è¼ƒæœ‰æ•ˆç‡ï¼Œå°±åƒæ˜¯çŒœæ•¸å­—ï¼Œå¦‚æœä¸€é–‹å§‹å°±å°åŠçŒœï¼ŒçŒœåˆ°æ•¸å­—çš„æ©Ÿç‡ä¹Ÿæœƒå¿«å¾ˆå¤šã€‚</p>
<h2 id="Ruby"><a href="#Ruby" class="headerlink" title="Ruby"></a>Ruby</h2><figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">search_insert</span>(<span class="hljs-params">nums, target</span>)<br>  left, right = <span class="hljs-number">0</span>, nums.length - <span class="hljs-number">1</span><br><br>  <span class="hljs-keyword">while</span> left &lt;= right<br>    mid = (left + right) / <span class="hljs-number">2</span><br>    <span class="hljs-keyword">if</span> nums[mid] == target<br>      <span class="hljs-keyword">return</span> mid<br>    <span class="hljs-keyword">elsif</span> nums[mid] &lt; target<br>      left = mid + <span class="hljs-number">1</span><br>    <span class="hljs-keyword">else</span><br>      right = mid - <span class="hljs-number">1</span><br>    <span class="hljs-keyword">end</span><br>  <span class="hljs-keyword">end</span><br><br>  <span class="hljs-keyword">return</span> left<br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure>
<p>é€™è£¡çš„<code>left</code>æ˜¯æŒ‡é™£åˆ—çš„èµ·å§‹ç´¢å¼•å€¼ï¼Œç‚º<code>0</code>ï¼Œ<code>right</code>æ˜¯é™£åˆ—çš„çµæŸå€¼ï¼Œç‚º<code>nums.length - 1</code>ï¼Œ<code>mid</code>å°±æ˜¯ä¸­é–“çš„ç´¢å¼•å€¼<code>(left+right)/2</code></p>
<p>å¦‚æœç…§æ’åºçœ‹å¯ä»¥é€™æ¨£ç†è§£ï¼š<br><code>left</code>,<code>mid</code>,<code>right</code></p>
<p>ä¸€é–‹å§‹å…ˆçŒœä¸­é–“ï¼Œå¦‚æœé‹æ°£å¥½å°±æ˜¯ä¸­é–“å€¼ï¼Œå¯ç›´æ¥è¿”é‚„<code>mid</code>ã€‚</p>
<p>å¦‚æœ<code>target</code>æ¯”è¼ƒå¤§ï¼Œå³ç¸®å°<code>left</code>çš„ç¯„åœç‚º<code>mid + 1</code>ï¼Œæ¯”è¼ƒæ•¸å­—çš„ç¯„åœä¹Ÿåˆ°äº†å³åŠé‚Šï¼Œæ¥è‘—æœƒç¹¼çºŒæ–°çš„è¿´åœˆï¼Œå†ç¹¼çºŒå°åŠåˆ‡å–æ–°çš„<code>mid</code>å€¼æ¯”è¼ƒã€‚</p>
<p>å¦‚æœ<code>target</code>æ¯”è¼ƒå°ï¼Œå‰‡ç¸®å°<code>right</code>çš„ç¯„åœç‚º<code>mid - 1</code>ï¼Œæ¯”è¼ƒæ•¸å­—åœ¨å·¦åŠé‚Šï¼Œç¹¼çºŒæ–°çš„è¿´åœˆï¼Œå†ç¹¼çºŒå°åŠåˆ‡å–æ–°çš„<code>mid</code>å€¼æ¯”è¼ƒã€‚</p>
<p>ç›´åˆ°<code>nums[mid] = target</code>ï¼Œå³æœƒè¿”é‚„<code>mid</code>ï¼Œä¹Ÿå°±æ˜¯ç´¢å¼•å€¼ã€‚</p>
<h2 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h2><figure class="highlight py"><table><tr><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">searchInsert</span>(<span class="hljs-params">self, nums, target</span>):<br>        left, right = <span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(nums) - <span class="hljs-number">1</span><br><br>        <span class="hljs-keyword">while</span> left &lt;= right:<br>            mid = (left + right) // <span class="hljs-number">2</span><br>            <span class="hljs-keyword">if</span> nums[mid] == target:<br>                <span class="hljs-keyword">return</span> mid<br>            <span class="hljs-keyword">elif</span> nums[mid] &lt; target:<br>                left = mid + <span class="hljs-number">1</span><br>            <span class="hljs-keyword">else</span>:<br>                right = mid - <span class="hljs-number">1</span><br><br>        <span class="hljs-keyword">return</span> left<br></code></pre></td></tr></table></figure>
<p><code>python</code>ä¹Ÿæ˜¯ä¸€æ¨£é‚è¼¯ï¼Œåªæ˜¯éƒ¨åˆ†å¯«æ³•ä¸åŒ</p>
<h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> searchInsert = <span class="hljs-keyword">function</span>(<span class="hljs-params">nums, target</span>) &#123;<br>    <span class="hljs-keyword">let</span> left = <span class="hljs-number">0</span>, right = nums.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>;<br>  <br>    <span class="hljs-keyword">while</span> (left &lt;= right) &#123;<br>      <span class="hljs-keyword">let</span> mid = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>((left + right) / <span class="hljs-number">2</span>);<br>      <span class="hljs-keyword">if</span> (nums[mid] == target) &#123;<br>        <span class="hljs-keyword">return</span> mid;<br>      &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (nums[mid] &lt; target) &#123;<br>        left = mid + <span class="hljs-number">1</span>;<br>      &#125; <span class="hljs-keyword">else</span> &#123;<br>        right = mid - <span class="hljs-number">1</span>;<br>      &#125;<br>    &#125;<br>  <br>    <span class="hljs-keyword">return</span> left;<br>  &#125;;<br></code></pre></td></tr></table></figure>
<p><code>js</code>ä¹Ÿæ˜¯ç›¸åŒï¼Œä¸ééœ€è¦æ·»åŠ <code>Math.floor</code>è®“<code>mid</code>å€¼ç‚ºç„¡æ¢ä»¶æ¨å»</p>
<p>é€™å°±æ˜¯ä»Šå¤©çš„è§£é¡Œäº†ï½å…¶å¯¦ä¸ç®¡ä»€éº¼é¡Œç›®éƒ½å¯ä»¥ç”¨æœ€ç¬¨çš„æ–¹æ³•è§£ï¼Œä½†æ˜¯å¦‚æœåœ¨è®€é¡Œç›®æ™‚å¤šæƒ³ä¸€é»ï¼Œå°±èƒ½è®“ç¨‹å¼ç¢¼æ•ˆç‡æ›´é«˜ï¼æ¥ä¸‹ä¾†å¹¾å¤©ç¹¼çºŒåŠ æ²¹ğŸ™Œ</p>
]]></content>
      <categories>
        <category>leetcode</category>
      </categories>
      <tags>
        <tag>Ruby</tag>
        <tag>Python</tag>
        <tag>JavaScript</tag>
        <tag>leetcode</tag>
        <tag>search insert position</tag>
      </tags>
  </entry>
  <entry>
    <title>Ruby on Rails: ç”¨Simple Calendarè¼•é¬†æ‰“é€ å®¢è£½åŒ–æœˆæ›†</title>
    <url>/2024/01/14/simple-calendar/</url>
    <content><![CDATA[<style>


.em-div{
border:2px #d4a373 solid;
margin:5px;
padding:10px 2px 2px 2px;
border-style:dashed;
}
</style>


<img src="/images/simple-calendar/banner.avif">

<p>åœ–ç‰‡ä¾†æºï¼š<a href="https://unsplash.com/photos/black-marker-on-notebook-zni0zgb3bkQ">Unsplash-EstÃ©e Janssens</a><br>åœ¨è£½ä½œå°ˆæ¡ˆçš„æ™‚å€™ç™¼ç¾å¯¶è—gemå¥—ä»¶<a href="https://github.com/excid3/simple_calendar">simple_calendar</a>(ï¾‰&gt;Ï‰&lt;)ï¾‰ï¼Œ<br>å¯ä»¥è¼•é¬†åœ°è£½ä½œæœˆæ›†ï¼Œè€Œä¸”å®¢è£½åŒ–ç¨‹åº¦é«˜ï¼Œå¯ä»¥è‡ªå®šç¾©CSSæ¨£å¼ï¼Œ<br>é€™æ˜¯æˆ‘é€™æ¬¡åšå‡ºä¾†çš„æœˆæ›†ï¼š<br><img src="/images/simple-calendar/5.png"></p>
<ul>
<li>æœ¬æ¬¡é¸æ“‡ä½¿ç”¨<a href="%5Bhttps://tailwindcss.com/%5D(https://tailwindcss.com/)">tailwind</a> CSSæ¡†æ¶ï¼Œå®‰è£æ–¹æ³•å¯ä»¥åƒè€ƒ<a href="https://tailwindcss.com/docs/installation">tailwind installaion</a></li>
<li>äº¦å¯ä»¥ä½¿ç”¨bootstrapï¼Œå®‰è£è«‹åƒè€ƒï¼š<a href="%5Bhttps://getbootstrap.com/%5D(https://getbootstrap.com/)">bootstrap</a></li>
</ul>
<hr>
<h3 id="å®‰è£simple-calendar"><a href="#å®‰è£simple-calendar" class="headerlink" title="å®‰è£simple_calendar"></a>å®‰è£<a href="https://github.com/excid3/simple_calendar">simple_calendar</a></h3><figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-variable">$ </span>bundle add simple_calendar<br></code></pre></td></tr></table></figure>

<p>è²¼ä¸Šå¾ŒåŸ·è¡Œbundle iå³å¯</p>
<h3 id="è£½ä½œæ–°å¢æœƒè­°çš„CRUD"><a href="#è£½ä½œæ–°å¢æœƒè­°çš„CRUD" class="headerlink" title="è£½ä½œæ–°å¢æœƒè­°çš„CRUD"></a>è£½ä½œæ–°å¢æœƒè­°çš„CRUD</h3><p>å› ç‚ºdemoæ‰€ä»¥ä½¿ç”¨meetingï¼Œå¯ä»¥è‡ªç”±é¸æ“‡åç¨±ï¼Œmeetingæœƒæœ‰é–‹å§‹æ™‚é–“ï¼†çµæŸæ™‚é–“ï¼Œæ‰€ä»¥ä¹Ÿå¢åŠ <code>start_time</code> &amp; <code>end_time</code>çš„column</p>
<p>å› ç‚ºæ–°å¢æœƒè­°ä¸æ˜¯æœ¬æ¬¡demoçš„é‡é»ğŸ¤£ä½¿ç”¨scaffoldæœƒå¹«å¿™è£½ä½œCRUD</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-comment">#terminal</span><br>rails g scaffold <span class="hljs-title class_">Consultation</span> title <span class="hljs-symbol">description:</span>text <span class="hljs-symbol">start_time:</span>datetime e<br><span class="hljs-symbol">nd_time:</span>datetime<br></code></pre></td></tr></table></figure>

<p>å®Œæˆå¾ŒåŸ·è¡Œ<code>rails db:migrate</code></p>
<h3 id="å»ºç«‹ä¸»é "><a href="#å»ºç«‹ä¸»é " class="headerlink" title="å»ºç«‹ä¸»é "></a>å»ºç«‹ä¸»é </h3><figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-variable">$ </span>rails g controller pages home<br></code></pre></td></tr></table></figure>

<h3 id="åœ¨ä¸»é è‡ªå®šç¾©æ–¹æ³•"><a href="#åœ¨ä¸»é è‡ªå®šç¾©æ–¹æ³•" class="headerlink" title="åœ¨ä¸»é è‡ªå®šç¾©æ–¹æ³•"></a>åœ¨ä¸»é è‡ªå®šç¾©æ–¹æ³•</h3><figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-comment">#home.html.erb</span><br>&lt;%= month_calendar <span class="hljs-keyword">do</span> |<span class="hljs-params">date</span>| %&gt;<br>  &lt;%= date %&gt;<br>&lt;% <span class="hljs-keyword">end</span> %&gt;<br></code></pre></td></tr></table></figure>
<p>é™¤äº†Month Calendarï¼Œå¦å¤–é‚„æœ‰Week Calendarã€Custom Length Calendar<br>å®¢è£½åŒ–ç¨‹åº¦å¾ˆé«˜ï¼Œå¯ä»¥ä¾è‡ªå·±éœ€è¦é¸æ“‡</p>
<p>é–‹å•Ÿ <code>rails s</code>å°±æœƒå‡ºç¾æœˆæ›†</p>
<img src="/images/simple-calendar/2.png">

<div class="em-div">
è£œå……ï¼šsimple_calendar é è¨­é–‹å§‹æ™‚é–“çš„Model columnæ˜¯start_timeï¼ŒçµæŸæ™‚é–“æ˜¯end_timeï¼Œ
å¦‚æœæ˜¯åˆ¥çš„columnåç¨±ï¼Œæœ‰å…©å€‹æ–¹æ³•å¯ä»¥æ”¹è®Šï¼š
</div>

<ol>
<li><p>åœ¨ç¨‹å¼ç¢¼ä¸­åŠ å…¥attributeï¼š</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby">&lt;%= month_calendar(<span class="hljs-symbol">attribute:</span> <span class="hljs-symbol">:</span>ä½ çš„columnåç¨±, <span class="hljs-symbol">end_attribute:</span> <span class="hljs-symbol">:</span>ä½ çš„columnåç¨±) <span class="hljs-keyword">do</span> |<span class="hljs-params">date</span>| %&gt;<br>  &lt;%= date %&gt;<br>&lt;% <span class="hljs-keyword">end</span> %&gt;<br></code></pre></td></tr></table></figure>
</li>
<li><p>åˆ°modelå®šç¾©</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">start_time</span><br>  start_date <span class="hljs-comment">#å‡å¦‚ä½ çš„çµæŸæ™‚é–“åç¨±ç‚ºstart_date</span><br><span class="hljs-keyword">end</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">end_time</span><br>  end_date <span class="hljs-comment">#å‡å¦‚ä½ çš„çµæŸæ™‚é–“åç¨±ç‚ºend_date</span><br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure></li>
</ol>
<h3 id="å°‡MeetingåŠ å…¥æœˆæ›†è£¡"><a href="#å°‡MeetingåŠ å…¥æœˆæ›†è£¡" class="headerlink" title="å°‡MeetingåŠ å…¥æœˆæ›†è£¡"></a>å°‡<code>Meeting</code>åŠ å…¥æœˆæ›†è£¡</h3><p>åªè¦æ”¹å¯«å‰›å‰›çš„ç¨‹å¼ç¢¼å³å¯</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-comment">#home.html.erb</span><br>&lt;%= month_calendar(<span class="hljs-symbol">events:</span> <span class="hljs-variable">@meetings</span>) <span class="hljs-keyword">do</span> |<span class="hljs-params">date</span>| %&gt;<br>&lt;%= date %&gt;<br>&lt;% <span class="hljs-keyword">end</span> %&gt;<br></code></pre></td></tr></table></figure>

<h3 id="å®šç¾©-meetings"><a href="#å®šç¾©-meetings" class="headerlink" title="å®šç¾©@meetings"></a>å®šç¾©<code>@meetings</code></h3><figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-comment">#pages_controller.rb</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">home</span><br>    <span class="hljs-variable">@meetings</span> = <span class="hljs-title class_">Meeting</span>.where(<br>      <span class="hljs-symbol">star_time:</span> <span class="hljs-title class_">Time</span>.now.beginning_of_month.beginning_of_week..<span class="hljs-title class_">Time</span>.now.end_of_month.end_of_week<br>    )<br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure>

<p>ä¾†èªªæ˜ä¸€ä¸‹é€™æ®µç¨‹å¼ç¢¼çš„æ„æ€ï¼š</p>
<div class="em-div">


<p>ä½¿ç”¨<code>where</code>æ–¹æ³•ä¾†æª¢ç´¢ç¬¦åˆç‰¹å®šæ¢ä»¶å°è±¡ï¼Œ<br>æ¢ä»¶ç‚ºï¼šæŒ‡å®šæœƒè­°çš„é–‹å§‹æ™‚é–“æ‡‰è©²åœ¨æœ¬æœˆçš„é–‹å§‹åˆ°çµæŸä¹‹é–“ï¼Œ<br>ä¸¦ä¸”æ˜¯åœ¨ä¸€å‘¨çš„é–‹å§‹åˆ°çµæŸä¹‹é–“ï¼Œé€™æ¨£å°±å¯ä»¥å¾—åˆ°ç•¶å‰æœˆä»½å…§çš„æœƒè­°ã€‚</p>
<p>ç°¡å–®ä¾†èªªï¼Œæˆ‘å€‘ä½¿ç”¨<code>where</code>æ–¹æ³•ï¼Œç²å–ç•¶å‰æœˆä»½å…§çš„æœƒè­°ï¼Œä¸¦å°‡é€™äº›æœƒè­°å­˜å„²åœ¨ <code>@meetings</code> è®Šæ•¸ä¸­ï¼Œä»¥ä¾¿åœ¨<code>view</code>ä¸­é¡¯ç¤ºã€‚</p>
</div>


<div class="em-div">

<p>å¦‚æœä½¿ç”¨SQLèªæ³•ï¼Œï¼Œå…¶å¯¦æ›´å¥½ç†è§£</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><code class="hljs SQL"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> meetings<br><span class="hljs-keyword">WHERE</span> start_time <span class="hljs-keyword">BETWEEN</span> <span class="hljs-string">&#x27;é–‹å§‹æ™‚é–“&#x27;</span> <span class="hljs-keyword">AND</span> <span class="hljs-string">&#x27;çµæŸæ™‚é–“&#x27;</span>;<br></code></pre></td></tr></table></figure>

<p>ã€Œé–‹å§‹æ™‚é–“ã€ï¼š<code>Time.now.beginning_of_month.beginning_of_week</code> ç”Ÿæˆçš„æ—¥æœŸæ™‚é–“ï¼Œ<br>ã€ŒçµæŸæ™‚é–“ã€  <code>Time.now.end_of_month.end_of_week</code> ç”Ÿæˆçš„æ—¥æœŸæ™‚é–“ï¼Œ<br>é€™å€‹æŸ¥è©¢æ‰¾æœƒæª¢ç´¢æ‰€æœ‰åœ¨ç•¶å‰æœˆä»½çš„ç¬¬ä¸€é€±çš„é–‹å§‹æ™‚é–“åˆ°ç•¶å‰æœˆä»½çš„æœ€å¾Œä¸€é€±çš„çµæŸæ™‚é–“ä¹‹é–“çš„æœƒè­°ã€‚</p>
</div>


<p>é€™æ™‚å€™ç¶²é çš„ç•«é¢æœƒåƒé€™æ¨£ï¼š<br><img src="/images/simple-calendar/2.png"></p>
<p>ç‚ºä»€éº¼é‚„æ˜¯ä¸€æ¨£ï¼Ÿå› ç‚ºMeetingæ²’æœ‰ä»»ä½•è³‡æ–™d(&#96;ï½¥âˆ€ï½¥)b</p>
<h3 id="åœ¨Meetingè£¡å¢åŠ ä¸€äº›è³‡æ–™"><a href="#åœ¨Meetingè£¡å¢åŠ ä¸€äº›è³‡æ–™" class="headerlink" title="åœ¨Meetingè£¡å¢åŠ ä¸€äº›è³‡æ–™"></a>åœ¨Meetingè£¡å¢åŠ ä¸€äº›è³‡æ–™</h3><p>åˆ°<code>http://127.0.0.1:3000/meetings</code>ï¼Œé»é¸createæ–°å¢<br>æ–°å¢æ–‡å®Œç•¢ä¹‹å¾Œï¼Œå›åˆ°<code>home.html.erb</code>ï¼Œä½¿ç”¨each doæ–¹æ³•ï¼Œå°‡meetingsé¡¯ç¤º</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-comment">#home.html.erb</span><br>&lt;%= month_calendar(<span class="hljs-symbol">events:</span> <span class="hljs-variable">@meetings</span>) <span class="hljs-keyword">do</span> |<span class="hljs-params">date, meetings</span>| %&gt;<br>  &lt;%= date %&gt;<br>  &lt;% meetings.each <span class="hljs-keyword">do</span> |<span class="hljs-params">meeting</span>| %&gt;<br>    &lt;%= link_to meeting.title, meeting %&gt;<br>    &lt;%= meeting.description %&gt;<br>  &lt;% <span class="hljs-keyword">end</span> %&gt;<br>&lt;% <span class="hljs-keyword">end</span> %&gt;<br></code></pre></td></tr></table></figure>

<div class="em-div">

<p>è£œå……ï¼šé€™è£¡éœ€è¦è¼¸å…¥å…©å€‹è³‡æ–™ï¼Œ<br><code>&lt;%= month_calendar(events: @meetings) do |date, meetings| %&gt;</code><br>simple_calendarå·²ç¶“å¹«å¿™å¯«å¥½æ–¹æ³•ï¼Œmeetingsæœƒå¡åˆ°ç›¸å°æ‡‰çš„æ™‚é–“å…§ï¼Œ<br>å¦‚æœæ²’æœ‰å¯«çš„è©±meetingæœƒé‡è¤‡å°åˆ°æ¯ä¸€å¤©çš„è¡¨æ ¼å…§</p>
</div>

<p>é€™æ™‚ç•«é¢å°±æœƒåƒé€™æ¨£ï¼š<br><img src="/images/simple-calendar/3.png"></p>
<p>åšåˆ°é€™è£¡ï¼ŒåŸºæœ¬ä¸Šæ²’æœ‰æ¨£å¼ğŸ¤£ï¼Œé™¤äº†å¯ä»¥åœ¨<code>home.html.erb</code>å…§ç·¨è¼¯æ¨£å¼å¤–ï¼Œ<br>å¦å¤–å¯ä»¥ä½¿ç”¨ <a href="https://github.com/excid3/simple_calendar">simple_calendar</a>å…§çš„å®¢è£½åŒ–æ¨£å¼</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-variable">$ </span>rails g <span class="hljs-symbol">simple_calendar:</span>views<br></code></pre></td></tr></table></figure>

<p>é€™æœƒåœ¨ app&#x2F;views ä¸­ç”¢ç”Ÿä¸€å€‹åç‚º simple_calendar çš„è³‡æ–™å¤¾ï¼Œ<br>å¯ä»¥æ ¹æ“šè‡ªå·±çš„æ„é¡˜é€²è¡Œç·¨è¼¯ã€‚<br>åŸ·è¡Œä¹‹å¾Œå¯ä»¥çœ‹åˆ°ä»–å¹«å¿™é•·å‡ºäº†é€™äº›è³‡æ–™ï¼š</p>
<img src="/images/simple-calendar/4.png">

<p>å¯ä»¥åˆ°application.cssåšä¸€äº›è‡ªå®šç¾©çš„ç·¨è¼¯</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-comment">#application.css</span><br>.simple-calendar &#123;<br>  .day &#123;&#125;<br><br>  .wday-<span class="hljs-number">0</span> &#123;&#125;<br>  .wday-<span class="hljs-number">1</span> &#123;&#125;<br>  .wday-<span class="hljs-number">2</span> &#123;&#125;<br>  .wday-<span class="hljs-number">3</span> &#123;&#125;<br>  .wday-<span class="hljs-number">4</span> &#123;&#125;<br>  .wday-<span class="hljs-number">5</span> &#123;&#125;<br>  .wday-<span class="hljs-number">6</span> &#123;&#125;<br><br>  .today &#123;&#125;<br>  .past &#123;&#125;<br>  .future &#123;&#125;<br><br>  .start-date &#123;&#125;<br><br>  .prev-month &#123;&#125;<br>  .<span class="hljs-keyword">next</span>-month &#123; &#125;<br>  .current-month &#123;&#125;<br><br>  .has-events &#123;&#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥åˆ°simple_calendarå¹«å¿™é•·å‡ºä¾†app&#x2F;views&#x2F;simple_calendarå…§èª¿æ•´é è¨­çš„æ¨£å¼<br>æˆ‘æ˜¯é¸æ“‡ç›´æ¥åˆ°<code>_month_calendar.html.erb</code>ä¿®æ”¹ï¼Œæœ€å¾Œæˆæœå¦‚ä¸‹ï¼Œæ‡‰è©²æœ‰è®Šå¾—å¥½çœ‹è¨±å¤šğŸ¤£<br><img src="/images/simple-calendar/5.png"><br>æˆ‘åšäº†é€™äº›ä¿®æ”¹ï¼š</p>
<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-comment">#_month_calendar.html.erb</span><br>&lt;div <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;container mx-auto mt-10&quot;</span>&gt;<br>  &lt;div <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;wrapper bg-white rounded shadow w-full&quot;</span>&gt;<br>    &lt;div <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;simple-calendar&quot;</span>&gt;<br>      &lt;nav&gt;<br>        &lt;div <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;header flex justify-between border-b p-2&quot;</span>&gt;<br>          &lt;span <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;text-lg font-bold&quot;</span>&gt;<br>            &lt;time datetime=<span class="hljs-string">&quot;&lt;%= start_date.strftime(&#x27;%Y-%m&#x27;) %&gt;&quot;</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;calendar-title&quot;</span>&gt;&lt;%= t(<span class="hljs-string">&#x27;date.month_names&#x27;</span>)[start_date.month] %&gt; &lt;%= start_date.year %&gt;&lt;<span class="hljs-regexp">/time&gt;</span><br><span class="hljs-regexp">          &lt;/span</span>&gt;<br><br>          &lt;div <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;buttons&quot;</span>&gt;<br>            &lt;%= link_to t(<span class="hljs-string">&#x27;simple_calendar.today&#x27;</span>, <span class="hljs-symbol">default:</span> <span class="hljs-string">&#x27;Today&#x27;</span>), calendar.url_for_today_view %&gt;<br><br>            &lt;%= link_to calendar.url_for_previous_view <span class="hljs-keyword">do</span> %&gt;<br>              &lt;button <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;p-1&quot;</span>&gt;<br>                &lt;svg width=<span class="hljs-string">&quot;1em&quot;</span> fill=<span class="hljs-string">&quot;gray&quot;</span> height=<span class="hljs-string">&quot;1em&quot;</span> viewBox=<span class="hljs-string">&quot;0 0 16 16&quot;</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;bi bi-arrow-left-circle&quot;</span> fill=<span class="hljs-string">&quot;currentColor&quot;</span> xmlns=<span class="hljs-string">&quot;http://www.w3.org/2000/svg&quot;</span>&gt;<br>                  &lt;path fill-rule=<span class="hljs-string">&quot;evenodd&quot;</span> d=<span class="hljs-string">&quot;M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z&quot;</span>/&gt;<br>                  &lt;path fill-rule=<span class="hljs-string">&quot;evenodd&quot;</span> d=<span class="hljs-string">&quot;M8.354 11.354a.5.5 0 0 0 0-.708L5.707 8l2.647-2.646a.5.5 0 1 0-.708-.708l-3 3a.5.5 0 0 0 0 .708l3 3a.5.5 0 0 0 .708 0z&quot;</span>/&gt;<br>                  &lt;path fill-rule=<span class="hljs-string">&quot;evenodd&quot;</span> d=<span class="hljs-string">&quot;M11.5 8a.5.5 0 0 0-.5-.5H6a.5.5 0 0 0 0 1h5a.5.5 0 0 0 .5-.5z&quot;</span>/&gt;<br>                &lt;<span class="hljs-regexp">/svg&gt;</span><br><span class="hljs-regexp">              &lt;/button</span>&gt;<br>            &lt;% <span class="hljs-keyword">end</span> %&gt;<br><br>            &lt;%= link_to calendar.url_for_next_view <span class="hljs-keyword">do</span> %&gt;<br>              &lt;button <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;p-1&quot;</span>&gt;<br>                &lt;svg width=<span class="hljs-string">&quot;1em&quot;</span> fill=<span class="hljs-string">&quot;gray&quot;</span> height=<span class="hljs-string">&quot;1em&quot;</span> viewBox=<span class="hljs-string">&quot;0 0 16 16&quot;</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;bi bi-arrow-right-circle&quot;</span> fill=<span class="hljs-string">&quot;currentColor&quot;</span> xmlns=<span class="hljs-string">&quot;http://www.w3.org/2000/svg&quot;</span>&gt;<br>                  &lt;path fill-rule=<span class="hljs-string">&quot;evenodd&quot;</span> d=<span class="hljs-string">&quot;M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z&quot;</span>/&gt;<br>                  &lt;path fill-rule=<span class="hljs-string">&quot;evenodd&quot;</span> d=<span class="hljs-string">&quot;M7.646 11.354a.5.5 0 0 1 0-.708L10.293 8 7.646 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0z&quot;</span>/&gt;<br>                  &lt;path fill-rule=<span class="hljs-string">&quot;evenodd&quot;</span> d=<span class="hljs-string">&quot;M4.5 8a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5z&quot;</span>/&gt;<br>                &lt;<span class="hljs-regexp">/svg&gt;</span><br><span class="hljs-regexp">              &lt;/button</span>&gt;<br>            &lt;% <span class="hljs-keyword">end</span> %&gt;<br>          &lt;<span class="hljs-regexp">/div&gt;</span><br><span class="hljs-regexp">        &lt;/div</span>&gt;<br>      &lt;<span class="hljs-regexp">/nav&gt;</span><br><span class="hljs-regexp"></span><br><span class="hljs-regexp">      &lt;table class=&quot;table table-striped w-full&quot;&gt;</span><br><span class="hljs-regexp">        &lt;thead&gt;</span><br><span class="hljs-regexp">          &lt;tr&gt;</span><br><span class="hljs-regexp">            &lt;% date_range.slice(0, 7).each do |day| %&gt;</span><br><span class="hljs-regexp">              &lt;th class=&quot;p-2 border-r h-10 xl:w-40 lg:w-30 md:w-30 sm:w-20 w-10 xl:text-sm text-xs&quot;&gt;</span><br><span class="hljs-regexp">                &lt;span class=&quot;xl:block lg:block md:block sm:block hidden&quot;&gt;</span><br><span class="hljs-regexp">                  &lt;%= t(&#x27;date.abbr_day_names&#x27;)[day.wday] %&gt;</span><br><span class="hljs-regexp">                &lt;/span</span>&gt;<br>              &lt;<span class="hljs-regexp">/th&gt;</span><br><span class="hljs-regexp">            &lt;% end %&gt;</span><br><span class="hljs-regexp">          &lt;/tr</span>&gt;<br>        &lt;<span class="hljs-regexp">/thead&gt;</span><br><span class="hljs-regexp"></span><br><span class="hljs-regexp">        &lt;tbody&gt;</span><br><span class="hljs-regexp">          &lt;% date_range.each_slice(7) do |week| %&gt;</span><br><span class="hljs-regexp">            &lt;tr class=&quot;text-center h-20&quot;&gt;</span><br><span class="hljs-regexp">                &lt;% week.each do |day| %&gt;</span><br><span class="hljs-regexp">                  &lt;%= content_tag :td, class: &quot;border p-1 h-40 xl:w-40 lg:w-30 md:w-30 sm:w-20 w-10 overflow-auto transition cursor-pointer duration-500 ease hover:bg-gray-300&quot; do %&gt;</span><br><span class="hljs-regexp">                    &lt;% instance_exec(day, calendar.sorted_events_for(day), &amp;passed_block) %&gt;</span><br><span class="hljs-regexp">                  &lt;% end %&gt;</span><br><span class="hljs-regexp">                &lt;% end %&gt;</span><br><span class="hljs-regexp">            &lt;/tr</span>&gt;<br>          &lt;% <span class="hljs-keyword">end</span> %&gt;<br>        &lt;<span class="hljs-regexp">/tbody&gt;</span><br><span class="hljs-regexp">      &lt;/table</span>&gt;<br>    &lt;<span class="hljs-regexp">/div&gt;</span><br><span class="hljs-regexp">  &lt;/div</span>&gt;<br>&lt;<span class="hljs-regexp">/div&gt;</span><br></code></pre></td></tr></table></figure>

<figure class="highlight ruby"><table><tr><td class="code"><pre><code class="hljs ruby"><span class="hljs-comment">#home.html.erb</span><br>&lt;h1 <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;text-center m-5 text-xl&quot;</span>&gt;<span class="hljs-title class_">My</span> calendar&lt;<span class="hljs-regexp">/h1&gt;</span><br><span class="hljs-regexp"></span><br><span class="hljs-regexp">&lt;%= month_calendar(events: @meetings) do |date, meetings| %&gt;</span><br><span class="hljs-regexp">  &lt;div class=&quot;flex flex-col h-40 mx-auto xl:w-40 lg:w-30 md:w-30 sm:w-full w-10 mx-auto overflow-hidden&quot;&gt;</span><br><span class="hljs-regexp">    &lt;div class=&quot;top h-5 w-full&quot;&gt;</span><br><span class="hljs-regexp">      &lt;span class=&quot;text-gray-500&quot;&gt;</span><br><span class="hljs-regexp">        &lt;%= date.strftime(&#x27;%m/</span>%d<span class="hljs-string">&#x27;) %&gt;</span><br><span class="hljs-string">      &lt;/span&gt;</span><br><span class="hljs-string">    &lt;/div&gt;</span><br><span class="hljs-string"></span><br><span class="hljs-string">    &lt;% meetings.each do |meeting| %&gt;</span><br><span class="hljs-string">      &lt;div class=&quot;bottom flex-grow py-1 w-full cursor-pointer&quot;&gt;</span><br><span class="hljs-string">        &lt;div class=&quot;event bg-blue-400 text-white rounded p-1 text-sm mb-1&quot;&gt;</span><br><span class="hljs-string">          &lt;%= link_to &quot;<span class="hljs-subst">#&#123;meeting.start_time.strftime(<span class="hljs-string">&#x27;%k:%M&#x27;</span>)&#125;</span> <span class="hljs-subst">#&#123;meeting.title&#125;</span>&quot;, meeting %&gt;</span><br><span class="hljs-string">        &lt;/div&gt;</span><br><span class="hljs-string">      &lt;/div&gt;</span><br><span class="hljs-string">    &lt;% end %&gt;</span><br><span class="hljs-string">  &lt;/div&gt;</span><br><span class="hljs-string">&lt;% end %&gt;</span><br></code></pre></td></tr></table></figure>

<p>simple_calendarå…¶å¯¦ä¹Ÿæœ‰æŠŠæ¯å€‹éƒ¨ä»½éƒ½å®šç¾©äº†classåç¨±ï¼Œ<br>æ‰€ä»¥ä¹Ÿå¯ä»¥åˆ°application.cssæª”æ¡ˆå»æ›´æ”¹å¥—ç”¨ï¼Œ<br>ä½†å› ç‚ºæˆ‘ä½¿ç”¨tailwindï¼Œå¯ä»¥ç›´æ¥ç·¨è¼¯htmlç¢¼ä¸Šçš„cssï¼Œ<br>å¾ŒçºŒå„ªåŒ–å¯ä»¥å†å°‡é‡è¤‡çš„cssæ¨£å¼å†æ”¾åˆ°application.css<br>æˆ–å…¶ä»–è‡ªå®šç¾©çš„csså³å¯ï¼Œçœ‹å€‹äººç¿’æ…£ï¼</p>
<p>é€™æ¨£å°±å®Œæˆå•¦ï¼æ˜¯ä¸æ˜¯å®¢è£½åŒ–ç¨‹åº¦éå¸¸é«˜å‘¢ï¼<br>æœ¬ç¯‡æ–‡ç« æ˜¯æˆ‘ç”±ä»¥ä¸‹åƒè€ƒè³‡æ–™æ•´ç†+è‡ªå·±è£½ä½œè€Œæˆï¼Œå¦‚æœæ‚¨æœ‰èˆˆè¶£äº†è§£æ›´å¤šï¼Œè«‹åƒè€ƒï¼š</p>
<h3 id="åƒè€ƒè³‡æ–™ï¼š"><a href="#åƒè€ƒè³‡æ–™ï¼š" class="headerlink" title="åƒè€ƒè³‡æ–™ï¼š"></a>åƒè€ƒè³‡æ–™ï¼š</h3><blockquote>
<p><a href="https://github.com/excid3/simple_calendar">simple_calendar</a></p>
</blockquote>
<blockquote>
<p><a href="https://youtu.be/NhAGTL4ARfw?feature=shared">Create A Simple Calendar In Ruby On Rails 7</a></p>
</blockquote>
<blockquote>
<p><a href="https://tailwindcomponents.com/component/calendar-table">Calendar Table Template</a></p>
</blockquote>
]]></content>
      <categories>
        <category>Ruby on Rails</category>
      </categories>
      <tags>
        <tag>Ruby on Rails</tag>
        <tag>rails</tag>
        <tag>ruby</tag>
        <tag>simple calendar</tag>
        <tag>gem</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript: ä½¿ç”¨ var, let, const å®£å‘Šç©¶ç«Ÿå·®åœ¨å“ªå‘¢ï¼Ÿ</title>
    <url>/2023/11/15/var-let-const/</url>
    <content><![CDATA[<style>
  .em-div{
  background-color: #d4a373;
  color: white;
  padding: 10px;
  margin: 10px;
  border-radius: 5px;
  }

  .em-div2{
    border:2px #d4a373 solid;
    margin:5px;
    padding:10px 2px 2px 2px;
    border-style:dashed;
  }
</style>

<h3 id=""><a href="#" class="headerlink" title=""></a></h3><img src="/images/var-let-const/banner.png">

<p>åœ¨ JavaScript ä¸­ï¼Œç¶“å¸¸ä½¿ç”¨<code>var</code>, <code>let</code>, <code>const</code>é€™ä¸‰å€‹æ•¸ä¾†å®£å‘Šï¼Œç©¶ç«Ÿé€™ä¸‰å€‹æœ‰ä»€éº¼ä¸åŒå‘¢ï¼Ÿä¸‹é¢ä¾†è©³ç´°èªªæ˜(^_^)</p>
<div class="em-div2">
è¨»ï¼šæ­¤ç¯‡æ–‡ç« æœ‰å¤šå€‹ç¨‹å¼ç¢¼è¼”åŠ©è§£é‡‹ï¼Œç¯‡å¹…è¼ƒé•·ï¼Œæ‚¨ä¹Ÿå¯ä»¥æ‹‰åˆ°æœ€åº•éƒ¨çœ‹æ¯”è¼ƒè¡¨æ ¼ã€‚
</div>

<h2 id="ç”±ä¾†"><a href="#ç”±ä¾†" class="headerlink" title="ç”±ä¾†"></a>ç”±ä¾†</h2><blockquote>
<p><code>var</code>, <code>let</code>, ä»¥åŠ <code>const</code> éƒ½æ˜¯åœ¨ JavaScript ç”¨ä¾†åšè®Šæ•¸å®£å‘Šçš„ä¿ç•™å­—ï¼Œåœ¨ JavaScript æ—©æœŸåªæœ‰ <code>var</code>ï¼Œç›´åˆ° ES2015 (ES6) æ™‚æ‰åŠ å…¥äº† <code>let</code> èˆ‡ <code>const</code> ã€‚</p>
</blockquote>
<h2 id="é—œæ–¼-var"><a href="#é—œæ–¼-var" class="headerlink" title="é—œæ–¼ var"></a>é—œæ–¼ var</h2><h3 id="é‡é»"><a href="#é‡é»" class="headerlink" title="é‡é»"></a>é‡é»</h3><div class="em-div2">

<ul>
<li><code>var</code>ç‚º<strong>å‡½æ•¸ä½œç”¨åŸŸ(function scope)<strong>ï¼Œè‹¥åœ¨å‡½æ•¸å¤–å®£å‘Šå‰‡ç‚º</strong>å…¨ä½œç”¨åŸŸ(global scope)</strong></li>
<li>åƒ…æœ‰ function scope èƒ½å¤ é—œä½ varï¼ˆå®¹æ˜“æ±¡æŸ“ï¼‰</li>
<li>var å®£å‘Šçš„è®Šæ•¸ï¼Œå¯ä»¥é‡æ–°è¢«å®£å‘Š &amp; è³¦å€¼</li>
<li>æœ‰<a href="https://adora-xu.com/2023/11/18/hoisting/">è®Šæ•¸æå‡</a>ï¼Œè‹¥å…ˆæå–è®Šæ•¸ï¼Œå†ä½¿ç”¨ var å®£å‘Šï¼Œæœƒå‡ºç¾ undefined</div></li>
</ul>
<p>æ¥è‘—æœƒç”¨å››å€‹ç¯„ä¾‹é¡Œç›®ï¼Œä¾†å¹«åŠ©è§£é‡‹é€™å››å€‹é‡é» Ù©(ËŠá—œË‹ )Ùˆ</p>
<h3 id="var-ç‚ºå…¨ä½œç”¨åŸŸ"><a href="#var-ç‚ºå…¨ä½œç”¨åŸŸ" class="headerlink" title="var ç‚ºå…¨ä½œç”¨åŸŸ"></a>var ç‚ºå…¨ä½œç”¨åŸŸ</h3><p><code>var</code>å¯ä»¥ç‚º<strong>å…¨ä½œç”¨åŸŸï¼ˆglobal scopeï¼‰</strong>æˆ–<strong>å‡½æ•¸ä½œç”¨åŸŸï¼ˆfunction scopeï¼‰</strong>ã€‚é€™ä»£è¡¨åœ¨å‡½å¼<strong>å¤–é¢</strong>å®šç¾©çš„è®Šæ•¸å¯ä»¥<strong>å…¨åŸŸè¨ªå•</strong>ï¼Œåœ¨ç‰¹å®šå‡½æ•¸å…§éƒ¨å®šç¾©çš„è®Šæ•¸å¯ä»¥åœ¨å‡½æ•¸å…§éƒ¨å­˜å–ã€‚(è£œå……ï¼šæœªå®£å‘Šçš„è®Šæ•¸ä¹Ÿæœƒæ”¾åœ¨å…¨åŸŸè®Šæ•¸)</p>
<ul>
<li>ç¯„ä¾‹ 1ï¼šå…¨åŸŸå®£å‘Šè®Šæ•¸<code>a</code>ï¼Œæˆ‘å€‘å¯ä»¥åœ¨ç¨‹å¼çš„<strong>ä»»ä½•åœ°æ–¹</strong>æŠ“åˆ°<code>a</code></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> a = <span class="hljs-number">100</span>;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);<br>&#125;<br><span class="hljs-title function_">fn</span>();<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);<br></code></pre></td></tr></table></figure>

<div class="em-div">
output:
10
10
</div>

<ul>
<li>ç¯„ä¾‹ 2ï¼šåƒ…æœ‰ function scope èƒ½å¤ é—œä½ varï¼Œè®Šæ•¸â€œaâ€åœ¨å‡½æ•¸å…§ä½¿ç”¨ var å®£å‘Šã€‚å¦‚æœä½¿ç”¨è€…åœ¨å‡½æ•¸ä¹‹å¤–å­˜å–ï¼Œå‰‡æœƒé¡¯ç¤º<code>ReferenceError: a is not defined</code>ã€‚</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">var</span> a = <span class="hljs-number">10</span>;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);<br>&#125;<br><span class="hljs-title function_">fn</span>();<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a); <span class="hljs-comment">//varç„¡æ³•åœ¨functionå¤–è¢«å­˜å–;</span><br></code></pre></td></tr></table></figure>

<div class="em-div">
outputï¼š
10 <br>
ReferenceError: a is not defined
</div>

<ul>
<li>ç¯„ä¾‹ 3ï¼švar å®£å‘Šçš„è®Šæ•¸ï¼Œå¯ä»¥é‡æ–°è¢«å®£å‘Š&amp;è³¦å€¼</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> a = <span class="hljs-number">10</span>;<br><span class="hljs-keyword">var</span> a = <span class="hljs-number">8</span>;<br>a = <span class="hljs-number">7</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);<br></code></pre></td></tr></table></figure>

<div class="em-div">
output: 7
</div>

<ul>
<li>ç¯„ä¾‹ 4ï¼šå¦‚æœä½¿ç”¨è€…åœ¨å®£å‘Šä¹‹å‰ä½¿ç”¨ var è®Šæ•¸ï¼Œå› ç‚º<a href="https://adora-xu.com/2023/11/18/hoisting/">è®Šæ•¸æå‡ï¼ˆHostingï¼‰</a>çš„é—œä¿‚ã€‚åœ¨åŸ·è¡Œå‡½æ•¸ä¹‹å‰ï¼Œæœƒå„ªå…ˆå°‡ var è®Šæ•¸æ”¾å…¥è¨˜æ†¶é«”ã€‚è¦æ³¨æ„çš„æ˜¯ï¼šé€™åªæ˜¯åœ¨è¨˜æ†¶é«”æœ‰é€™è®Šæ•¸çš„ç©ºé–“ï¼Œä½†<strong>å°šæœªåˆå§‹åŒ–</strong>ã€‚é€™ä¹Ÿæ˜¯ç‚ºä½•æœƒæ‹¿åˆ° undefined çš„åŸå› ã€‚</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);<br><span class="hljs-keyword">var</span> a = <span class="hljs-number">10</span>;<br></code></pre></td></tr></table></figure>

<div class="em-div">
output: undefined
</div>

<h2 id="é—œæ–¼-let"><a href="#é—œæ–¼-let" class="headerlink" title="é—œæ–¼ let"></a>é—œæ–¼ let</h2><h3 id="é‡é»-1"><a href="#é‡é»-1" class="headerlink" title="é‡é»"></a>é‡é»</h3><div class="em-div2">

<ul>
<li><code>let</code>ç‚º<b>å€å¡Šä½œç”¨åŸŸ(block scoped)</b>ï¼Œç„¡æ³•åœ¨<code>&#123;block&#125;</code>ä¹‹å¤–å­˜å–å®ƒ</li>
<li>æœ‰<a href="https://adora-xu.com/2023/11/18/hoisting/">è®Šæ•¸æå‡ï¼ˆHostingï¼‰</a>ï¼Œä½†å› ç‚º let ä¸æœƒå¹«å¿™åˆå§‹åŒ–ï¼Œè€Œæ˜¯å­˜åœ¨<strong>æš«æ™‚åŸ·è¡Œæ­»å€ï¼ˆTDZï¼‰</strong>ï¼Œå› æ­¤<code>let</code>ä¸èƒ½åœ¨å®£å‘Šå‰ä½¿ç”¨ï¼Œä¸èƒ½å¤šæ¬¡å®£å‘Šã€‚</div></li>
<li>ç¯„ä¾‹ 1ï¼šæ­£å¸¸é‹è¡Œçš„æ¨£å­</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> a = <span class="hljs-number">10</span>;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">f</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">let</span> b = <span class="hljs-number">9</span>;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b);<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);<br>&#125;<br><span class="hljs-title function_">f</span>();<br></code></pre></td></tr></table></figure>

<div class="em-div">
output:9</br>
10
</div>

<ul>
<li>ç¯„ä¾‹ 2: <code>let</code>å®£å‘Šç„¡æ³•åœ¨<code>&#123;block&#125;</code>ä¹‹å¤–å­˜å–è®Šæ•¸<code>b</code>ï¼Œå› æ­¤æœƒå‡ºç¾<code>ReferenceError: b is not defined</code></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">let</span> b = <span class="hljs-number">9</span>;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b);<br>&#125;<br><span class="hljs-title function_">fn</span>();<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b);<br></code></pre></td></tr></table></figure>

<div class="em-div">
output:9</br>
ReferenceError: b is not defined
</div>

<ul>
<li>ç¯„ä¾‹ 3: <code>let</code>å®£å‘Šçš„è®Šæ•¸ä¸èƒ½é‡è¤‡å®£å‘Šï¼Œä½†å¯ä»¥æ”¹è®Šå…¶å€¼</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> a = <span class="hljs-number">10</span>;<br><span class="hljs-keyword">let</span> a = <span class="hljs-number">10</span>;<br></code></pre></td></tr></table></figure>

<div class="em-div">
output:Identifier 'a' has already been declared
</div>

<ul>
<li>ç¯„ä¾‹ 4: <code>let</code>å®£å‘Šçš„è®Šæ•¸ä¸èƒ½é‡è¤‡å®£å‘Šï¼Œä½†å¯ä»¥æ”¹è®Šå…¶å€¼</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> a = <span class="hljs-number">1</span>;<br>a = <span class="hljs-number">2</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);<br></code></pre></td></tr></table></figure>

<div class="em-div">
output:2
</div>

<ul>
<li>ç¯„ä¾‹ 5:<code>let</code>ä½œç”¨åŸŸåƒ…åœ¨<code>&#123;block&#125;</code>å…§ï¼Œå› æ­¤åœ¨<code>&#123;block&#125;</code>å¤–å¯ä»¥ä½¿ç”¨åŒå€‹è®Šæ•¸åç¨±å®£å‘Š</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> a = <span class="hljs-number">10</span>;<br><span class="hljs-keyword">if</span> (<span class="hljs-literal">true</span>) &#123;<br>  <span class="hljs-keyword">let</span> a = <span class="hljs-number">9</span>;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);<br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);<br></code></pre></td></tr></table></figure>

<div class="em-div">
output:9</br>
10
</div>

<ul>
<li>ç¯„ä¾‹ 6: åœ¨<code>let</code>å®£å‘Šå‰å…ˆæå–è®Šæ•¸<code>a</code>ï¼Œä½†å› ç‚º<code>let</code>ä¸æœƒå¹«å¿™åˆå§‹åŒ–ï¼Œè€Œæ˜¯<strong>å­˜åœ¨ TDZ</strong>ï¼Œå› æ­¤æœƒå‡ºç¾<code>Cannot access &#39;a&#39; before initialization</code></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);<br><span class="hljs-keyword">let</span> a = <span class="hljs-number">10</span>;<br></code></pre></td></tr></table></figure>

<div class="em-div">
output: Cannot access 'a' before initialization
</div>

<h2 id="é—œæ–¼-const"><a href="#é—œæ–¼-const" class="headerlink" title="é—œæ–¼ const"></a>é—œæ–¼ const</h2><blockquote>
<p>å¸¸æ•¸ï¼ˆconstantï¼‰åˆç¨±å®šæ•¸ï¼Œæ˜¯æŒ‡ä¸€å€‹æ•¸å€¼å›ºå®šä¸è®Šçš„æ•¸ï¼Œä¾‹å¦‚åœ“å‘¨ç‡ï¼Œèˆ‡ä¹‹ç›¸åçš„æ˜¯è®Šæ•¸ã€‚</p>
</blockquote>
<h3 id="é‡é»-2"><a href="#é‡é»-2" class="headerlink" title="é‡é»"></a>é‡é»</h3><div class="em-div2">

<ul>
<li><code>const</code>ç‚º<b>å€å¡Šä½œç”¨åŸŸ(block scoped)</b>ï¼Œç„¡æ³•åœ¨<code>&#123;block&#125;</code>ä¹‹å¤–å­˜å–å®ƒ</li>
<li>ä½¿ç”¨<code>const</code>å®£å‘Šçš„è®Šæ•¸ä¸èƒ½æ”¹è®Šï¼Œäº¦ä¸èƒ½é‡è¤‡å®£å‘Šã€‚</li>
<li>è‹¥ä½¿ç”¨ <code>const</code> å®£å‘Šï¼Œä¸èƒ½æ”¹è®Šå…¶å±¬æ€§ï¼Œä½†èƒ½å¤ æ”¹è®Šå…§å«çš„æ±è¥¿ã€‚</div></li>
</ul>
<p>ç›¸å°å…¶ä»–çš„å®£å‘Šæ–¹å¼ï¼Œ<code>const</code>è¦å®šç›¸å°åš´æ ¼ï¼Œæ‰€ä»¥ä¸åƒ<code>var</code>æœƒæœ‰å¾ˆå¤šèŠ±è£¡èƒ¡å“¨çš„ä¾‹å¤–è¡Œç‚ºï¼Œæ˜¯å€‹å¾ˆä¹–å·§çš„å¥½å­©å­å‘¢(à¹‘Â¯â—¡Â¯à¹‘)ã€‚</p>
<ul>
<li>ç¯„ä¾‹ 1: ä½¿ç”¨<code>const</code>å®£å‘Šçš„<code>a</code>ï¼Œä¸èƒ½å¤ é‡æ–°è³¦å€¼ï¼Œæœƒå‡ºç¾<code>TypeError</code></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> a = <span class="hljs-number">10</span>;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params"></span>) &#123;<br>  a = <span class="hljs-number">9</span>;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);<br>&#125;<br><span class="hljs-title function_">fn</span>();<br></code></pre></td></tr></table></figure>

<div class="em-div"> output: TypeError: Assignment to constant variable.</div>

<ul>
<li>ç¯„ä¾‹ 2: <code>const</code>åŒæ¨£ç‚º<b>å€å¡Šä½œç”¨åŸŸ(block scoped)</b>ï¼Œåœ¨<code>&#123;block&#125;</code>å¤–ä¸èƒ½å­˜å–ï¼Œæœƒå‡ºç¾ <code>ReferenceError: a is not defined</code></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">const</span> a = <span class="hljs-number">9</span>;<br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);<br></code></pre></td></tr></table></figure>

<div class="em-div">
output:
ReferenceError: a is not defined
</div>

<ul>
<li>ç¯„ä¾‹ 3:ä½¿ç”¨ <code>const</code> å®£å‘Šï¼Œä¸èƒ½æ”¹è®Šç‰©ä»¶ï¼Œä½†èƒ½å¤ æ›¿æ›ç‰©ä»¶å…§çš„æ±è¥¿ã€‚</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> a = &#123;<br>  <span class="hljs-attr">prop1</span>: <span class="hljs-number">10</span>,<br>  <span class="hljs-attr">prop2</span>: <span class="hljs-number">9</span>,<br>&#125;;<br>a.<span class="hljs-property">prop1</span> = <span class="hljs-number">3</span>;<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);<br></code></pre></td></tr></table></figure>

<div class="em-div">
output:
{ prop1: 3, prop2: 9 }
</div>

<ul>
<li>ç¯„ä¾‹ 4:<code>const</code>å®£å‘Šä¸èƒ½æ”¹è®Šç‰©ä»¶</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> a = &#123;<br>  <span class="hljs-attr">prop1</span>: <span class="hljs-number">10</span>,<br>  <span class="hljs-attr">prop2</span>: <span class="hljs-number">9</span>,<br>&#125;;<br><br>a = &#123;<br>  <span class="hljs-attr">prop1</span>: <span class="hljs-number">20</span>,<br>&#125;;<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);<br></code></pre></td></tr></table></figure>

<div class="em-div">
output: TypeError: Assignment to constant variable.
</div>

<p>ç¯„ä¾‹ 3 å’Œ 4 å¯ä»¥æƒ³åƒæˆï¼Œä¹–å¯¶å¯¶<code>const</code>å®£å‘Šäº† a æ˜¯ä¸€ç›’å·¥å…·ç®±ï¼Œä½ å¯ä»¥å¾€è£¡é¢åŠ æŠŠæ‰‹ã€èºçµ²èµ·å­ç­‰ç­‰å·¥å…·ï¼Œä¹Ÿå¯ä»¥æ‹¿èµ°è£¡é¢çš„å·¥å…·ï¼Œä½†ä½ ä¸èƒ½å†èªªå·¥å…·ç®±æ˜¯é†«è—¥ç®±ï¼Œä¹–å¯¶å¯¶<code>const</code>å®£å‘Šäº†é†«è—¥ç®±å°±æ˜¯é†«è—¥ç®±ï¼(é™¤éè¢«{â€¦}åŒ…ä½äº†)</p>
<p>æˆ‘è‡ªå·±æ˜¯é€™æ¨£è¨˜æ†¶çš„ï¼Œæœƒæ¯”è¼ƒå¥½æ‡‚ Ù©(ËŠá—œË‹ )Ùˆ</p>
<hr>
<p>çœ‹äº†ä¸Šé¢é€™éº¼å¤šç¯„ä¾‹ï¼Œæ„Ÿè¦ºå°±ç¼ºå°‘ä¸€å€‹æ±è¥¿ï¼Œé‚£å°±æ˜¯æ¯”è¼ƒè¡¨æ ¼ï¼æˆ‘ç‰¹åˆ¥æ•´ç†äº†ä¸€å€‹è¡¨æ ¼çµ¦å¤§å®¶åƒè€ƒ o(^â–½^)o</p>
<h3 id="var-let-const-æ¯”è¼ƒè¡¨æ ¼"><a href="#var-let-const-æ¯”è¼ƒè¡¨æ ¼" class="headerlink" title="var, let, const æ¯”è¼ƒè¡¨æ ¼"></a>var, let, const æ¯”è¼ƒè¡¨æ ¼</h3><img src="/images/var-let-const/table2.png">

<h3 id="å®£å‘Šæº–å‰‡ï¼ˆå»ºè­°ï¼‰"><a href="#å®£å‘Šæº–å‰‡ï¼ˆå»ºè­°ï¼‰" class="headerlink" title="å®£å‘Šæº–å‰‡ï¼ˆå»ºè­°ï¼‰"></a>å®£å‘Šæº–å‰‡ï¼ˆå»ºè­°ï¼‰</h3><p>ç‚ºäº†é˜²å…¶ä»–çš„ç¨‹å¼ç¢¼è¢«å®£å‘Šæ‰€æ±¡æŸ“åˆ°è™•éƒ½æ‹¿å¾—åˆ° var å®£å‘Šçš„è®Šæ•¸ï¼Œå°±åƒä»»ä½•äººéƒ½å¯ä»¥æŠŠè­¦å¯Ÿå±€èªªæˆæ˜¯æ•™å ‚ï¼ŒæŠŠæ¿æ‰‹èªªæˆæ˜¯æ£’æ£’ç³–ï¼Œæƒ³èµ·ä¾†æœ‰é»å¯æ€• â•°(Â°â–½Â°)â•¯ï¼Œæ‰€ä»¥å»ºè­°çš„å®£å‘Šé †åºå¦‚ä¸‹ï¼š</p>
<ol>
<li>const</li>
<li>let</li>
<li>var</li>
</ol>
<p>ç•¶ç„¶å¯¦éš›é‚„æ˜¯ä¾ç…§éœ€æ±‚è€Œå®šï¼Œå¸Œæœ›ä»Šå¤©çš„æ–‡ç« æœ‰å¹«åŠ©åˆ°æ‚¨ï¼</p>
<p>å¦å¤–åœ¨æ–‡ç« å…§æåˆ°çš„è®Šæ•¸æå‡ï¼Œä¹Ÿæ­¡è¿åƒè€ƒæˆ‘å¦å¤–ä¸€ç¯‡æ–‡ç« çš„è§£é‡‹ï¼š<a href="https://adora-xu.com/2023/11/18/hoisting/">JavaScript: è®Šæ•¸æå‡ hoisting åˆ°åº•æ˜¯ä»€éº¼ï¼Ÿ</a></p>
<p>æ–‡ç« å…§å®¹æ˜¯æ ¹æ“šä»¥ä¸‹åƒè€ƒè³‡æ–™æ•´ç†ï¼‹è‡ªå·±ç¹ªåœ–è€Œå¾—ï¼Œå¦‚æœæœ‰ä»»ä½•å»ºè­°éƒ½æ­¡è¿æä¾›å”· (Â´ï½¥âˆ€ï½¥ï½€)</p>
<p>åƒè€ƒè³‡æ–™ï¼š</p>
<blockquote>
<p><a href="https://5xcampus.com/courses/js101">äº”å€å­¸é™¢ - ç‚ºä½ è‡ªå·±å­¸ JavaScript èª²ç¨‹å…§å®¹</a></p>
</blockquote>
<blockquote>
<p><a href="https://www.explainthis.io/zh-hant/swe/js-var-let-const-in-javascript">ExplainThisï¼šåœ¨ JavaScript ä¸­ç”¨ var, let, ä»¥åŠ const æœ‰ä»€éº¼å·®åˆ¥ï¼Ÿä»€éº¼æ™‚å€™è©²ç”¨å“ªå€‹ï¼Ÿ</a></p>
</blockquote>
<blockquote>
<p><a href="https://www.geeksforgeeks.org/difference-between-var-let-and-const-keywords-in-javascript/">Difference between var, let and const keywords in JavaScript</a></p>
</blockquote>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>var</tag>
        <tag>let</tag>
        <tag>const</tag>
      </tags>
  </entry>
  <entry>
    <title>è·æ¶¯: ç‚ºä»€éº¼è¦è½‰è·å·¥ç¨‹å¸«?</title>
    <url>/2024/01/28/why-choose-to-be-a-software-developer/</url>
    <content><![CDATA[<style>
.em-div{
background-color: #d4a373;
color: white;
padding: 10px;
margin: 10px;
border-radius: 5px;
}

.em-div2{
border:2px #d4a373 solid;
margin:5px;
padding:10px 2px 2px 2px;
border-style:dashed;
}
</style>

<p>ã€Œè¦ä¸è¦ç•¶å·¥ç¨‹å¸«ï¼Ÿã€<br>å…¶å¯¦é€™é€™å•é¡Œåœ¨æˆ‘å¿ƒä¸­å‡ºç¾äº†å¾ˆå¤šæ¬¡ï¼Œç¬¬ä¸€æ¬¡æ˜¯é«˜ä¸­å‡å¤§å­¸çš„æ™‚å€™ã€ç¬¬äºŒæ¬¡æ˜¯å¤§å­¸ç•¢æ¥­çš„æ™‚å€™ã€ç¬¬ä¸‰å››äº”å…­æ¬¡æ˜¯æˆ‘ç•¢æ¥­å¾Œå·¥ä½œæ™‚ï¼Œä¸­é–“ä¸€ç›´æœ‰å˜—è©¦æ¥è§¸ç›¸é—œèª²ç¨‹ï¼Œä½†ä¸€ç›´éƒ½æ²’æœ‰å‹‡æ°£è·¨å‡ºç¬¬ä¸€æ­¥ã€‚</p>
<h2 id="èˆˆè¶£"><a href="#èˆˆè¶£" class="headerlink" title="èˆˆè¶£"></a>èˆˆè¶£</h2><p>è¨˜å¾—ç¬¬ä¸€æ¬¡æ¥è§¸è£½ä½œç¶²é ï¼Œæ˜¯åœ¨æˆ‘åœ‹å°ä¸‰ã€å››å¹´ç´šçš„æ™‚å€™ï¼Œé‚£æ™‚å€™æ™ºæ…§å‹æ‰‹æ©Ÿã€youtubeä¸æ™®åŠã€æ²’æœ‰ç¤¾ç¾¤ç¶²ç«™ï¼Œä¹Ÿæ²’æœ‰ç¾åœ¨éš¨è™•å¯è¦‹çš„æ•™å­¸ã€‚</p>
<img src="/images/Transition/2.jpeg">

<p><a href="https://www.ettoday.net/news/20180609/1187360.htm">åœ–ç‰‡ä¾†æº</a></p>
<p>ç•¶æ™‚æ˜¯2007å¹´ï¼Œæœ€æµè¡Œçš„æ˜¯Yahooå³æ™‚é€šå’Œå„å¤§è«–å£‡ã€‚è¨˜å¾—åŒå­¸å‚³çµ¦æˆ‘ä¸€å€‹ç•™è¨€æ¿çš„ç¶²å€ï¼Œå¯ä»¥ä½¿ç”¨HTML&#x2F;CSSè‡ªå®šç¾©ç•™è¨€æ¿ä¸Šçš„æ¨£å¼ã€‚</p>
<p>æˆ‘æŠŠé€™å€‹ç•™è¨€æ¿ç•¶ä½œæˆ‘çš„å€‹äººç¶²ç«™ï¼Œç‚ºäº†è®“å®ƒè®Šå¾—æ›´å¥½çœ‹ï¼Œæˆ‘é–‹å§‹æœå°‹ç¶²è·¯ä¸Šçš„è³‡æ–™ï¼Œå­¸æœƒæ€éº¼ä½¿ç”¨HTML&#x2F;CSSã€å­¸æœƒé¡è‰²è‰²ç¢¼è£é£¾ã€å­¸è‘—ä½¿ç”¨PhotoShopè£½ä½œæ¼‚äº®åœ–ç‰‡ï¼Œå­¸æœƒæ‰¾åˆ°ä¸Šå‚³åœ–ç‰‡çš„ç©ºé–“ä¸Šå‚³åœ–ç‰‡ï¼ˆç‚ºäº†åœ¨ç•™è¨€æ¿ä¸Šæ”¾åœ–ç‰‡ï¼‰ã€‚</p>
<p>å¾Œä¾†è‡ªå·±å­¸è‘—ä½¿ç”¨è¨˜äº‹æœ¬ï¼Œç·¨å¯«HTML&#x2F;CSSï¼Œå³éµå„²å­˜ç‚º.htmlæ ¼å¼ï¼Œä¸Šå‚³åˆ°é›²ç«¯ç©ºé–“ï¼Œè£½ä½œç°¡æ˜“çš„å…¥å£ç¶²ç«™ï¼Œä¹Ÿæ˜¯æˆ‘çš„ç¬¬ä¸€å€‹ç¶²é ã€‚</p>
<p>ç•¶æ™‚æ‰åœ‹å°ï¼Œä¸çŸ¥é“æœ‰å€‹è·æ¥­å«åšç¶²é å·¥ç¨‹å¸«ã€æ›´ä¸çŸ¥é“å‰å¾Œç«¯æ˜¯ä»€éº¼ï¼Œåªæ˜¯åœ¨ä¸‹èª²è£œå®Œç¿’å›å®¶å¾Œï¼Œæ‰“é–‹é›»è…¦æƒ³èªªè¦è£é£¾æˆ‘çš„ç¶²é è€Œå·²ã€‚</p>
<p>å¾Œä¾†å‡ä¸Šåœ‹ä¸­å› ç‚ºè¦å”¸æ›¸ï¼Œå› æ­¤ä¹Ÿæ²’æœ‰å†ç¹¼çºŒã€‚</p>
<p>ç•¶æ™‚è£½ä½œçš„ç¶²é å¾ˆç°¡å–®ï¼Œæ›ä½œç¾åœ¨æ‡‰è©²ä¸€å€‹å°æ™‚å…§å°±å¯ä»¥å®ŒæˆğŸ¤£ï¼Œä¸éé€™æ®µæ™‚é–“æ˜¯æˆ‘ä¸€æ®µå¾ˆç¾å¥½çš„å›æ†¶ï¼Œæˆ‘å¾ˆäº«å—é‚£æ®µã€Œçœ‹åˆ°åˆ¥äººæœ‰æˆ‘ä¹Ÿæƒ³è¦å­¸æœƒã€çš„å­¸ç¿’éç¨‹ã€è‡ªå·±å‹•æ‰‹è£½ä½œåˆ°å®Œæˆæˆå“çš„æ™‚å€™ã€‚</p>
<h2 id="ç¬¬ä¸€æ¬¡æ¥è§¸ç¨‹å¼"><a href="#ç¬¬ä¸€æ¬¡æ¥è§¸ç¨‹å¼" class="headerlink" title="ç¬¬ä¸€æ¬¡æ¥è§¸ç¨‹å¼"></a>ç¬¬ä¸€æ¬¡æ¥è§¸ç¨‹å¼</h2><img src="/images/Transition/4.jpeg">

<p><a href="https://technews.tw/2020/03/19/visual-basic-support-planned-for-net-5-0/">åœ–ç‰‡ä¾†æº</a></p>
<p>ç¬¬ä¸€æ¬¡æ¥è§¸æ­£å¼çš„ç¨‹å¼æ˜¯é«˜ä¸­æ™‚ï¼Œç•¶æ™‚å”¸è³‡æ–™è™•ç†ç§‘ï¼Œæ¯é€±éƒ½æœ‰6å ‚çš„è¨ˆç®—æ©Ÿæ¦‚è«–èª²ã€æœƒåˆ°é›»è…¦æ•™å®¤ä¸Šèª²ã€‚</p>
<p>è¨˜å¾—ç•¶æ™‚æœ‰å­¸æœŸæ•™äº†Visual Basicï¼Œæ•™äº†åŸºæœ¬çš„è¿´åœˆåˆ°è£½ä½œè¨ˆç®—æ©Ÿã€é»èœå–®ã€‚ç•¶æ™‚åªè¦ºå¾—ï¼Œç¨‹å¼çœŸçš„å¥½æ–¹ä¾¿ï¼Œéç¨‹å¥½æœ‰è¶£ï¼</p>
<p>æˆ‘å¾ˆå–œæ­¡è¨ˆç®—æ©Ÿæ¦‚è«–é€™é–€èª²ï¼Œè¨˜å¾—ç•¶æ™‚æœ‰å¾ˆå¤šåŒå­¸é¸æ“‡è³‡ç®¡ç³»ä½œçˆ²å¤§å­¸å‡å­¸çš„ç§‘ç³»ï¼Œä½†æˆ‘å»é¸æ“‡äº†ä¼ç®¡ç³»ğŸ˜‚ï¼Œå¤§å­¸æœ‰åƒåŠ éè³‡è¨Šç³»çµ±è¨“ç·´ç­çš„å‰ç«¯å…¥é–€å¯¦æˆ°ç­ï¼Œä¹Ÿæœ‰æŸ¥è©¢éè½‰è·çš„èª²ç¨‹ï¼Œèº«é‚Šä¹Ÿæœ‰è½‰è·æˆåŠŸçš„ç¶“é©—ï¼Œä½†å› ç‚ºç³¾çµåœ¨è‡ªå·±éæœ¬ç§‘ç³»ï¼Œå› æ­¤ç•¶æ™‚ä¹Ÿæ²’æœ‰æŠŠå·¥ç¨‹å¸«ç•¶ä½œå°±æ¥­çš„é¸é …ã€‚</p>
<h2 id="æ±ºå®šè½‰è·"><a href="#æ±ºå®šè½‰è·" class="headerlink" title="æ±ºå®šè½‰è·"></a>æ±ºå®šè½‰è·</h2><img src="/images/Transition/5.avif">

<p><a href="https://unsplash.com/photos/a-computer-screen-with-a-chart-on-it-w9coDxtsfts">åœ–ç‰‡ä¾†æº</a></p>
<p>å¤§å­¸ç•¢æ¥­å¾Œå…ˆå¾Œåˆ°äº†é›»å•†ã€æ–°åª’é«”ã€é‡‘èæ¥­å·¥ä½œï¼Œè½‰è·å‰çš„å·¥ä½œæ˜¯å¤–å•†éŠ€è¡Œçš„å®¢æˆ¶é—œä¿‚ç¶“ç†ï¼Œç•¶åˆå› ç‚ºå–„æ–¼å’Œäººæºé€šã€æƒ³è¦é ˜åˆ°æ›´å¤šçš„è–ªæ°´ï¼Œæ‰€ä»¥è€ƒäº†è­‰ç…§é€²äº†éŠ€è¡Œï¼Œè–ªè³‡ä¹Ÿå¦‚æˆ‘æ‰€é¡˜æå‡åˆ°é æœŸçš„ç‹€æ³ã€‚</p>
<p>æ„Ÿè¬é‡‘èæ¥­çš„ç¶“æ­·è®“æˆ‘å°æ–¼è²¡ç¶“å¸‚å ´æœ‰æ›´å¤šçš„èªè­˜ï¼Œä¹Ÿåœ¨æ­¤æ™‚å› ç‚ºæ¯æ—¥é¢å°è®ŠåŒ–å¤šç«¯çš„é‡‘èå¸‚å ´å’Œæ¥­ç¸¾ç›®æ¨™çš„è¦æ±‚ï¼Œå¤§å¹…æå‡æˆ‘çš„è§£æ±ºå›°é›£çš„èƒ½åŠ›ï¼Œåƒæ˜¯ï¼šå› æ‡‰å¸‚å ´è®Šå‹•è€Œéš¨æ™‚å’Œå®¢æˆ¶æºé€šã€èªªæœå®¢æˆ¶èª¿æ•´å¸³ä¸Šè³‡ç”¢ã€å¦‚ä½•æ‰¾åˆ°æ–°çš„ç›®æ¨™å®¢æˆ¶ã€å¦‚ä½•è®“ç¾æœ‰å®¢æˆ¶åŒ¯å…¥æ›´å¤šè³‡é‡‘ä¾†é”åˆ°æ¥­ç¸¾ç›®æ¨™ç­‰ç­‰ã€‚</p>
<p>ä¹Ÿè¨±æ˜¯é‡‘èç¶“é©—çš„å¢åŠ ï¼Œå°å¸‚å ´ç­è§£å¾—æ„ˆå¤šï¼Œæ„ˆç™¼ç¾é‡‘èå¸‚å ´çš„è®ŠåŒ–è«æ¸¬ï¼Œæ²’æœ‰ä»»ä½•ä¸€å€‹æŠ•ä¿¡ã€æ©Ÿæ§‹æˆ–æ˜¯ä»»ä½•äººèƒ½å¤ ç²¾ç¢ºçš„é æ¸¬æœªä¾†é‡‘èçš„èµ°å‹¢ï¼Œåªèƒ½å¤ æ ¹æ“šç•¶ä¸‹çš„å¸‚å ´ç’°å¢ƒåˆ¤æ–·ä¸¦éš¨æ™‚èª¿æ•´ï¼Œæˆ‘ç™¼ç¾è‡ªå·±æ²’æœ‰è¾¦æ³•å°è³£ã€Œä¸ç¢ºå®šã€çš„æ±è¥¿ç”¢ç”Ÿç†±æƒ…ã€‚</p>
<p>ä½†é€™å€‹æ™‚å€™è©²æ”¾æ£„å—ï¼Ÿ<br>æ›åˆ°å…¶ä»–çš„ç”¢æ¥­åˆèƒ½ç¢ºå®šè‡ªå·±èƒ½ä¸€è¼©å­æœ‰ç†±æƒ…å—?</p>
<p>é€™æ™‚å€™æˆ‘å¿ƒè£¡åˆå‡ºç¾äº†æˆ‘å¤šå¹´ä¾†çš„ç–‘å•ï¼Œã€Œè¦è½‰è·ç•¶å·¥ç¨‹å¸«å—ï¼Ÿã€ï¼Œé€™æ™‚å€™æˆ‘æƒ³èµ·åœ‹å°æ™‚åšçš„ç¬¬ä¸€å€‹ç¶²é ï¼Œæƒ³èµ·è‡ªå·±èŠ±äº†è¨±å¤šæ™‚é–“è‡ªå·²æ‹¼æ¹Šã€å¯¦ä½œåˆ°å¿˜è¨˜æ™‚é–“ï¼Œæœ€å¾ŒæˆåŠŸå®Œæˆæˆå“çš„æ™‚åˆ»ã€‚</p>
<div class="em-div">
ã€Œæƒ³äº†é€™éº¼å¤šå¹´ï¼Œè¦ä¸é€™æ¬¡å°±çµ¦è‡ªå·±ä¸€å€‹æ©Ÿæœƒå‘¢ï¼Ÿã€
</div>

<h2 id="è½‰è·å‰æº–å‚™"><a href="#è½‰è·å‰æº–å‚™" class="headerlink" title="è½‰è·å‰æº–å‚™"></a>è½‰è·å‰æº–å‚™</h2><p>æ±ºå®šè½‰è·å¾Œï¼Œæˆ‘é–‹å§‹æœé›†å„å¤§è½‰è·çš„æ©Ÿæ§‹ã€èª²ç¨‹ï¼Œé€™æ¬¡æˆ‘ä¸æƒ³è¦å†ä¸­é€”æ”¾æ£„ï¼Œå› ç‚ºè½‰è·è¦èŠ±è²»çš„æˆæœ¬å¾ˆå¤§ï¼Œä¹ŸçŸ¥é“é€™æ¬¡è‡ªå·±è½‰è·å¾Œè¦å†è¿½å›ä¹‹å‰çš„è–ªè³‡æ°´å¹³ï¼Œå‹¢å¿…è¦å†ç´¯ç©2-3å¹´çš„ç¶“é©—ã€‚</p>
<p>ä½†å°±é•·é ä¾†çœ‹ï¼Œå·¥ç¨‹å¸«çš„è·æ¶¯å’Œæ˜¯æ²’æœ‰ä¸Šé™çš„ï¼Œè€Œèƒ½åŠ›å’Œè–ªè³‡ä¹Ÿæœƒéš¨è‘—å­¸ç¿’è€Œæå‡ã€‚</p>
<p>ç‚ºäº†è®“è‡ªå·±ç¢ºå®šè½‰è·çš„æ±ºå¿ƒï¼Œæˆ‘å…ˆçµ¦è‡ªå·±ä¸€å€‹æœˆçš„æ™‚é–“ï¼Œå ±åäº†æŸå¹³å°çš„ã€Œç¨‹å¼è¨­è¨ˆå…¥é–€ã€æ–°æ‰‹æ‘è¬å…ƒæŒ‘æˆ°ï¼Œé€™å€‹ç·šä¸Šèª²ç¨‹å¿…é ˆè¦åœ¨ä¸€å€‹æœˆå…§å®Œæˆ30å°æ™‚çš„ç·šä¸Šèª²åŠå¯¦ä½œå…­å€‹ä½œæ¥­é€šéåŠ©æ•™æ‰¹æ”¹ï¼Œæœ€å¾Œä¹Ÿé †åˆ©å®Œæˆäº†ï¼Œæ¯å¤©å­¸ç¿’çš„æ™‚å€™éƒ½å¾ˆå¿«æ¨‚ã€‚</p>
<p>ä¸éç·šä¸Šèª²ç¨‹ä¸¦ä¸å®Œå…¨é©åˆæˆ‘ï¼Œæˆ‘é‚„æ˜¯å¸Œæœ›èƒ½æœ‰åŒä¼´èƒ½å¤ ä¸€èµ·è¨è«–ã€è£½ä½œå°ˆé¡Œã€‚è«®è©¢éå¤šå€‹æ©Ÿæ§‹å¾Œï¼Œæˆ‘æœ€å¾Œé¸æ“‡äº†ASTRO X äº”å€ç´…å¯¶çŸ³ãƒ»äº”å€å­¸é™¢å…¨ç«¯å·¥ç¨‹å¸«åŸ¹è¨“èª²ã€‚</p>
<h2 id="è¸ä¸Šè½‰è·ä¹‹è·¯"><a href="#è¸ä¸Šè½‰è·ä¹‹è·¯" class="headerlink" title="è¸ä¸Šè½‰è·ä¹‹è·¯"></a>è¸ä¸Šè½‰è·ä¹‹è·¯</h2><img src="/images/Transition/6.jpg">

<p>åœ¨äº”å€ä¸Šèª²ï¼Œå­¸äº†HTML, CSS, JS, Ruby on Railsç­‰èª²ç¨‹ï¼Œäº”å€çš„å¸«è³‡å¾ˆå„ªç§€ï¼Œèƒ½å¤ å¾åŸç†è¬›è§£ï¼Œèƒ½æ›´æ¸…æ¥šåœ°è¬›è§£<strong>ç‚ºä»€éº¼åšï¼Ÿé€™æ¨£åšæœ‰ä»€éº¼å¥½è™•ï¼Ÿé‚„æœ‰ä»€éº¼å…¶ä»–çš„åšæ³•ï¼Ÿåˆ©å¼Šåˆæ˜¯ä»€éº¼ï¼Ÿ</strong>ï¼Œè€Œä¸æ˜¯åƒ…æ˜¯å–®ç´”åœ°æ•™ã€Œåšå‡ºæ±è¥¿ä¾†ã€ï¼Œä¹Ÿç§‰æŒè‘—ã€Œæœ‰å•é¡Œç›¡é‡å•ã€ï¼Œå› æ­¤é€™ä¸‰å€‹æœˆçš„éç¨‹å¾ˆç²¾å¯¦ã€‚</p>
<p>é¾å“¥ä¹Ÿå¾ˆé¼“å‹µåŒå­¸å€‘å¯«éƒ¨è½æ ¼ï¼Œå› ç‚ºæ–°çš„çŸ¥è­˜ç†è§£å¸æ”¶å¾Œï¼Œå†é€éè‡ªå·±æ•´ç†ã€å¯«æˆæ–‡ç« ï¼Œèƒ½å¤ åŠ æ·±å°è±¡ä¸¦æ¢³ç†é‚è¼¯ï¼Œé€éå¯«æ–‡ç« æœé›†è³‡æ–™çš„éç¨‹ä¹Ÿèƒ½å­¸ç¿’å¾ˆå¤šï¼Œé€™å€‹éƒ¨è½æ ¼ä¹Ÿæ˜¯å› æ­¤è€Œç”¢ç”Ÿå‡ºä¾†çš„ï½</p>
<img src="/images/7-2.jpeg">
å¦å¤–äº”å€é‚„æœ‰è¨±è»Ÿè»Ÿæ€§èª²ç¨‹ï¼Œé€éç”¢å“é–‹ç™¼èª²ã€ç°¡å ±è¡¨é”èª²ã€ä¼æ¥­åƒè¨ªèª²ä»¥åŠçµ„å“¡å”ä½œè£½ä½œå¯¦é«”å°ˆæ¡ˆï¼Œäº†è§£æ¥­ç•Œå¯¦é«”çš„é–‹ç™¼éç¨‹ï¼Œå®Œæˆå¾Œä¹Ÿå’Œçµ„å“¡å€‘ä¸€åŒè£½ä½œå‡ºæœå‹™é è¨‚å¹³å°ï¼Œæ˜¨å¤©å‰›å‰›Demo DayçµæŸã€‚<p>


<p>å­¸ç¿’çš„éç¨‹ä¸­ä¹Ÿç™¼ç¾ï¼šè‡ªå·±å¾ˆå–œæ­¡å’Œé›»è…¦æºé€šï¼Œå› ç‚ºé›»è…¦å¾ˆèª å¯¦ï¼Œå°å°±æ˜¯å°ã€éŒ¯å°±æ˜¯éŒ¯ï¼ŒéŒ¯äº†å†æƒ³æ³•è¾¦è§£æ±ºå°±å¥½ï¼Œä¸€å®šæœ‰è§£æ±ºè¾¦æ³•ï¼Œåªæ˜¯ç¾åœ¨çš„è‡ªå·±é‚„ä¸çŸ¥é“ï¼Œé€éæŸ¥æ‰¾è³‡æ–™ä¸¦å¯¦ä½œè§£æ±ºå°±å¯ä»¥äº†ã€‚</p>
<p>è§£æ±ºå¾Œé‚„èƒ½å¤ å†å¤šæƒ³æƒ³ï¼Œèƒ½æœ‰å…¶ä»–æ›´å¥½çš„ä½œæ³•å—ï¼Ÿä¹Ÿè¨±æ˜¯éå¾€çš„å·¥ä½œç¶“é©—ï¼Œå·²ç¶“è®“æˆ‘ç¿’æ…£é¢å°æŒ«æŠ˜ã€è§£æ±ºæŒ«æŠ˜äº†ï¼Œé€”ä¸­ä¸€å®šæœ‰é‡åˆ°å›°é›£ï¼Œä½†åªè¦æ‰¾å‡ºè§£æ±ºè¾¦æ³•å°±å¥½ï¼Œä¹Ÿå¾ˆæ„Ÿè¬é€™ä¸‰å€‹æœˆä¾†äº”å€çš„è€å¸«ã€åŠ©æ•™ã€åŒå­¸ã€èª²å‹™å€‘çš„å”åŠ©ã€‚</p>
<h2 id="æœªä¾†"><a href="#æœªä¾†" class="headerlink" title="æœªä¾†"></a>æœªä¾†</h2><p>å®Œæˆäº”å€çš„èª²ç¨‹é‚„ä¸æ˜¯è½‰è·ä¹‹è·¯çš„çµæŸï¼Œåªæ˜¯é–‹å§‹è€Œå·²ï¼Œä½†é€éé€™ä¸‰å€‹æœˆçš„èª²ç¨‹ï¼Œä¹Ÿè®“æˆ‘ç¢ºä¿¡è‡ªå·±çœŸçš„å–œæ­¡å¯«ç¨‹å¼ï¼Œå¸¸å¸¸å¯«åˆ°é€²å…¥å¿ƒæµå¿˜è¨˜æ™‚é–“ï¼Œå‰›æŠ¬é ­æ˜¯ç™½å¤©ï¼Œå†æ¬¡æŠ¬é ­å°±æ˜¯é»‘å¤œï¼Œæ›´å¸¸å¸¸å¯«åˆ°å¿˜è¨˜å–æ°´ã€ä¸Šå»æ‰€ï¼Œä½†æ¯ä¸€å¤©éƒ½å¾ˆé–‹å¿ƒã€‚</p>
<p>ç›®å‰çš„è‡ªå·±é‚„æœ‰å¾ˆå¤šçš„ä¸è¶³ï¼Œä½†å°±åƒå­¸ç¿’ç¨‹å¼çš„éç¨‹ä¸€æ¨£ï¼ŒçŸ¥é“è‡ªå·±å“ªè£¡ä¸è¶³å°±åŠ å¼·å“ªè£¡ï¼Œçµ‚ç©¶æœƒé›¢è‡ªå·±çš„ç›®æ¨™æ›´é€²ä¸€æ­¥ã€‚</p>
<p>æœ€æƒ³ï¼Œå¦‚æœèƒ½ç”¨ä¸€å¥è©±æ¦‚æ‹¬æˆ‘è½‰è·çš„åŸå› ï¼š</p>
<div class="em-div2">
å› ç‚ºæˆ‘å–œæ­¡æ›¿ä»»ä½•äººåŒ…æ‹¬è‡ªå·±è§£æ±ºå•é¡Œï¼ŒåŒæ™‚ï¼Œæˆ‘ä¹Ÿå–œæ­¡å¯«ç¨‹å¼ï¼›å› æ­¤æƒ³é€éç¨‹å¼æ›¿æ›´å¤šäººè§£æ±ºå•é¡Œï¼Œä¹Ÿæƒ³é€éç¨‹å¼æ›¿å‰µé€ è‡ªå·±æ›´å¥½çš„è·æ¶¯ã€‚
</div>

]]></content>
      <categories>
        <category>è·æ¶¯</category>
      </categories>
      <tags>
        <tag>è½‰è·</tag>
        <tag>è·æ¶¯</tag>
      </tags>
  </entry>
</search>
