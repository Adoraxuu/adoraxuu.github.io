<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Adora&#39;s Blog</title>
  
  
  <link href="http://adora-xu.com/atom.xml" rel="self"/>
  
  <link href="http://adora-xu.com/"/>
  <updated>2024-10-08T12:06:22.573Z</updated>
  <id>http://adora-xu.com/</id>
  
  <author>
    <name>Adora Xu</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Django: FBV &amp; CBV - DetailView</title>
    <link href="http://adora-xu.com/2024/10/08/Django-FBV-CBV-DetailView/"/>
    <id>http://adora-xu.com/2024/10/08/Django-FBV-CBV-DetailView/</id>
    <published>2024-10-08T11:59:32.000Z</published>
    <updated>2024-10-08T12:06:22.573Z</updated>
    
    <content type="html"><![CDATA[<style>.em-div{background-color: #d4a373;color: white;padding: 10px;margin: 10px;border-radius: 5px;}.em-div2{border:2px #d4a373 solid;margin:5px;padding:10px 2px 2px 2px;border-style:dashed;}</style><h3 id=""><a href="#" class="headerlink" title=""></a></h3><img src="/images/Django-FBV-CBV-DetailView/detail_view.webp"><p>é—œæ–¼ FBV å’Œ CBV çš„æ¯”è¼ƒï¼Œå¯ä»¥åƒè€ƒæˆ‘ä¸Šç¯‡æ–‡ç« ï¼š<a href="https://adora-xu.com/2024/10/06/Django-FBV-CBV-TemplateView/">Django: FBV &amp; CBV - TemplateView</a></p><p>æœ¬ç¯‡çš„ç¨‹å¼å¯ä»¥åƒè€ƒï¼š<a href="https://github.com/Adoraxuu/myview/tree/DetailView">GitHub</a></p><h2 id="FBV"><a href="#FBV" class="headerlink" title="FBV"></a>FBV</h2><p>å‡è¨­ä½ æˆ‘å€‘è¦å»ºç«‹ä¸€å€‹éƒ¨è½æ ¼ï¼Œè€Œå…¶ä¸­éƒ¨è½æ ¼çš„æ–‡ç« çš„è©³ç´°é é¢ï¼Œä½¿ç”¨ FBV å¯ä»¥é€™æ¨£å­æ’°å¯«ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#urls.py</span><br><span class="hljs-keyword">from</span> django.urls <span class="hljs-keyword">import</span> path<br><span class="hljs-keyword">from</span> . <span class="hljs-keyword">import</span> views<br><br>urlpatterns = [<br>    path(<span class="hljs-string">&#x27;&lt;slug:slug&gt;/&#x27;</span>, views.post_detail, name=<span class="hljs-string">&#x27;post_detail&#x27;</span>),<br>]<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> django.shortcuts <span class="hljs-keyword">import</span> get_object_or_404<br><span class="hljs-keyword">from</span> django.template.response <span class="hljs-keyword">import</span> TemplateResponse<br><span class="hljs-keyword">from</span> .models <span class="hljs-keyword">import</span> Post<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">post_detail</span>(<span class="hljs-params">request, slug</span>):<br>    <span class="hljs-keyword">return</span> TemplateResponse(request, <span class="hljs-string">&#x27;blog/post_detail.html&#x27;</span>, &#123;<br>        <span class="hljs-string">&#x27;post&#x27;</span>: get_object_or_404(Post.objects.<span class="hljs-built_in">all</span>(), slug=slug),<br>    &#125;)<br></code></pre></td></tr></table></figure><h3 id="shortcuts-ï¼†-get-object-or-404"><a href="#shortcuts-ï¼†-get-object-or-404" class="headerlink" title="shortcuts ï¼† get_object_or_404"></a>shortcuts ï¼† get_object_or_404</h3><p>åœ¨ Django æ¡†æ¶ä¸­ï¼Œget_object_or_404 æ˜¯ä¸€å€‹å¸¸ç”¨çš„ã€Œ<a href="https://docs.djangoproject.com/zh-hans/5.1/topics/http/shortcuts/">shortcuts</a>ã€å‡½æ•¸ï¼Œç”¨ä¾†ç°¡åŒ–å¾è³‡æ–™åº«æŸ¥è©¢å°è±¡ä¸¦è™•ç†æ‰¾ä¸åˆ°å°è±¡çš„æƒ…æ³ã€‚é€™å€‹ä¾¿æ·å‡½æ•¸å±¬æ–¼ django.shortcuts å¥—ä»¶ã€‚django.shortcuts å¥—ä»¶ä¸­çš„å‡½æ•¸æ˜¯è·¨è¶Š MVC å±¤ç´šçš„è¼”åŠ©å·¥å…·ï¼Œé›–ç„¶é€™äº›å·¥å…·å¼•å…¥äº†æŸç¨®ç¨‹åº¦çš„è€¦åˆï¼Œä½†é€™ç¨®è€¦åˆæ˜¯ã€Œå—æ§çš„ã€ï¼Œä¹Ÿå°±æ˜¯èªªï¼Œé€™æ¨£çš„è¨­è¨ˆä¸æœƒå°æ•´å€‹ç¨‹å¼ç¢¼ç”¢ç”Ÿéå¤§çš„å½±éŸ¿ã€‚</p><p>è¨­è¨ˆé€™äº›ã€Œ<a href="https://docs.djangoproject.com/zh-hans/5.1/topics/http/shortcuts/">shortcuts</a>ã€å‡½æ•¸çš„æ ¸å¿ƒæ˜¯ï¼Œé›–ç„¶å®ƒå€‘å¼•å…¥äº†æ§åˆ¶å±¤å’Œæ¨¡å‹å±¤ä¹‹é–“çš„è€¦åˆï¼Œä½†é€™ç¨®è€¦åˆæ˜¯ç‚ºäº†ç°¡åŒ–ç¨‹å¼ç¢¼ä¸”åªæœƒå°å±€éƒ¨ç”¢ç”Ÿå½±éŸ¿ã€‚</p><p>ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘å€‘åœ¨è¦–åœ–ä¸­ä½¿ç”¨ get_object_or_404ï¼Œå®ƒå¹«åŠ©æˆ‘å€‘è‡ªå‹•è™•ç†å°è±¡æ‰¾ä¸åˆ°çš„æƒ…æ³ï¼Œä¸¦åœ¨éœ€è¦æ™‚è‡ªå‹•è¿”å› HTTP 404 éŒ¯èª¤ã€‚è€Œä¸æ˜¯è¦æ±‚æˆ‘å€‘ä½¿ç”¨æ‰‹å‹•æ•æ‰ç•°å¸¸ä¸¦å¼•ç™¼<code>ObjectDoesNotExistHttp404ObjectDoesNotExist</code>ã€‚é€™æ¨£ï¼Œæˆ‘å€‘å¯ä»¥ä¿æŒç¨‹å¼ç¢¼ç°¡æ½”ï¼Œä¸å¿…æ¯æ¬¡éƒ½é‡è¤‡å¯«ç›¸åŒçš„éŒ¯èª¤è™•ç†é‚è¼¯ï¼Œç¯€çœäº†æ™‚é–“å’Œç²¾åŠ›ã€‚</p><h3 id="ç‚ºä½•ä¸ç›´æ¥åœ¨æ¨¡å‹å±¤è™•ç†ï¼Ÿ"><a href="#ç‚ºä½•ä¸ç›´æ¥åœ¨æ¨¡å‹å±¤è™•ç†ï¼Ÿ" class="headerlink" title="ç‚ºä½•ä¸ç›´æ¥åœ¨æ¨¡å‹å±¤è™•ç†ï¼Ÿ"></a><strong>ç‚ºä½•ä¸ç›´æ¥åœ¨æ¨¡å‹å±¤è™•ç†ï¼Ÿ</strong></h3><p>å¦‚æœæˆ‘å€‘é¸æ“‡è®“æ¨¡å‹å±¤è‡ªå‹•å¼•ç™¼ Http404 éŒ¯èª¤ï¼Œé€™æœƒå°è‡´æ¨¡å‹å±¤å’Œè¦–åœ–å±¤ä¹‹é–“çš„éåº¦è€¦åˆï¼Œä¹Ÿå°±æ˜¯èªªï¼Œæ¨¡å‹å±¤çš„è¨­è¨ˆæœƒè®Šå¾—å’Œè¦–åœ–å±¤ç¶å®šéç·Šã€‚é€™é•åäº† Django çš„è¨­è¨ˆåŸå‰‡ä¹‹ä¸€â€”â€”<strong>ä¿æŒé¬†æ•£è€¦åˆ</strong>ã€‚Django çš„è¨­è¨ˆç†å¿µå¼·èª¿å„å€‹å±¤ç´šä¹‹é–“çš„ç›¸äº’ç¨ç«‹æ€§ï¼Œä»¥ä¾¿è®“ç¨‹å¼ç¢¼æ›´å…·å¯ç¶­è­·æ€§ã€å¯é‡ç”¨æ€§å’Œéˆæ´»æ€§ã€‚</p><p>ä»‹ç´¹å®Œäº† FBVï¼Œæ¥ä¸‹ä¾†çœ‹çœ‹ CBVï¼Œä¸Šé¢çš„ FBV å¯ä»¥æ”¹å¯«æˆä»¥ä¸‹ï¼š</p><h2 id="CBV"><a href="#CBV" class="headerlink" title="CBV"></a>CBV</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#urls.py</span><br><span class="hljs-keyword">from</span> django.urls <span class="hljs-keyword">import</span> path<br><span class="hljs-keyword">from</span> . <span class="hljs-keyword">import</span> views<br><br>urlpatterns = [<br>    path(<span class="hljs-string">&#x27;&lt;slug:slug&gt;/&#x27;</span>, views.PostDetailView.as_view(), name=<span class="hljs-string">&#x27;post_detail&#x27;</span>),<br>]<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> django.views.generic <span class="hljs-keyword">import</span> DetailView<br><span class="hljs-keyword">from</span> .models <span class="hljs-keyword">import</span> Post<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">PostDetailView</span>(<span class="hljs-title class_ inherited__">DetailView</span>):<br>    model = Post<br>    template_name = <span class="hljs-string">&#x27;blog/post_detail.html&#x27;</span><br>    context_object_name = <span class="hljs-string">&#x27;post&#x27;</span><br>    slug_field = <span class="hljs-string">&#x27;slug&#x27;</span><br>    slug_url_kwarg = <span class="hljs-string">&#x27;slug&#x27;</span> <span class="hljs-comment"># å¦‚æœmodelæ¬„ä½æ²’æœ‰è¨­å®šSlugFieldå°±è¦åŠ é€™è¡Œ</span><br></code></pre></td></tr></table></figure><p>Python çš„è¨­è¨ˆå“²å­¸ç‚ºã€ŒExplicit is better than implicitã€ï¼ˆæ˜ç­å„ªæ–¼éš±æ™¦ï¼‰ï¼Œä¸»è¦çš„æ„æ€ç‚ºã€Œ<strong>ç•¶å¯«ç¨‹å¼æ™‚ï¼Œæ‡‰è©²æ˜ç¢ºåœ°è¡¨é”æ„åœ–ï¼Œè€Œä¸æ˜¯ä¾è³´éš±æ™¦æˆ–æš—ç¤ºçš„æ–¹å¼ä¾†é”æˆç›®çš„</strong>ã€‚ã€ï¼Œç¨‹å¼çš„çµæ§‹å’Œé‚è¼¯æ‡‰è©²æ˜¯æ¸…æ™°æ˜“æ‡‚çš„ï¼Œè®“å…¶ä»–é–‹ç™¼è€…æˆ–æœªä¾†çš„è‡ªå·±å¯ä»¥å¾ˆå¿«ç†è§£å®ƒï¼Œè€Œä¸æ˜¯é€ééš±å«çš„è¦å‰‡æˆ–ç´„å®šå»çŒœæ¸¬ç¨‹å¼çš„æ„åœ–ã€‚</p><p>ç°¡å–®ä¾†èªªï¼Œè¦è®“äººä¸€çœ‹å°±æ‡‚ï¼Œä¸é CBV æ¯”è¼ƒåƒæ˜¯ Ruby on Rails çš„ã€Œconvention over configurationã€ï¼ˆç´„å®šå„ªæ–¼é…ç½®ï¼‰ï¼Œæ¡†æ¶è‡ªå‹•é…ç½®è¨±å¤šç´°ç¯€ï¼Œé€™æ¨£é–‹ç™¼è€…å¯ä»¥å°ˆæ³¨æ–¼æ¥­å‹™é‚è¼¯ï¼Œè€Œä¸éœ€è¦èŠ±å¤ªå¤šæ™‚é–“è¨­å®šå„ç¨®é…ç½®ã€‚CBV çš„å„ªå‹¢åœ¨æ–¼å…¶ç¹¼æ‰¿æ€§å’Œå¯æ“´å±•æ€§ï¼Œèƒ½å¤ é¿å…é‡è¤‡ç¨‹å¼ï¼Œä»¥åŠæä¾›çµ±ä¸€çš„é‚è¼¯çµæ§‹ã€‚ä¸éé€™æ¨£å­ä¹Ÿä»£è¡¨ï¼Œåˆå­¸è€…éœ€è¦èŠ±è²»æ¯”è¼ƒå¤šæ™‚é–“æ‰èƒ½å¤ ç†è§£æ¡†æ¶çš„è‡ªå‹•é…ç½®ã€‚</p><h3 id="æ‡‰è©²é¸æ“‡-CBV-é‚„æ˜¯-FBV-å‘¢ï¼Ÿ"><a href="#æ‡‰è©²é¸æ“‡-CBV-é‚„æ˜¯-FBV-å‘¢ï¼Ÿ" class="headerlink" title="æ‡‰è©²é¸æ“‡ CBV é‚„æ˜¯ FBV å‘¢ï¼Ÿ"></a>æ‡‰è©²é¸æ“‡ CBV é‚„æ˜¯ FBV å‘¢ï¼Ÿ</h3><p>é€™å…¶å¯¦è¦å–æ±ºæ–¼å°ˆæ¡ˆçš„éœ€æ±‚ã€‚ç°¡å–®ç¸½çµä¸€ä¸‹å…©è€…çš„ç‰¹é»ï¼š</p><div class="em-div2"><p><strong>FBV æ›´éˆæ´»ï¼Œé©åˆéœ€è¦é »ç¹è‡ªå®šç¾©çš„å ´æ™¯ã€‚</strong></p><p><strong>CBV æ›´ç°¡æ½”ï¼Œä½†å¯èƒ½éš±è—å¤ªå¤šé‚è¼¯ï¼Œå°æ–¼ç¶­è­·ä¾†èªªï¼Œå¢å¤§äº†ç†è§£æˆæœ¬ã€‚</strong></p></div><p>é€™ä¹Ÿæ˜¯ç‚ºä»€éº¼æˆ‘æƒ³å¯«ä¸€ç³»åˆ— CBV ç›¸é—œæ–‡ç« çš„åŸå› ä¹‹ä¸€ã€‚ä½œç‚ºä¸€å€‹ Ruby on Rails å‡ºèº«çš„é–‹ç™¼è€…ï¼ŒCBV çš„è¨­è¨ˆè®“æˆ‘æ„Ÿè¦ºéå¸¸ç†Ÿæ‚‰ã€‚</p><p>ä»Šå¤©çš„åˆ†äº«å°±åˆ°é€™è£¡å•¦ï¼ä¸‹æ¬¡æˆ‘å€‘å†ä¾†æ¢è¨æ›´å¤š Django CBV çš„ä½¿ç”¨ç´°ç¯€ï½</p><p>æœ¬ç¯‡æ–‡ç« æ˜¯æˆ‘ç”±ä»¥ä¸‹åƒè€ƒè³‡æ–™æ•´ç†+è‡ªå·±ç¹ªåœ–è€Œæˆï¼Œå¦‚æœæ‚¨æœ‰èˆˆè¶£äº†è§£æ›´å¤šï¼Œè«‹åƒè€ƒï¼š</p><h3 id="åƒè€ƒè³‡æ–™ï¼š"><a href="#åƒè€ƒè³‡æ–™ï¼š" class="headerlink" title="åƒè€ƒè³‡æ–™ï¼š"></a>åƒè€ƒè³‡æ–™ï¼š</h3><blockquote><p><a href="https://spookylukey.github.io/django-views-the-right-way/index.html">Django Views â€” Theâ€¯Rightâ€¯Way</a></p></blockquote><blockquote><p><a href="https://docs.djangoproject.com/en/5.1/ref/class-based-views/generic-display/">Django Docs - Generic display views</a></p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;style&gt;
.em-div{
background-color: #d4a373;
color: white;
padding: 10px;
margin: 10px;
border-radius: 5px;
}

.em-div2{
border:2px #d4a373 s</summary>
      
    
    
    
    <category term="Django" scheme="http://adora-xu.com/categories/Django/"/>
    
    <category term="Django-CBV" scheme="http://adora-xu.com/categories/Django-CBV/"/>
    
    
    <category term="Django" scheme="http://adora-xu.com/tags/Django/"/>
    
    <category term="FBV" scheme="http://adora-xu.com/tags/FBV/"/>
    
    <category term="CBV" scheme="http://adora-xu.com/tags/CBV/"/>
    
    <category term="DetailView" scheme="http://adora-xu.com/tags/DetailView/"/>
    
  </entry>
  
  <entry>
    <title>Django: FBV &amp; CBV - TemplateView</title>
    <link href="http://adora-xu.com/2024/10/06/Django-FBV-CBV-TemplateView/"/>
    <id>http://adora-xu.com/2024/10/06/Django-FBV-CBV-TemplateView/</id>
    <published>2024-10-06T09:04:21.000Z</published>
    <updated>2024-10-06T09:58:17.397Z</updated>
    
    <content type="html"><![CDATA[<style>.em-div{background-color: #d4a373;color: white;padding: 10px;margin: 10px;border-radius: 5px;}.em-div2{border:2px #d4a373 solid;margin:5px;padding:10px 2px 2px 2px;border-style:dashed;}</style><img src="/images/Django-FBV-CBV-TemplateView/1.webp"><img src="/images/Django-FBV-CBV-TemplateView/2.webp"><p>ç•¶æˆ‘å€‘åœ¨ Django ä¸­è«‡åˆ° <strong>View</strong>ï¼Œå®ƒå°±åƒæ˜¯ç¶²é çš„ã€Œå¤§è…¦ã€ï¼Œè² è²¬è™•ç†é‚è¼¯ã€é€£æ¥ HTML å’Œè³‡æ–™åº«çš„ Modelï¼ˆé¡ä¼¼æ–¼ MVC æ¶æ§‹ä¸­çš„ Controllerï¼Œå¯ä»¥åƒè€ƒï¼š<a href="https://adora-xu.com/2023/12/02/MVC/">Ruby on Rails: MVC æ˜¯ä»€éº¼?</a>ï¼‰ã€‚åœ¨ Django è£¡ï¼Œæˆ‘å€‘æœ‰å…©ç¨®ä¸»è¦çš„æ–¹å¼ä¾†æ’°å¯« Viewï¼š<strong>FBVï¼ˆFunction-Based Viewsï¼‰</strong> å’Œ <strong>CBVï¼ˆClass-Based Viewsï¼‰</strong>ã€‚</p><div class="em-div2"><p><strong>FBVï¼ˆFunction-Based Viewsï¼‰</strong>ï¼šä½¿ç”¨ Python å‡½æ•¸ä¾†æ’°å¯« Viewã€‚é€™ç¨®æ–¹å¼æ¯”è¼ƒç°¡å–®ç›´æ¥ï¼Œæ˜¯ Django æœ€åŸå§‹çš„å¯«æ³•ã€‚æ¯å€‹ FBV æœƒæ¥æ”¶ä¸€å€‹ <code>HttpRequest</code>ï¼Œç„¶å¾Œè¿”å›ä¸€å€‹ <code>HttpResponse</code>ã€‚</p><p><strong>CBVï¼ˆClass-Based Viewsï¼‰ï¼š</strong>ä½¿ç”¨ Python é¡ä¾†å®šç¾© Viewã€‚é€™ç¨®æ–¹å¼è®“ä½ é¿å…å¯«å¤ªå¤šé‡è¤‡çš„ç¨‹å¼ï¼Œéå¸¸ç¬¦åˆ DRYï¼ˆDonâ€™t Repeat Yourselfï¼‰åŸå‰‡ã€‚</p></div><p>çœ‹æ–‡å­—èªªæ˜å¯èƒ½æœ‰é»æŠ½è±¡ï¼Œè®“æˆ‘å¸¶ä¾†å¹¾å€‹ç¯„ä¾‹ï¼š<br>ç¯„ä¾‹æª”æ¡ˆå¯ä»¥åƒè€ƒ<a href="https://github.com/Adoraxuu/myview/tree/TemplateView">GitHub</a></p><h2 id="FBV"><a href="#FBV" class="headerlink" title="FBV"></a>FBV</h2><p>é€™è£¡ç”¨ TemplateResponse ä¾†å¯«ä¸€å€‹ç°¡å–®çš„ç¯„ä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#url.py</span><br><span class="hljs-keyword">from</span> django.urls <span class="hljs-keyword">import</span> path<br><span class="hljs-keyword">from</span> . <span class="hljs-keyword">import</span> views<br><br>app_name = <span class="hljs-string">&#x27;blog&#x27;</span><br><br>urlpatterns = [<br>    path(<span class="hljs-string">&#x27;example/&lt;str:arg&gt;/&#x27;</span>, views.example_view, name=<span class="hljs-string">&#x27;example_name&#x27;</span>),<br>]<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#views.py</span><br><br><span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> date<br><span class="hljs-keyword">from</span> django.template.response <span class="hljs-keyword">import</span> TemplateResponse<br><br><span class="hljs-comment"># *args:æœƒçµ¦tupleæ ¼å¼çš„åƒæ•¸ï¼› **kwargsï¼šæä¾›dictionaryæ ¼å¼çš„åƒæ•¸</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">example_view</span>(<span class="hljs-params">request, arg, **kwargs</span>):<br>    kwargs[<span class="hljs-string">&#x27;today&#x27;</span>] = date.today()<br>    <span class="hljs-keyword">return</span> TemplateResponse(request, <span class="hljs-string">&#x27;blog/example.html&#x27;</span>, &#123; <span class="hljs-string">&#x27;arg&#x27;</span>: arg, **kwargs &#125;)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># blog/example.html</span><br><br>example page &#123;&#123; arg &#125;&#125;<br>today <span class="hljs-keyword">is</span> &#123;&#123; today &#125;&#125;<br></code></pre></td></tr></table></figure><p>é€™æ™‚ï¼Œå¦‚æœä½ åœ¨ç¶²å€ä¸­è¼¸å…¥åƒæ•¸ <code>arg</code>ï¼Œé é¢å°±æœƒé¡¯ç¤ºç›¸æ‡‰çš„å…§å®¹ï¼Œä¾‹å¦‚ï¼š</p><img src="/images/Django-FBV-CBV-TemplateView/3.png"><p>ç•¶ç„¶ï¼Œæˆ‘å€‘ä¹Ÿå¯ä»¥ç”¨ HttpResponse ç­‰æ•ˆå®Œæˆé€™æ¨£çš„åŠŸèƒ½ï¼š</p><ol><li><strong>æœ€ç°¡å–®çš„ HttpResponse</strong>ï¼š</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> date<br><span class="hljs-keyword">from</span> django.http <span class="hljs-keyword">import</span> HttpResponse<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">example_view</span>(<span class="hljs-params">request, arg, **kwargs</span>):<br>    kwargs[<span class="hljs-string">&#x27;today&#x27;</span>] = date.today()<br>    <span class="hljs-keyword">return</span> HttpResponse(<span class="hljs-string">f&#x27;example page <span class="hljs-subst">&#123;arg&#125;</span>, today is <span class="hljs-subst">&#123; kwargs[<span class="hljs-string">&quot;today&quot;</span>] &#125;</span>&#x27;</span>)<br></code></pre></td></tr></table></figure><ol><li><strong>ä½¿ç”¨ HttpResponse å’Œ loader</strong>ï¼š</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> date<br><span class="hljs-keyword">from</span> django.http <span class="hljs-keyword">import</span> HttpResponse<br><span class="hljs-keyword">from</span> django.template <span class="hljs-keyword">import</span> loader<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">example_view</span>(<span class="hljs-params">request, my_arg, **kwargs</span>):<br>    kwargs[<span class="hljs-string">&#x27;today&#x27;</span>] = date.today()<br>    template = loader.get_template(<span class="hljs-string">&#x27;blog/example.html&#x27;</span>)<br>    context = &#123;<br>        <span class="hljs-string">&#x27;my_arg&#x27;</span>: my_arg,<br>        **kwargs<br>    &#125;<br>    <span class="hljs-keyword">return</span> HttpResponse(template.render(context, request))<br></code></pre></td></tr></table></figure><ol><li><strong>ä½¿ç”¨ render å‡½æ•¸</strong>ï¼š</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> date<br><span class="hljs-keyword">from</span> django.http <span class="hljs-keyword">import</span> HttpResponse<br><span class="hljs-keyword">from</span> django.shortcuts <span class="hljs-keyword">import</span> render<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">example_view</span>(<span class="hljs-params">request, arg, **kwargs</span>):<br>    kwargs[<span class="hljs-string">&#x27;today&#x27;</span>] = date.today()<br>    <span class="hljs-keyword">return</span> render(request, <span class="hljs-string">&#x27;blog/example.html&#x27;</span>, &#123;<span class="hljs-string">&#x27;arg&#x27;</span>: arg, **kwargs&#125;)<br></code></pre></td></tr></table></figure><p>ä»¥ä¸Šå°±æ˜¯ FBV çš„åŸºç¤ä»‹ç´¹ï¼Œæ¥ä¸‹ä¾†ä¾†ä»‹ç´¹ CBV</p><h2 id="CBV"><a href="#CBV" class="headerlink" title="CBV:"></a>CBV:</h2><p>CBV æ˜¯ Django å…§å»ºæä¾›çš„ä¸€ç¨®è¼ƒæ–°çš„å¯«æ³•ï¼Œé€šéé¡ä¾†å®Œæˆè¦–åœ–é‚è¼¯ã€‚å®ƒæœ‰å¾ˆå¤šå„ªé»ï¼Œæ¯”å¦‚å¯ä»¥è¼•é¬†é‡è¤‡ä½¿ç”¨ç¨‹å¼ï¼Œè®“çµæ§‹æ›´æ¸…æ™°ã€‚</p><p>ä½¿ç”¨ CBVï¼Œæˆ‘å€‘å¯ä»¥å°‡ä¸Šé¢çš„ç¯„ä¾‹æ”¹å¯«æˆé€™æ¨£çš„ TempalteViewï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># views.py</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">HomeView</span>(<span class="hljs-title class_ inherited__">TemplateView</span>):<br>    template_name = <span class="hljs-string">&quot;blog/index.html&quot;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_context_data</span>(<span class="hljs-params">self, arg, **kwargs</span>):<br>        context = <span class="hljs-built_in">super</span>().get_context_data(**kwargs)<br>        context[<span class="hljs-string">&#x27;today&#x27;</span>] = date.today()<br>        context[<span class="hljs-string">&#x27;arg&#x27;</span>] = arg<br>        <span class="hljs-keyword">return</span> context<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># urls.py</span><br><span class="hljs-keyword">from</span> django.urls <span class="hljs-keyword">import</span> path<br><span class="hljs-keyword">from</span> . <span class="hljs-keyword">import</span> views<br><br>urlpatterns = [<br>    path(<span class="hljs-string">&#x27;&lt;str:arg&gt;/&#x27;</span>, views.HomeView.as_view(), name=<span class="hljs-string">&#x27;index&#x27;</span>),<br></code></pre></td></tr></table></figure><p>é›–ç„¶ä¹çœ‹ä¹‹ä¸‹ï¼ŒCBV å’Œ FBV å¯«èµ·ä¾†å¥½åƒå·®ä¸å¤šï¼Œä½†å¯¦éš›ä¸Šï¼ŒCBV çš„<strong>é‡ç”¨æ€§</strong>æ›´å¼·ï¼Œä»£ç¢¼æ›´åŠ çµæ§‹åŒ–ã€‚ç•¶é–‹å§‹å¯«æ›´å¤šçš„é‚è¼¯æ™‚ï¼ŒCBV çš„å„ªå‹¢å°±æœƒè®Šå¾—æ˜é¡¯ï¼Œå°¤å…¶æ˜¯å®ƒçš„ã€Œå›ºå®šå¯«æ³•ã€ï¼Œè®“æˆ‘å€‘ä¸å¿…å»ç³¾çµæ–¼åˆ°åº•è©²ç”¨å“ªç¨® <code>HttpResponse</code>ã€‚é€™å°ç¿’æ…£äº† Ruby on Rails çš„ã€Œconvention over configurationã€çš„äººä¾†èªªï¼Œæœƒæ›´æœ‰è¦ªåˆ‡æ„Ÿã€‚</p><p>Django æä¾›äº†è¨±å¤šå…§å»ºçš„ CBVï¼Œä¾‹å¦‚ <code>TemplateView</code>ã€<code>ListView</code>ã€<code>DetailView</code> ç­‰ï¼Œè©³ç´°å…§å®¹å¯ä»¥è¦‹æ–‡ç« ä¸€é–‹å§‹çš„è¡¨æ ¼ï¼Œé€™äº›å…§å»ºçš„è¦–åœ–å¯ä»¥å¹«åŠ©æˆ‘å€‘å¿«é€Ÿå®Œæˆå¸¸è¦‹åŠŸèƒ½ï¼Œçœå»ä¸å°‘éº»ç…©ï¼Œä»Šå¤©å…ˆåˆ†äº«åˆ°é€™è£¡ï¼Œå¾ŒçºŒæœƒå¸¶å¤§å®¶æ·±å…¥ä»‹ç´¹æ›´å¤šçš„ CBV å…§å»ºè¦–åœ–ï¼Œæ•¬è«‹æœŸå¾…ï½</p><p>æœ¬ç¯‡æ–‡ç« æ˜¯æˆ‘ç”±ä»¥ä¸‹åƒè€ƒè³‡æ–™æ•´ç†+è‡ªå·±ç¹ªåœ–è€Œæˆï¼Œå¦‚æœæ‚¨æœ‰èˆˆè¶£äº†è§£æ›´å¤šï¼Œè«‹åƒè€ƒï¼š</p><h3 id="åƒè€ƒè³‡æ–™ï¼š"><a href="#åƒè€ƒè³‡æ–™ï¼š" class="headerlink" title="åƒè€ƒè³‡æ–™ï¼š"></a>åƒè€ƒè³‡æ–™ï¼š</h3><blockquote><p><a href="https://spookylukey.github.io/django-views-the-right-way/index.html">Django Views â€” Theâ€¯Rightâ€¯Way</a></p></blockquote><blockquote><p><a href="https://docs.djangoproject.com/en/5.1/topics/class-based-views/">Django Docs - CBV</a></p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;style&gt;
.em-div{
background-color: #d4a373;
color: white;
padding: 10px;
margin: 10px;
border-radius: 5px;
}

.em-div2{
border:2px #d4a373 s</summary>
      
    
    
    
    <category term="Django" scheme="http://adora-xu.com/categories/Django/"/>
    
    <category term="Django-CBV" scheme="http://adora-xu.com/categories/Django-CBV/"/>
    
    
    <category term="Django" scheme="http://adora-xu.com/tags/Django/"/>
    
    <category term="FBV" scheme="http://adora-xu.com/tags/FBV/"/>
    
    <category term="CBV" scheme="http://adora-xu.com/tags/CBV/"/>
    
    <category term="TemplateView" scheme="http://adora-xu.com/tags/TemplateView/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨ Django REST Framework å’Œ React å»ºç½®é–‹ç™¼ç’°å¢ƒ</title>
    <link href="http://adora-xu.com/2024/09/15/Quick-Start-Setting-Up-a-Development-Environment-with-Django-REST-Framework-and-React/"/>
    <id>http://adora-xu.com/2024/09/15/Quick-Start-Setting-Up-a-Development-Environment-with-Django-REST-Framework-and-React/</id>
    <published>2024-09-15T14:26:52.000Z</published>
    <updated>2024-09-20T07:07:57.259Z</updated>
    
    <content type="html"><![CDATA[<img src="/images/Quick-Start-Setting-Up-a-Development-Environment-with-Django-REST-Framework-and-React/Main.webp"><p>åœ–ç‰‡ä¾†æºï¼šå¥—ç”¨ Canva æ¨¡æ¿(@veronikagotovceva)</p><p>ä½¿ç”¨ Django çš„éç¨‹ä¸­ï¼Œè¦ºå¾— Django äº¦é©åˆæ¡ç”¨å‰å¾Œç«¯åˆ†é›¢çš„é–‹ç™¼æ¨¡å¼ï¼Œå› æ­¤è‡ªå·±å»ºäº†åŸºç¤ React ç‚ºå‰ç«¯ã€Django ç‚ºå¾Œç«¯çš„ç¶²é å°ˆæ¡ˆï¼Œå»ºç½®çš„éç¨‹æ¥ä¸‹ä¾†æœƒé€ä¸€è§£èªª ( Ë¶â€™áµ•â€™Ë¶)</p><p>ä¹Ÿå¯ä»¥åˆ°<a href="https://github.com/Adoraxuu/NoteWords">æˆ‘çš„ GitHub</a> çœ‹å®Œæˆçš„ç¨‹å¼ç¢¼</p><h2 id="é–‹å§‹ä¹‹å‰"><a href="#é–‹å§‹ä¹‹å‰" class="headerlink" title="é–‹å§‹ä¹‹å‰"></a>é–‹å§‹ä¹‹å‰</h2><p>è«‹ç¢ºèªå®‰è£äº†ä»¥ä¸‹é …ç›®ï¼š</p><ul><li>Python(version &gt;&#x3D;3.8)</li><li><a href="https://python-poetry.org/docs/">Poetry</a>(Django å¥—ä»¶ç®¡ç†å·¥å…·)</li><li>NPM(React å¥—ä»¶ç®¡ç†å·¥å…·)</li></ul><h2 id="å»ºç«‹-React"><a href="#å»ºç«‹-React" class="headerlink" title="å»ºç«‹ React"></a>å»ºç«‹ React</h2><h3 id="1-åˆ°å°ˆæ¡ˆè³‡æ–™å¤¾å…§ï¼Œä½¿ç”¨çµ‚ç«¯æ©Ÿè¼¸å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼š"><a href="#1-åˆ°å°ˆæ¡ˆè³‡æ–™å¤¾å…§ï¼Œä½¿ç”¨çµ‚ç«¯æ©Ÿè¼¸å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼š" class="headerlink" title="1. åˆ°å°ˆæ¡ˆè³‡æ–™å¤¾å…§ï¼Œä½¿ç”¨çµ‚ç«¯æ©Ÿè¼¸å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼š"></a>1. åˆ°å°ˆæ¡ˆè³‡æ–™å¤¾å…§ï¼Œä½¿ç”¨çµ‚ç«¯æ©Ÿè¼¸å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼š</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ npm create vite@latest frontend -- --template react<br></code></pre></td></tr></table></figure><p>é€™æ¢æŒ‡ä»¤çš„ä½œç”¨æ˜¯ï¼š</p><ul><li>ä½¿ç”¨ npm(å¥—ä»¶ç®¡ç†å·¥å…·)ä¸‹è¼‰æœ€æ–°çš„ Viteï¼ˆæ‰“åŒ…å™¨ï¼‰ï¼Œä¸¦å»ºç«‹ä¸€å€‹åç‚º <code>frontend</code> çš„ React æ¡†æ¶ã€‚ï¼ˆç•¶ç„¶ä½ ä¹Ÿå¯ä»¥å–åˆ¥çš„åå­—ï¼‰</li><li>Vite æœƒæ ¹æ“š template(æ¨¡æ¿)ç”¢ç”ŸåŸºæœ¬çš„ React é …ç›®ã€‚</li></ul><h3 id="2-å®‰è£-npm-ä¾è³´é …ç›®ï¼š"><a href="#2-å®‰è£-npm-ä¾è³´é …ç›®ï¼š" class="headerlink" title="2. å®‰è£ npm ä¾è³´é …ç›®ï¼š"></a>2. å®‰è£ npm ä¾è³´é …ç›®ï¼š</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ <span class="hljs-built_in">cd</span> frontend <span class="hljs-comment">#é€²å…¥Reactæ¡†æ¶è³‡æ–™å¤¾</span><br>$ npm instal <span class="hljs-comment"># ä½¿ç”¨npmå®‰è£ä¾è³´é …ç›®</span><br>$ npm run dev <span class="hljs-comment"># é–‹å•Ÿæœå‹™å™¨</span><br></code></pre></td></tr></table></figure><p>æ›´å¤šå…§å®¹å¯ä»¥åƒè€ƒ:<a href="https://cn.vitejs.dev/guide/">Vite å®˜æ–¹æ–‡æª”</a></p><h3 id="3-å®Œæˆ-React-å®‰è£ï¼š"><a href="#3-å®Œæˆ-React-å®‰è£ï¼š" class="headerlink" title="3. å®Œæˆ React å®‰è£ï¼š"></a>3. å®Œæˆ React å®‰è£ï¼š</h3><p>ç…§è‘—æŒ‡ç¤ºé–‹å•Ÿç¶²å€<a href="http://localhost:5173/">http://localhost:5173/</a>ï¼Œæ²’æ„å¤–çš„è©±å°±æœƒçœ‹åˆ°ä»¥ä¸‹ç•«é¢ï¼ŒReact åŸºç¤çš„å®‰è£å°±å®Œæˆäº†ã€‚</p><img src="/images/Quick-Start-Setting-Up-a-Development-Environment-with-Django-REST-Framework-and-React/1.webp"><h2 id="å»ºç«‹-Django-å°ˆæ¡ˆ"><a href="#å»ºç«‹-Django-å°ˆæ¡ˆ" class="headerlink" title="å»ºç«‹ Django å°ˆæ¡ˆ"></a>å»ºç«‹ Django å°ˆæ¡ˆ</h2><h3 id="1-å°ˆæ¡ˆè³‡æ–™å¤¾å…§ä½¿ç”¨çµ‚ç«¯æ©ŸåŸ·è¡Œï¼š"><a href="#1-å°ˆæ¡ˆè³‡æ–™å¤¾å…§ä½¿ç”¨çµ‚ç«¯æ©ŸåŸ·è¡Œï¼š" class="headerlink" title="1. å°ˆæ¡ˆè³‡æ–™å¤¾å…§ä½¿ç”¨çµ‚ç«¯æ©ŸåŸ·è¡Œï¼š"></a>1. å°ˆæ¡ˆè³‡æ–™å¤¾å…§ä½¿ç”¨çµ‚ç«¯æ©ŸåŸ·è¡Œï¼š</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ pip install django djangorestframework django-cors-headers<br></code></pre></td></tr></table></figure><p>æ­¤æŒ‡ä»¤ä½¿ç”¨ pip å®‰è£äº†ä¸‰å€‹å¥—ä»¶ï¼š</p><ul><li>Djangoï¼šå¾Œç«¯ç¶²é æ¡†æ¶</li><li><a href="https://www.django-rest-framework.org/">Django REST framework</a>ï¼šç”¨æ–¼å»ºç«‹ API çš„æ“´å……å¥—ä»¶</li><li>Django CORS headersï¼šç”¨æ–¼è™•ç† CORS è·¨åŸŸè«‹æ±‚å•é¡Œï¼Œè®“ API å®‰å…¨åœ°å¯ä»¥è¢«ä¸åŒçš„ç¶²é è¨ªå•ã€‚</li></ul><h3 id="2-èª¿æ•´å°ˆæ¡ˆæ¶æ§‹ï¼š"><a href="#2-èª¿æ•´å°ˆæ¡ˆæ¶æ§‹ï¼š" class="headerlink" title="2. èª¿æ•´å°ˆæ¡ˆæ¶æ§‹ï¼š"></a>2. èª¿æ•´å°ˆæ¡ˆæ¶æ§‹ï¼š</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ django-admin startproject core <span class="hljs-comment"># ä½¿ç”¨djangoå®‰è£å°ˆæ¡ˆ</span><br>$ <span class="hljs-built_in">mv</span> core backend <span class="hljs-comment"># å°‡å¤–å±¤çš„coreæ”¹åç‚ºbackend</span><br>$ <span class="hljs-built_in">cd</span> backend <span class="hljs-comment"># é€²å…¥å¾Œç«¯è³‡æ–™å¤¾</span><br>$ poetry init --no-interaction --dependency django <span class="hljs-comment"># ä½¿ç”¨å¾Œæ¹å¥—ä»¶ç®¡ç†å·¥å…·</span><br>$ <span class="hljs-built_in">touch</span> [README.md](http://README.md) <span class="hljs-comment">#æ–°å¢å°ˆæ¡ˆèªªæ˜æª”æ¡ˆï¼ˆéå¿…è¦ï¼‰</span><br>$ poetry install <span class="hljs-comment"># å®‰è£ä¾è³´å¥—ä»¶</span><br></code></pre></td></tr></table></figure><p>å®Œæˆä»¥ä¸Šæ­¥é©Ÿå°±å¯ä»¥ä½¿ç”¨æ–‡å­—ç·¨è¼¯å™¨é–‹å•Ÿå°ˆæ¡ˆå•¦( à©­ Ë™á—œË™ )à©­</p><p>å¦å¤–å¯ä»¥åœ¨ poetry ç®¡ç†å¥—ä»¶çš„æª”æ¡ˆï¼š<code>pyproject.toml</code>åŠ ä¸Š<code>package-mode = false</code>ã€‚<br>å› ç‚º poetry æœƒå”åŠ©å»ºç«‹è™›æ“¬ç’°å¢ƒï¼Œæ‰€ä»¥å¾€å¾Œåœ¨å°ˆæ¡ˆå…§çš„çµ‚ç«¯æ©Ÿè¦ä¸‹æŒ‡ä»¤æ™‚éƒ½è¦è¨˜å¾—ä½¿ç”¨<code>$ poetry shell</code>ã€‚</p><p>é€™æ™‚å€™å¯ä»¥çœ‹åˆ°ç›®å‰å°ˆæ¡ˆçµæ§‹ï¼š</p><img src="/images/Quick-Start-Setting-Up-a-Development-Environment-with-Django-REST-Framework-and-React/2.webp"><h3 id="3-é€²è¡Œè³‡æ–™-migrate"><a href="#3-é€²è¡Œè³‡æ–™-migrate" class="headerlink" title="3. é€²è¡Œè³‡æ–™ migrate"></a>3. é€²è¡Œè³‡æ–™ migrate</h3><ul><li>è·‘è³‡æ–™åº«é·ç§» ï¼š<code>$ python manage.py migrate</code></li><li>é–‹å•Ÿä¼ºæœå™¨ï¼š<code>$ python manage.py runserver</code></li></ul><p>é€™è£¡ä½¿ç”¨ Django å…§å»ºçš„ SQLiteï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è‡ªå·±å–œæ­¡çš„è³‡æ–™åº«ï¼ˆåœ¨ GitHub æˆ‘å¾Œä¾†æœ‰æ”¹ç”¨ <a href="https://www.postgresql.org/">PostgreSQL</a> æ‰ä¸Šå‚³ï¼‰</p><h2 id="4-å»ºç«‹-superuser-ï¼†-App"><a href="#4-å»ºç«‹-superuser-ï¼†-App" class="headerlink" title="4.å»ºç«‹ superuser ï¼† App"></a>4.å»ºç«‹ superuser ï¼† App</h2><ul><li>å»ºç«‹ç®¡ç†å“¡ï¼Œæ–¹ä¾¿é€²å…¥ Django å…§å»ºå¾Œå°ï¼š <code>python manage.py createsuperuser</code></li><li>å»ºç«‹ä¸€å€‹åç‚º Word çš„ APPï¼š<code>python manage.py startapp word</code></li></ul><p>é€™æ™‚å€™åŸºç¤çš„ Django å°±å®‰è£å®Œæˆäº†ï¼Œä¸éé‚„éœ€è¦è¨­å®š APIï¼Œæ‰èƒ½æ­èµ·å‰ç«¯å’Œå¾Œç«¯çš„æ©‹æ¨‘ ( Ë¶â€™áµ•â€™Ë¶)</p><h2 id="è¨­å®šå¾Œç«¯-API-APP"><a href="#è¨­å®šå¾Œç«¯-API-APP" class="headerlink" title="è¨­å®šå¾Œç«¯ API &amp; APP"></a>è¨­å®šå¾Œç«¯ API &amp; APP</h2><p>åŸºæœ¬ä¸Šé€™è£¡çš„æ­¥é©Ÿéƒ½æœƒæ˜¯åœ¨ backend è³‡æ–™å¤¾å…§è¨­å®š</p><h3 id="1-Django-çš„ç’°å¢ƒè¨­ç½®"><a href="#1-Django-çš„ç’°å¢ƒè¨­ç½®" class="headerlink" title="1. Django çš„ç’°å¢ƒè¨­ç½®"></a>1. Django çš„ç’°å¢ƒè¨­ç½®</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># backend.core.setting</span><br>INSTALLED_APPS = [<br>    <span class="hljs-string">&#x27;django.contrib.admin&#x27;</span>,<br>    <span class="hljs-string">&#x27;django.contrib.auth&#x27;</span>,<br>    <span class="hljs-string">&#x27;django.contrib.contenttypes&#x27;</span>,<br>    <span class="hljs-string">&#x27;django.contrib.sessions&#x27;</span>,<br>    <span class="hljs-string">&#x27;django.contrib.messages&#x27;</span>,<br>    <span class="hljs-string">&#x27;django.contrib.staticfiles&#x27;</span>,<br>    <span class="hljs-string">&#x27;rest_framework&#x27;</span>, <span class="hljs-comment">#REST framework</span><br>    <span class="hljs-string">&#x27;corsheaders&#x27;</span>, <span class="hljs-comment"># CORS headers</span><br>    <span class="hljs-string">&#x27;words&#x27;</span> <span class="hljs-comment">#APP</span><br>]<br><br>CORS_ALLOW_ORIGINS = [<span class="hljs-string">&#x27;http://localhost:5173&#x27;</span>] <span class="hljs-comment">#è®“djangoå¯ä»¥æ¥å—é€™å€‹reactæ‰“éä¾†çš„apiï¼Œäº¦å¯ä½¿ç”¨ENVä»£å…¥</span><br><br>MIDDLEWARE = [<br>    <span class="hljs-string">&#x27;django.middleware.security.SecurityMiddleware&#x27;</span>,<br>    <span class="hljs-string">&#x27;django.contrib.sessions.middleware.SessionMiddleware&#x27;</span>, <span class="hljs-comment"># å»ºç«‹sessionçš„middleware</span><br>    <span class="hljs-string">&#x27;corsheaders.middleware.CorsMiddleware&#x27;</span>,<br>    <span class="hljs-string">&#x27;django.middleware.common.CommonMiddleware&#x27;</span>,<br>    <span class="hljs-string">&#x27;django.middleware.csrf.CsrfViewMiddleware&#x27;</span>,<br>    <span class="hljs-string">&#x27;django.contrib.auth.middleware.AuthenticationMiddleware&#x27;</span>,<br>    <span class="hljs-string">&#x27;django.contrib.messages.middleware.MessageMiddleware&#x27;</span>,<br>    <span class="hljs-string">&#x27;django.middleware.clickjacking.XFrameOptionsMiddleware&#x27;</span>,<br>]<br></code></pre></td></tr></table></figure><p>é€™éƒ¨çš„ç›®çš„æ˜¯å°‡å‰›å‰›å®‰è£çš„æ“´å……å·¥å…·ã€APP éƒ½è®“ Django çŸ¥é“ï¼Œä¸¦è¨­å®š CORS ä¾†æºç¶²å€ã€‚</p><h2 id="æ–°å»º-word-model"><a href="#æ–°å»º-word-model" class="headerlink" title="æ–°å»º word model"></a>æ–°å»º word model</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># backend.words.models</span><br><span class="hljs-keyword">from</span> django.db <span class="hljs-keyword">import</span> models<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Word</span>(models.Model):<br>    word = models.CharField(max_length=<span class="hljs-number">200</span>, unique=<span class="hljs-literal">True</span>)<br>    pronunciation = models.CharField(max_length=<span class="hljs-number">100</span>)<br><br></code></pre></td></tr></table></figure><p>æ–°å¢ word modelï¼Œä½¿ç”¨é€™å€‹æ˜¯å› ç‚ºæˆ‘æƒ³åšä¸€å€‹å–®å­—å¡ç¶²ç«™ï¼Œå…ˆä½¿ç”¨æœ€ç°¡å–®çš„å®šç¾©ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ä»»ä½•æ‚¨è¦ model æ¶æ§‹ã€‚</p><h2 id="è¨»å†Š-admin-py"><a href="#è¨»å†Š-admin-py" class="headerlink" title="è¨»å†Š admin.py"></a>è¨»å†Š admin.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> django.contrib <span class="hljs-keyword">import</span> admin<br><span class="hljs-keyword">from</span> .models <span class="hljs-keyword">import</span> Word<br><br>admin.site.register(Word)<br></code></pre></td></tr></table></figure><p>è®“å‰›å‰›å‰µçš„ model èƒ½å‡ºç¾åœ¨ admin å…§ï¼Œé€™æ­¥é©Ÿéå¿…è¦ï¼Œä¸»è¦æ˜¯æ–°å¢è³‡æ–™è€Œå·²ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ Django çš„ ORM æ–°å¢è³‡æ–™ï¼Œæˆ‘è‡ªå·±è¦ºå¾—å…§å»ºçš„ admin è »æ–¹ä¾¿çš„æ‰€ä»¥å…ˆæ–°å¢ã€‚</p><h2 id="è¨­å®š-Django-REST-framework"><a href="#è¨­å®š-Django-REST-framework" class="headerlink" title="è¨­å®š Django REST framework"></a>è¨­å®š Django REST framework</h2><h3 id="1-words-å…§æ–°å¢-api-è³‡æ–™å¤¾"><a href="#1-words-å…§æ–°å¢-api-è³‡æ–™å¤¾" class="headerlink" title="1. words å…§æ–°å¢ api è³‡æ–™å¤¾"></a>1. words å…§æ–°å¢ api è³‡æ–™å¤¾</h3><p>æ–°å¢<code>serializers.py</code>ã€<code>urls.py</code>ã€<code>views.py</code>é€™ä¸‰å€‹æª”æ¡ˆï¼š</p><img src="/images/Quick-Start-Setting-Up-a-Development-Environment-with-Django-REST-Framework-and-React/3.webp"><h3 id="2-åºåˆ—åŒ–å™¨ï¼ˆserializersï¼‰"><a href="#2-åºåˆ—åŒ–å™¨ï¼ˆserializersï¼‰" class="headerlink" title="2. åºåˆ—åŒ–å™¨ï¼ˆserializersï¼‰"></a>2. <strong>åºåˆ—åŒ–å™¨ï¼ˆserializersï¼‰</strong></h3><p>é€™ä¸€æ­¥æ˜¯ Django REST Frameworkï¼ˆDRFï¼‰ä¸­éå¸¸é‡è¦çš„åŠŸèƒ½ã€‚<br><strong>åºåˆ—åŒ–å™¨ï¼ˆserializersï¼‰</strong>è² è²¬å°‡æ•¸æ“šè½‰æ›æˆå…¶ä»–æ ¼å¼ä¾†å‚³è¼¸ï¼Œä¾‹å¦‚æˆ‘å€‘å¸¸ç”¨çš„ JSON æ ¼å¼ã€‚<br>å®ƒåŒæ™‚é‚„èƒ½è™•ç†æ•¸æ“šçš„é©—è­‰å’Œã€Œååºåˆ—åŒ–ã€ï¼ˆå³æ¥æ”¶ JSON è³‡æ–™ä¸¦è½‰æ›æˆ Django çš„è³‡æ–™åº«æ¨¡å‹ç‰©ä»¶ï¼‰ï¼Œè®“å»ºç«‹ API çš„éç¨‹æ›´åŠ ç°¡å–®ã€‚</p><p>ç°¡å–®ä¾†èªªï¼Œåºåˆ—åŒ–å™¨å°±åƒæ˜¯ã€Œç¿»è­¯ã€ï¼Œå®ƒå¹«åŠ©ä½¿ç”¨ä¸åŒèªè¨€çš„å‰ç«¯å’Œå¾Œç«¯é€²è¡Œæºé€šã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># backend.words.api.serializers.py</span><br><br><span class="hljs-keyword">from</span> rest_framework.serializers <span class="hljs-keyword">import</span> ModelSerializer<br><span class="hljs-keyword">from</span> ..models <span class="hljs-keyword">import</span> Word<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">WordSerializer</span>(<span class="hljs-title class_ inherited__">ModelSerializer</span>):<br>    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Meta</span>:<br>        model = Word<br>        fields = [<span class="hljs-string">&#x27;id&#x27;</span>, <span class="hljs-string">&#x27;word&#x27;</span>, <span class="hljs-string">&#x27;pronunciation&#x27;</span>]<br></code></pre></td></tr></table></figure><ul><li><code>ModelSerializer</code> ï¼šé€™æ˜¯å¹«åŠ©å°‡ Django æ¨¡å‹è½‰æ›ç‚º API æ ¼å¼çš„å·¥å…·ã€‚</li><li><code>class WordSerializer(ModelSerializer)</code> : å®šç¾©äº†ä¸€å€‹åç‚º WordSerializer çš„åºåˆ—åŒ–å™¨çš„ class</li><li><code>fields = [&#39;id&#39;, &#39;word&#39;, &#39;pronunciation&#39;]</code>ï¼šç•¶æˆ‘å€‘ä½¿ç”¨ <code>WordSerializer</code> æŠŠ <code>Word</code> æ¨¡å‹çš„è³‡æ–™è½‰æ›ç‚º JSON æ™‚ï¼Œè¼¸å‡ºå…§å®¹æœƒåŒ…å«é€™ä¸‰å€‹æ¬„ä½ã€‚åéä¾†ï¼ŒæŠŠ JSON è³‡æ–™è½‰æ›å› Django ç‰©ä»¶æ™‚ï¼Œä¹Ÿåªæœƒè™•ç†é€™äº›æ¬„ä½ã€‚å¦‚æœä½ æƒ³è™•ç†æ‰€æœ‰æ¬„ä½ï¼Œä¹Ÿå¯ä»¥å¯«æˆï¼š<code>fields = &#39;__all__&#39;</code>ã€‚</li></ul><h2 id="3-è¨­å®š-WordViewSetï¼Œä¸¦æŒ‡å®š-WordSerializer"><a href="#3-è¨­å®š-WordViewSetï¼Œä¸¦æŒ‡å®š-WordSerializer" class="headerlink" title="3. è¨­å®š WordViewSetï¼Œä¸¦æŒ‡å®š WordSerializer"></a>3. è¨­å®š WordViewSetï¼Œä¸¦æŒ‡å®š WordSerializer</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># backend.words.api.views.py</span><br><span class="hljs-keyword">from</span> rest_framework.viewsets <span class="hljs-keyword">import</span> ModelViewSet<br><span class="hljs-keyword">from</span> ..models <span class="hljs-keyword">import</span> Word<br><span class="hljs-keyword">from</span> .serializers <span class="hljs-keyword">import</span> WordSerializer<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">WordViewSet</span>(<span class="hljs-title class_ inherited__">ModelViewSet</span>):<br>    queryset = Word.objects.<span class="hljs-built_in">all</span>() <span class="hljs-comment"># å–å¾—æ‰€æœ‰ Word æ¨¡å‹çš„è³‡æ–™</span><br>    serializer_class = WordSerializer <span class="hljs-comment"># æŒ‡å®šä½¿ç”¨ WordSerializer</span><br></code></pre></td></tr></table></figure><ul><li><code>ModelViewSet</code>ï¼šé¡§åæ€ç¾©ï¼Œé€™æ˜¯ã€Œè¦–åœ–çš„é›†åˆã€ï¼Œå°ˆé–€ç”¨ä¾†å¹«æˆ‘å€‘è™•ç†è¦–åœ–é‚è¼¯çš„ã€‚é€™æ˜¯ DRF å…§å»ºçš„åŠŸèƒ½ï¼Œèƒ½è‡ªå‹•å¹«ä½ æå®šå¸¸è¦‹çš„ CRUD æ“ä½œã€‚</li><li><code>WordViewSet</code>ï¼šé€™æ˜¯è‡ªå®šç¾©çš„è¦–åœ–é›†ï¼Œå°ˆé–€è² è²¬è™•ç† <code>Word</code> æ¨¡å‹çš„ API è«‹æ±‚ã€‚ç„¡è«–æ˜¯æŸ¥è³‡æ–™é‚„æ˜¯æ–°å¢ä¿®æ”¹ï¼Œå®ƒéƒ½èƒ½è™•ç†ï¼</li><li><code>serializer_class = WordSerializer</code>ï¼šé€™è£¡æŒ‡å®šäº†åºåˆ—åŒ–å™¨ï¼Œæˆ‘å€‘ç”¨å‰›å‰›å‰µå»ºçš„ <code>WordSerializer</code> ä¾†è™•ç†è³‡æ–™çš„è½‰æ›å’Œé©—è­‰ï¼Œç¢ºä¿æ•¸æ“šæ ¼å¼æ­£ç¢º (â€¢Ì€á´—â€¢Ì)Ùˆã€‚</li></ul><p>ç¸½çµä¸€ä¸‹ï¼Œé€™æ®µç¨‹å¼ç¢¼å¹«æˆ‘å€‘è‡ªå‹•å»ºç«‹äº†ä¸€å€‹å¯ä»¥è™•ç† <code>Word</code> æ¨¡å‹è³‡æ–™çš„ APIã€‚ä½ åªéœ€è¦ç™¼é€è«‹æ±‚ï¼Œå°±èƒ½è¼•é¬†å®ŒæˆæŸ¥è©¢ã€æ–°å¢ã€ä¿®æ”¹å’Œåˆªé™¤è³‡æ–™çš„æ“ä½œï¼ŒçœŸæ˜¯çœæ™‚åˆçœåŠ›ï¼ãƒ½(âœ¿ ï¾Ÿ â–½ ï¾Ÿ)ãƒ</p><h3 id="4-è¨­å®š-URLS-è·¯å¾‘"><a href="#4-è¨­å®š-URLS-è·¯å¾‘" class="headerlink" title="4. è¨­å®š URLS è·¯å¾‘"></a>4. è¨­å®š URLS è·¯å¾‘</h3><p>åœ¨é€™å€‹æ­¥é©Ÿä¸­ï¼Œæˆ‘å€‘å°‡æœƒé€é Django REST Framework çš„ Routers ä¾†è¼•é¬†ç®¡ç† URLï¼Œè®“ä¸åŒçš„ API è«‹æ±‚å¯ä»¥æ­£ç¢ºå°å‘ç›¸æ‡‰çš„è™•ç†é‚è¼¯ã€‚</p><h4 id="4-1-api-urls-pyï¼š"><a href="#4-1-api-urls-pyï¼š" class="headerlink" title="4-1 api.urls.pyï¼š"></a>4-1 api.urls.pyï¼š</h4><p>é¦–å…ˆï¼Œæˆ‘å€‘æœƒåœ¨ <code>words</code> ç›¸é—œçš„è³‡æ–™å¤¾ä¸­æ–°å¢ä¸€å€‹ <code>urls.py</code> æª”æ¡ˆï¼Œä¸¦è¨»å†Š <code>WordViewSet</code> è·¯ç”±ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># backend.words.api.urls.py</span><br><span class="hljs-keyword">from</span> django.urls <span class="hljs-keyword">import</span> path, include<br><span class="hljs-keyword">from</span> rest_framework.routers <span class="hljs-keyword">import</span> DefaultRouter<br><span class="hljs-keyword">from</span> .views <span class="hljs-keyword">import</span> WordViewSet<br><br>word_router = DefaultRouter()<br>word_router.register(<span class="hljs-string">r&#x27;words&#x27;</span>, WordViewSet)<br></code></pre></td></tr></table></figure><ul><li><code>DefaultRouter()</code>ï¼šé€™æ˜¯ Django REST Framework æä¾›çš„é è¨­ Routersï¼Œå®ƒæœƒå¹«ä½ è‡ªå‹•ç”Ÿæˆå¸¸ç”¨çš„ API è·¯å¾‘ï¼Œåƒæ˜¯ <code>GET /words/</code>ã€<code>POST /words/</code>ç­‰ã€‚</li><li><code>register()</code>ï¼šé€™è£¡æˆ‘å€‘å°‡ <code>WordViewSet</code> è¨»å†Šåˆ° Routersï¼Œè®“ <code>/words/</code> è·¯å¾‘å’Œ <code>WordViewSet</code> é€£çµåœ¨ä¸€èµ·ã€‚</li></ul><h4 id="4-2-core-api-urls-py"><a href="#4-2-core-api-urls-py" class="headerlink" title="4-2 core.api.urls.py"></a>4-2 core.api.urls.py</h4><p>æ¥è‘—ï¼Œæˆ‘å€‘åœ¨ <code>core</code> è³‡æ–™å¤¾è£¡æ–°å¢ä¸€å€‹ <code>api</code> è³‡æ–™å¤¾ï¼Œä¸¦åœ¨è£¡é¢æ–°å¢ä¸€å€‹ <code>urls.py</code> æª”æ¡ˆã€‚<br>é€™ä¸€æ­¥çš„é‡é»æ˜¯å°‡ä¹‹å‰è¨­å®šå¥½çš„ <code>words</code> è·¯å¾‘æ•´åˆèµ·ä¾†ï¼Œè®“æ‰€æœ‰çš„ API è·¯å¾‘éƒ½çµ±ä¸€ç”±é€™å€‹ <code>urls.py</code> ä¾†ç®¡ç†ã€‚</p><p>é€™è£¡å°±åƒæ˜¯ API è·¯å¾‘çš„ã€Œéƒ¨é–€ç¶“ç†ã€ï¼Œæ‰€æœ‰çš„ API URL éƒ½è¦äº¤çµ¦å®ƒä¾†ç™¼è™Ÿæ–½ä»¤ï½</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># backend.core.api.urls.py</span><br><span class="hljs-keyword">from</span> rest_framework.routers <span class="hljs-keyword">import</span> DefaultRouter<br><span class="hljs-keyword">from</span> words.api.urls <span class="hljs-keyword">import</span> word_router<br><span class="hljs-keyword">from</span> django.urls <span class="hljs-keyword">import</span> path, include<br><br>router = DefaultRouter()<br><br><span class="hljs-comment"># words</span><br>router.registry.extend(word_router.registry)<br><br><span class="hljs-comment"># å®šç¾©ä¸»è¦çš„ API URL è·¯å¾‘</span><br>urlpatterns = [<br>    path(<span class="hljs-string">&#x27;&#x27;</span>, include(router.urls)),<br>]<br></code></pre></td></tr></table></figure><ul><li><code>router.registry.extend()</code>ï¼šé€™è¡Œç¨‹å¼æŠŠä¹‹å‰åœ¨ <code>words.api.urls.py</code> è£¡è¨­å®šå¥½çš„ Router ä¹Ÿã€Œå ±åˆ°ã€çµ¦éƒ¨é–€ç¶“ç†ï¼Œè®“ <code>/words/</code> è·¯å¾‘èˆ‡å…¶ä»– API ä¸€èµ·è¢«ç®¡ç† (ï½¡â€¢Ì€á´—-)âœ§ï¼Œå°±åƒæ˜¯æ–°å“¡å·¥å ±åˆ°ä¸€æ¨£ï¼Œè®“éƒ¨é–€ç¶“ç†çŸ¥é“æœ‰é€™å€‹è·¯å¾‘åœ¨ã€‚</li><li><code>path(&#39;&#39;, include(router.urls))</code>ï¼šé€™è¡Œå®šç¾©äº†é€²å…¥ API çš„ä¸»è¦è·¯å¾‘ã€‚ç•¶æœ‰äººä¾†è¨ªå•é€™å€‹ç¶²å€æ™‚ï¼Œéƒ¨é–€ç¶“ç†æœƒæŠŠä»»å‹™äº¤çµ¦ç›¸æ‡‰çš„ä¸»ç®¡ routerï¼Œè®“å®ƒå»ç™¼è™Ÿæ–½ä»¤ã€‚</li></ul><h4 id="4-4-core-urls-py"><a href="#4-4-core-urls-py" class="headerlink" title="4.4 core.urls.py"></a>4.4 core.urls.py</h4><p>é€™éƒ¨åˆ†æ‡‰è©²ä¸é›£ç†è§£ï¼Œä¸»è¦æ˜¯è¨­å®š API çš„ä¸»è¦è·¯å¾‘ã€‚å°±åƒæ˜¯ API éƒ¨é–€çš„ç¶“ç†è·Ÿ URL çš„ç¸½ç¶“ç†å ±å‘Šï¼šã€Œæˆ‘å€‘çš„ API éƒ¨é–€å·²ç¶“å»ºç½®å®Œæˆï¼Œå¯ä»¥æ­£å¼é–‹å§‹é‹ä½œå•¦ï¼ã€ (à¹‘â€¢Ì€ã…‚â€¢Ì)Ùˆâœ§</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># backend.core.urls.pu</span><br><span class="hljs-keyword">from</span> django.contrib <span class="hljs-keyword">import</span> admin<br><span class="hljs-keyword">from</span> django.urls <span class="hljs-keyword">import</span> path, include<br><br>urlpatterns = [<br>    path(<span class="hljs-string">&#x27;admin/&#x27;</span>, admin.site.urls),<br>    path(<span class="hljs-string">&#x27;api/&#x27;</span>, include(<span class="hljs-string">&#x27;core.api.urls&#x27;</span>)),<br>]<br></code></pre></td></tr></table></figure><h2 id="5-åŸ·è¡Œ-migrate-ä¸¦å•Ÿå‹•ä¼ºæœå™¨"><a href="#5-åŸ·è¡Œ-migrate-ä¸¦å•Ÿå‹•ä¼ºæœå™¨" class="headerlink" title="5. åŸ·è¡Œ migrate ä¸¦å•Ÿå‹•ä¼ºæœå™¨"></a>5. åŸ·è¡Œ <code>migrate</code> ä¸¦å•Ÿå‹•ä¼ºæœå™¨</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">python manage.py makemigrations<br>python manage.py migrate<br>python manage.py runserver<br></code></pre></td></tr></table></figure><p>ç¶“éä»¥ä¸Šæ­¥é©Ÿï¼Œæˆ‘å€‘çš„å¾Œç«¯ API ä»‹é¢çµ‚æ–¼å»ºç½®å®Œæˆå•¦ï¼ğŸ‰<br>æ‰“é–‹ç€è¦½å™¨ï¼Œè¼¸å…¥ <a href="https://127.0.0.1:8000/api/words">https://127.0.0.1:8000/api/words</a>ï¼Œä½ å°±èƒ½çœ‹åˆ° API ä»‹é¢ï¼<br>åœ¨é€™è£¡ï¼Œä½ å¯ä»¥ç›´æ¥æ–°å¢è³‡æ–™ï¼Œæˆ–è€…æŸ¥çœ‹å¾å¾Œå° Admin æ–°å¢çš„ <code>Word</code> è³‡æ–™ã€‚</p><p>é€™ä»£è¡¨å¾Œç«¯çš„ API å·²ç¶“æ­£å¼å»ºç½®å®Œæˆï¼Œå‰ç«¯ä¹Ÿå¯ä»¥é€éé€™å€‹ API ä¾†ç²å–è³‡æ–™å•¦ï¼(à¹‘â€¢Ì€ã…‚â€¢Ì)Ùˆâœ§</p><img src="/images/Quick-Start-Setting-Up-a-Development-Environment-with-Django-REST-Framework-and-React/4.webp"><h2 id="è¨­å®š-React-ç’°å¢ƒ"><a href="#è¨­å®š-React-ç’°å¢ƒ" class="headerlink" title="è¨­å®š React ç’°å¢ƒ"></a>è¨­å®š React ç’°å¢ƒ</h2><ul><li>é€™è£¡çš„å‹•ä½œéƒ½æœƒåœ¨<code>frontend</code> é€²è¡Œ</li></ul><h3 id="1-åœ¨-frontend-è³‡æ–™å¤¾æ–°å¢-env-æª”æ¡ˆ"><a href="#1-åœ¨-frontend-è³‡æ–™å¤¾æ–°å¢-env-æª”æ¡ˆ" class="headerlink" title="1. åœ¨ frontend è³‡æ–™å¤¾æ–°å¢ .env æª”æ¡ˆ"></a>1. åœ¨ <code>frontend</code> è³‡æ–™å¤¾æ–°å¢ <code>.env</code> æª”æ¡ˆ</h3><p>é¦–å…ˆï¼Œæˆ‘å€‘è¦åœ¨ <code>frontend</code> è³‡æ–™å¤¾è£¡æ–°å¢ä¸€å€‹ <code>.env</code> æª”æ¡ˆï¼Œè£¡é¢è¨­å®š API çš„ç¶²å€ï¼Œé€™æ¨£ä¹‹å¾Œæˆ‘å€‘åœ¨ç¨‹å¼ç¢¼è£¡å°±å¯ä»¥é€éç’°å¢ƒè®Šæ•¸ä¾†è®€å– API è·¯å¾‘äº†ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">VITE_API_URL=http://localhost:<span class="hljs-number">8000</span>/api/<br></code></pre></td></tr></table></figure><h3 id="2-æ¸¬è©¦ç’°å¢ƒè®Šæ•¸"><a href="#2-æ¸¬è©¦ç’°å¢ƒè®Šæ•¸" class="headerlink" title="2. æ¸¬è©¦ç’°å¢ƒè®Šæ•¸"></a>2. æ¸¬è©¦ç’°å¢ƒè®Šæ•¸</h3><p>æ¥ä¸‹ä¾†ï¼Œæˆ‘å€‘è¦ç¢ºèªç’°å¢ƒè®Šæ•¸æ˜¯å¦è¨­ç½®æˆåŠŸã€‚åœ¨ <code>src/app.jsx</code> è£¡æ–°å¢ä»¥ä¸‹ä»£ç¢¼ï¼Œç„¶å¾Œåœ¨ç€è¦½å™¨çš„æ§åˆ¶å°ä¸­çœ‹çœ‹çµæœå§ï¼âœ¨</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># src.app.jsx</span><br><span class="hljs-keyword">import</span> &#123; useState, useEffect &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><br>function App() &#123;<br><br>  useEffect(() =&gt; &#123;<br>    console.log(<span class="hljs-keyword">import</span>.meta.env.VITE_API_URL)<br>  &#125;, [])<br><br>  <span class="hljs-keyword">return</span> (<br>    &lt;div&gt;<br>      &lt;h1&gt;Hello World&lt;/h1&gt;<br>    &lt;/div&gt;<br>  )<br>&#125;<br><br>export default App<br><br></code></pre></td></tr></table></figure><p>ç€è¦½å™¨æ‰“é–‹å¾Œï¼Œå¦‚æœæ§åˆ¶å°æˆåŠŸè¼¸å‡ºæˆ‘å€‘å‰›å‰›åœ¨ <code>.env</code> æª”æ¡ˆè£¡è¨­å®šçš„ API URLï¼Œé‚£å°±ä»£è¡¨ç’°å¢ƒè®Šæ•¸è¨­ç½®æˆåŠŸå•¦ï¼Ù©(â—•â€¿â—•ï½¡)Û¶</p><img src="/images/Quick-Start-Setting-Up-a-Development-Environment-with-Django-REST-Framework-and-React/5.webp"><h3 id="3-å¾-API-æŠ“å–è³‡æ–™"><a href="#3-å¾-API-æŠ“å–è³‡æ–™" class="headerlink" title="3. å¾ API æŠ“å–è³‡æ–™"></a>3. å¾ API æŠ“å–è³‡æ–™</h3><p>ç¾åœ¨ï¼Œæˆ‘å€‘ä¾†è®“ React å¾ API æŠ“å–è³‡æ–™ï¼Œä¸¦åœ¨ç¶²é ä¸Šé¡¯ç¤ºçµæœã€‚ä»¥ä¸‹æ˜¯æ›´æ–°å¾Œçš„ <code>App</code> å…ƒä»¶ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># src.app.jsx</span><br><br><span class="hljs-keyword">import</span> &#123; useState, useEffect &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span><br><br>function App() &#123;<br>  const [data, setData] = useState([])<br><br>  useEffect(() =&gt; &#123;<br>    <span class="hljs-keyword">async</span> function fetchData() &#123;<br>      <span class="hljs-keyword">try</span> &#123;<br>        const response = <span class="hljs-keyword">await</span> fetch(`$&#123;<span class="hljs-keyword">import</span>.meta.env.VITE_API_URL&#125;/words/`);<br>        <span class="hljs-keyword">if</span> (!response.ok) &#123;<br>          throw new Error(<span class="hljs-string">&#x27;Network response was not ok&#x27;</span>);<br>        &#125;<br>        const data = <span class="hljs-keyword">await</span> response.json();<br>        setData(data);<br>        console.log(data)<br>      &#125; catch (error) &#123;<br>        console.error(<span class="hljs-string">&#x27;Error fetching data:&#x27;</span>, error);<br>      &#125;<br>    &#125;<br>    fetchData();<br>  &#125;, [])<br><br>  <span class="hljs-keyword">return</span> (<br>    &lt;div&gt;<br>      &lt;h1&gt;Hello World&lt;/h1&gt;<br>      &#123;data.<span class="hljs-built_in">map</span>((word) =&gt; (<br>        &lt;div key=&#123;word.<span class="hljs-built_in">id</span>&#125;&gt;<br>          &lt;h2&gt;&#123;word.word&#125;&lt;/h2&gt;<br>          &lt;p&gt;&#123;word.pronunciation&#125;&lt;/p&gt;<br>        &lt;/div&gt;<br>      ))&#125;<br>    &lt;/div&gt;<br>  )<br>&#125;<br><br>export default App<br><br></code></pre></td></tr></table></figure><p>åœ¨é€™æ®µç¨‹å¼ç¢¼ä¸­ï¼š</p><ul><li>æˆ‘å€‘ç”¨ <code>useState</code> ä¾†å­˜æ”¾å¾ API å–å¾—çš„è³‡æ–™ã€‚</li><li>ä½¿ç”¨ <code>useEffect</code> ä¾†åœ¨å…ƒä»¶è¼‰å…¥æ™‚æŠ“å– API è³‡æ–™ï¼Œä¸¦å°‡è³‡æ–™é¡¯ç¤ºåœ¨ç•«é¢ä¸Šã€‚</li><li>æ¯å€‹å–®å­—æœƒé¡¯ç¤ºå…¶ <code>word</code> å’Œ <code>pronunciation</code>ã€‚</li></ul><p>é€™æ¨£ä¸€ä¾†ï¼Œæˆ‘å€‘å°±èƒ½å¾å¾Œç«¯ API æ‹¿åˆ°è³‡æ–™ä¸¦åœ¨å‰ç«¯ç¶²é ä¸Šå‹•æ…‹é¡¯ç¤ºå•¦ï¼ãƒ¾(ï¼¾ âˆ‡ ï¼¾)</p><img src="/images/Quick-Start-Setting-Up-a-Development-Environment-with-Django-REST-Framework-and-React/6.webp"><p>æœ¬ç¯‡æ–‡ç« æ˜¯æˆ‘ç”±ä»¥ä¸‹åƒè€ƒè³‡æ–™æ•´ç†è€Œæˆï¼Œå¦‚æœæ‚¨æœ‰èˆˆè¶£äº†è§£æ›´å¤šï¼Œè«‹åƒè€ƒï¼š</p><h3 id="åƒè€ƒè³‡æ–™ï¼š"><a href="#åƒè€ƒè³‡æ–™ï¼š" class="headerlink" title="åƒè€ƒè³‡æ–™ï¼š"></a>åƒè€ƒè³‡æ–™ï¼š</h3><ul><li><a href="https://vitejs.dev/">Vite</a></li><li><a href="https://react.dev/learn">React</a></li><li><a href="https://docs.djangoproject.com/en/stable/">Django</a></li><li><a href="https://www.django-rest-framework.org/">Django REST Framework</a></li><li><a href="https://github.com/twtrubiks/django-rest-framework-tutorial">django-rest-framework-tutorial</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;img src=&quot;/images/Quick-Start-Setting-Up-a-Development-Environment-with-Django-REST-Framework-and-React/Main.webp&quot;&gt;

&lt;p&gt;åœ–ç‰‡ä¾†æºï¼šå¥—ç”¨ Canva æ¨¡æ¿(@ve</summary>
      
    
    
    
    <category term="Django" scheme="http://adora-xu.com/categories/Django/"/>
    
    <category term="React" scheme="http://adora-xu.com/categories/React/"/>
    
    <category term="Django REST" scheme="http://adora-xu.com/categories/Django-REST/"/>
    
    
    <category term="Django" scheme="http://adora-xu.com/tags/Django/"/>
    
    <category term="React" scheme="http://adora-xu.com/tags/React/"/>
    
    <category term="Django REST" scheme="http://adora-xu.com/tags/Django-REST/"/>
    
    <category term="Frontend" scheme="http://adora-xu.com/tags/Frontend/"/>
    
    <category term="Backend" scheme="http://adora-xu.com/tags/Backend/"/>
    
    <category term="Python" scheme="http://adora-xu.com/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>React: å¯¦é«”èª²ç¨‹å­¸ç¿’å¿ƒå¾—</title>
    <link href="http://adora-xu.com/2024/06/28/react/"/>
    <id>http://adora-xu.com/2024/06/28/react/</id>
    <published>2024-06-28T04:24:24.000Z</published>
    <updated>2024-09-20T07:07:57.260Z</updated>
    
    <content type="html"><![CDATA[<img src="/images/react/React.webp"><p>ä½œç‚ºä¸€åå‰›èµ·æ­¥çš„ Junior å…¨ç«¯å·¥ç¨‹å¸«ï¼Œæˆ‘éå»å¤§å¤šæ˜¯ç”¨ JavaScript æ’°å¯«å‰ç«¯ç¨‹å¼ã€‚ç‚ºäº†æå‡è‡ªå·±çš„æŠ€èƒ½ï¼Œæˆ‘æ±ºå®šå ±åäº”å€å­¸é™¢é–‹è¨­çš„<a href="https://5xcampus.com/courses/react.html">ã€ŠReact å…¨æ”»ç•¥ - å…¥é–€åˆ°é€²éšã€‹</a>èª²ç¨‹ï¼Œç›®æ¨™æ˜¯æ·±å…¥å­¸ç¿’æ™‚ä¸‹ç†±é–€çš„å‰ç«¯æ¡†æ¶ï¼šReactï¼Œä¸¦æœè‘— Senior å·¥ç¨‹å¸«çš„æ–¹å‘é‚é€²ã€‚</p><p>åœ¨å­¸ç¿’ React çš„éç¨‹ä¸­ï¼Œæ”¶ç©«äº†å¥½å¤šå¯¶è²´çš„ç¶“é©—ã€‚å¥¶ç¶ èŒ¶è€å¸«æ˜¯ä¸€ä½æ¥­ç•Œè³‡æ·±çš„å·¥ç¨‹å¸«ä¸»ç®¡ï¼Œä»–å¾åº•å±¤é‚è¼¯é–‹å§‹è¬›è§£ React çš„åŸºç¤çŸ¥è­˜ï¼Œä¸¦ç”¨ç¨‹å¼ç¢¼ä½œç‚ºç¯„ä¾‹ï¼Œåˆ†äº«äº†è¨±å¤šæ¥­ç•Œçš„å¯¦æˆ°ç¶“é©—å’Œåœ¨å·¥ä½œä¸­å¯¦éš›æœƒç”¨åˆ°çš„ React å¯«æ³•ã€‚é€™äº›å…§å®¹ä¸åƒ…è®“æˆ‘ç†è§£å¾—æ›´æ·±å…¥ï¼Œä¹Ÿè®“æˆ‘åœ¨æ‡‰ç”¨ React æ™‚æ›´åŠ å¾—å¿ƒæ‡‰æ‰‹ã€‚</p><p>è€Œä¸”è€å¸«ä¸Šèª²é¢¨æ ¼å¹½é»˜æœ‰è¶£ï¼Œèª²ç¨‹ä¸­æœƒç©¿æ’å·¥ä½œä¸Šèˆ‡ React æˆ–æ˜¯å·¥ç¨‹å¸«ç›¸é—œçš„è¶£äº‹ï¼Œä¹Ÿè®“èª²ç¨‹å…§å®¹è®Šå¾—æ›´æ´»æ½‘åŠç”Ÿæ´»åŒ–ï¼Œæ¯æ¬¡ä¸Šèª²å®Œéƒ½è¦ºå¾—é™¤äº†å­¸ç¿’ React ä¹‹å¤–ï¼Œä¹Ÿé€éèª²ç¨‹å…§å®¹è®“è‡ªå·±é–‹çœ¼ç•Œã€å­¸ç¿’è³‡æ·±å·¥ç¨‹å¸«çš„æ€è€ƒæ–¹å¼ï¼Œæ¯æ¬¡ä¸Šèª²å®Œéƒ½è¦ºå¾—æ”¶ç©«æ»¿æ»¿ã€‚</p><h2 id="èª²ç¨‹ç°¡ä»‹"><a href="#èª²ç¨‹ç°¡ä»‹" class="headerlink" title="èª²ç¨‹ç°¡ä»‹"></a>èª²ç¨‹ç°¡ä»‹</h2><p>ã€ŠReact å…¨æ”»ç•¥ - å…¥é–€åˆ°é€²éšã€‹èª²ç¨‹æ˜¯ç‚ºäº†å¹«åŠ©å­¸å“¡æ‰“å¥½ React çš„åŸºç¤ï¼Œæˆç‚ºæ›´åŠ æ‰å¯¦çš„ React å‰ç«¯å·¥ç¨‹å¸«è€Œè¨­è¨ˆçš„ã€‚èª²ç¨‹å…§å®¹æ¶µè“‹äº†å¾åŸºç¤åˆ°é€²éšçš„å„å€‹æ–¹é¢ï¼Œè€å¸«é‚„æœƒåˆ†äº«è¨±å¤šå¯¦éš›é–‹ç™¼ä¸­çš„åœ˜éšŠå”ä½œç¶“é©—å’ŒæŠ€å·§ï¼Œé€™äº›éƒ½æ˜¯æ›¸ç±å’Œä¸€èˆ¬ç·šä¸Šèª²ç¨‹ä¸­é›£ä»¥è¦‹åˆ°çš„å¯¶è²´å…§å®¹ã€‚</p><p>å¥¶ç¶ èŒ¶è€å¸«é€é 50+ ä»½ç¤ºç¯„ç¨‹å¼æª”æ¡ˆï¼Œå¾æœ€åŸºç¤çš„ React Components å¦‚ä½•æ’°å¯« ã€Props å‚³éæ©Ÿåˆ¶ç­‰ï¼Œåˆ†äº« React æ ¸å¿ƒèªæ³•ï¼›é‚„æœ‰ Typescript ã€styled-components ã€Tailwind CSSã€Redux ç­‰æ›´é€²éšçš„å¯¦æˆ°æ‡‰ç”¨ã€‚</p><p>é€™é–€èª²ç‰¹åˆ¥é©åˆä»¥ä¸‹çš„äººï¼š</p><ul><li>å‰ç«¯å·¥ç¨‹å¸«ï¼šå¸Œæœ›é€éå­¸ç¿’ React ä¾†ç²¾é€² JavaScript æŠ€è¡“ã€‚</li><li>æœ‰ Vue.js æˆ– Angular é–‹ç™¼ç¶“é©—è€…ï¼šæƒ³å¿«é€Ÿä¸Šæ‰‹ Reactã€‚</li><li>æœ‰ React è‡ªå­¸ç¶“é©—çš„é–‹ç™¼è€…ï¼šå¸Œæœ›éå›ºåŸºç¤è§€å¿µã€‚</li><li>æƒ³äº†è§£ React é–‹ç™¼åœ˜éšŠåˆä½œèˆ‡ç®¡ç†çš„é–‹ç™¼è€…ï¼šå°‹æ±‚æ›´é«˜æ•ˆçš„åœ˜éšŠå”ä½œæ–¹æ³•ã€‚</li></ul><h2 id="React-çš„åŸºç¤çŸ¥è­˜"><a href="#React-çš„åŸºç¤çŸ¥è­˜" class="headerlink" title="React çš„åŸºç¤çŸ¥è­˜"></a>React çš„åŸºç¤çŸ¥è­˜</h2><p>åœ¨èª²å ‚ä¸Šï¼Œè€å¸«è©³ç´°è¬›è§£äº† JSXã€çµ„ä»¶ï¼ˆComponentsï¼‰ã€å±¬æ€§ï¼ˆPropsï¼‰ã€ç‹€æ…‹ï¼ˆStateï¼‰ç­‰åŸºç¤çŸ¥è­˜ã€‚é€™äº›æ˜¯å­¸ç¿’ React çš„æ ¸å¿ƒåŸºç¤ï¼Œäº†è§£äº†æ ¸å¿ƒçš„åº•å±¤é‚è¼¯å¾Œï¼Œæ›´èƒ½é€²ä¸€æ­¥å­¸ç¿’å’Œæ‡‰ç”¨ã€‚</p><h3 id="Components-Props"><a href="#Components-Props" class="headerlink" title="Components &amp; Props"></a>Components &amp; Props</h3><p>åœ¨ React ä¸­ï¼Œcomponent æ˜¯è®“ç¨‹å¼é‡è¤‡åˆ©ç”¨çš„é‡è¦åŸºç¤ã€‚<br>å¥¶ç¶ èŒ¶è€å¸«æ•™æˆ‘å€‘å¦‚ä½•å‰µå»º component ä¸¦ä½¿ç”¨ props å‚³éæ•¸æ“šï¼Œä¸¦æ•™å°äº†æˆ‘å€‘å¹¾å€‹é‡è¦çš„æ¦‚å¿µï¼š</p><ul><li>compnent è¦ç²å–è®Šæ•¸ï¼Œä¸€å®šæœƒå¾ props æ‹¿</li><li>React component çš„ç¬¬ä¸€å€‹åƒæ•¸å°±æ˜¯ propsï¼Œå…¶å‹åˆ¥ä¸€å®šæ˜¯ç‰©ä»¶</li></ul><p>å¯¦éš›çš„ç¨‹å¼ç¢¼ç¯„ä¾‹ï¼š</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">PropTypes</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;prop-types&quot;</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">FunctionalCard01</span> = (<span class="hljs-params">props</span>) =&gt; &#123;<br>  <span class="hljs-keyword">const</span> &#123; img, name, children, price &#125; = props;<br>  <span class="hljs-keyword">return</span> (<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;category-item&quot;</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;category-item__img&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&#123;img&#125;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&#123;name&#125;</span> /&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;category-item__name&quot;</span>&gt;</span>&#123;name&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;category-item__price&quot;</span>&gt;</span>&#123;price&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;category-item__quote&quot;</span>&gt;</span>&#123;children&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>  );<br>&#125;;<br><br><span class="hljs-title class_">FunctionalCard01</span>.<span class="hljs-property">propTypes</span> = &#123;<br>  <span class="hljs-attr">price</span>: <span class="hljs-title class_">PropTypes</span>.<span class="hljs-property">number</span>.<span class="hljs-property">isRequired</span>,<br>  <span class="hljs-attr">img</span>: <span class="hljs-title class_">PropTypes</span>.<span class="hljs-property">string</span>.<span class="hljs-property">isRequired</span>,<br>  <span class="hljs-attr">name</span>: <span class="hljs-title class_">PropTypes</span>.<span class="hljs-property">string</span>.<span class="hljs-property">isRequired</span>,<br>  <span class="hljs-attr">children</span>: <span class="hljs-title class_">PropTypes</span>.<span class="hljs-property">node</span>,<br>&#125;;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">FunctionalCard01</span>;<br></code></pre></td></tr></table></figure><p>é€™æ˜¯ä¸€æ®µç°¡å–®çš„ Functional Componentï¼Œå®ƒæ¥æ”¶ props ä¸¦åœ¨ JSX ä¸­æ¸²æŸ“ã€‚é€™ç¨®æ–¹å¼è®“ component è®Šå¾—æ›´ç‚ºéˆæ´»å’Œå¯é‡è¤‡ä½¿ç”¨ã€‚</p><h3 id="useState"><a href="#useState" class="headerlink" title="useState"></a>useState</h3><ul><li>æ¯å€‹ component é™¤äº†å¯ä»¥å¾ props æ‹¿å€¼å¤–ï¼Œæœ¬èº«é‚„å¯ä»¥å„²å­˜è®Šæ•¸ã€‚å°±åƒç‰©ä»¶å¯ä»¥å„²å­˜è‡ªå·±çš„å±¬æ€§ä¸€æ¨£ï¼ŒReact component ä¹Ÿå¯ä»¥æœ‰è‡ªå·±çš„ç‹€æ…‹ã€‚</li><li>å‡½æ•¸æ²’æœ‰ this æ¦‚å¿µï¼Œå®ƒåœ¨å‘¼å«å®Œå¾Œå°±è¢«é‡‹æ”¾ï¼Œç„¡æ³•åœ¨å‡½æ•¸å…§éƒ¨å„²å­˜è®Šæ•¸çš„çµæœã€‚è¦å¦‚ä½•åœ¨å‡½æ•¸ä¸­å„²å­˜è®Šæ•¸çš„ç‹€æ…‹å‘¢ï¼Ÿå¯ä»¥ä½¿ç”¨ useState ä¾†å¯¦ç¾ã€‚</li></ul><p>å¯¦éš›çš„ç¨‹å¼ç¢¼ç¯„ä¾‹ï¼š</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);<br><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">atClick</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>  <span class="hljs-title function_">setCount</span>(count + <span class="hljs-number">1</span>);<br>&#125;;<br><br><span class="hljs-keyword">return</span> (<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;border p-2 border-black&quot;</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;count&quot;</span>&gt;</span>count: &#123;count&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">&#123;atClick&#125;</span>&gt;</span></span><br><span class="language-xml">      increment</span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>);<br></code></pre></td></tr></table></figure><p>é€™æ®µç¨‹å¼ç¢¼è¡¨ç¤ºä½¿ç”¨ useState ä¾†ç®¡ç†è¨ˆæ•¸å™¨çš„ç‹€æ…‹ï¼Œä¸¦åœ¨æŒ‰éˆ•é»æ“Šæ™‚æ›´æ–°ç‹€æ…‹ã€‚</p><p>å¦å¤– React çš„ useState é‚„æœ‰ä¸€å€‹é‡è¦çš„è§€å¿µï¼š</p><ul><li>useState å„²å­˜ç‹€æ…‹ï¼Œåªæœ‰ç¬¬ä¸€æ¬¡å‚³å…¥çš„å€¼æœƒè¢«ä½¿ç”¨ã€‚æ‰€ä»¥ï¼ŒReact çš„ useState å…è¨±ä½ å‚³å…¥ä¸€å€‹å‡½å¼ä¾†å›å‚³åˆå§‹å€¼ï¼Œé€™å€‹å‡½å¼åªæœƒè¢«åŸ·è¡Œä¸€æ¬¡ã€‚æ˜¯å¦éœ€è¦ä½¿ç”¨é€™å€‹å‡½å¼å–æ±ºæ–¼åˆå§‹åŒ–çš„æˆæœ¬æ˜¯å¦æ˜‚è²´ã€‚</li></ul><p>å¯¦éš›çš„ç¨‹å¼ç¢¼ç¯„ä¾‹ï¼š</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs jsx"><span class="hljs-comment">// <span class="hljs-doctag">FIXME:</span> Bad</span><br><span class="hljs-comment">// é€™è£¡æœƒè¢«åŸ·è¡Œå¥½å¤šæ¬¡</span><br><span class="hljs-keyword">const</span> [countBad, setCountBad] = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">useState</span>(<span class="hljs-title function_">getInitialState</span>(<span class="hljs-string">&#x27;bad&#x27;</span>));<br><br><span class="hljs-comment">// [x]: Correct</span><br><span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">useState</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>  <span class="hljs-comment">// é€™è£¡çš„ function åªæœƒè¢«åŸ·è¡Œä¸€æ¬¡</span><br>  <span class="hljs-keyword">return</span> <span class="hljs-title function_">getInitialState</span>(<span class="hljs-string">&#x27;correct&#x27;</span>);<br>&#125;);<br></code></pre></td></tr></table></figure><h3 id="å¾å…¥é–€åˆ°é€²éš"><a href="#å¾å…¥é–€åˆ°é€²éš" class="headerlink" title="å¾å…¥é–€åˆ°é€²éš"></a>å¾å…¥é–€åˆ°é€²éš</h3><p>é™¤äº†ä»¥ä¸Šçš„ç¯„ä¾‹ï¼Œå¥¶ç¶ èŒ¶è€å¸«çš„ React èª²ç¨‹ç·Šæ‰£èª²ç¨‹çš„æ¨™é¡Œã€Œå¾å…¥é–€åˆ°é€²éšã€ï¼Œè®“æˆ‘å°è±¡æ·±åˆ»çš„å…§å®¹é‚„æœ‰ï¼šuseEffect ç¬¬äºŒå€‹åƒæ•¸çš„å·®ç•°ã€æ·±å…¥ç†è§£ useRef å¹«åŠ©æˆ‘å€‘ç²å– DOM å…ƒç´ ï¼Œä½¿ç”¨ useState å’Œ useEffect ä¾†è™•ç†è¡¨å–®è¼¸å…¥å’Œé©—è­‰ã€ä½¿ç”¨ React.memo ä¾†å„ªåŒ– component æ€§èƒ½ï¼Œé¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“ã€è‡ªå®šç¾© Fetch Hook å°‡é‚è¼¯æå–åˆ°å¯é‡ç”¨çš„å‡½å¼ä½¿çµ„ä»¶æ›´åŠ ç°¡æ½”ï¼Œä¸¦ä¸”æ›´æ˜“æ–¼æ¸¬è©¦å’Œç¶­è­·ã€ä½¿ç”¨ Redux Thunk é€²è¡Œç•°æ­¥æ“ä½œã€ä½¿ç”¨ testing library é€²è¡Œå–®å…ƒæ¸¬è©¦ç­‰ç­‰ï¼Œé€™äº›éƒ½è®“æˆ‘å° React æœ‰äº†æ›´å…¨é¢çš„äº†è§£ã€‚</p><p>å¦‚æœä½ åœ¨è‡ªå­¸ React çš„è·¯ä¸Šï¼Œä½†ç¸½è¦ºå¾—å¡å¡çš„ï¼Œæˆ–æ˜¯ä¸æ‡‚ä½¿ç”¨ A æ–¹æ³•æˆ– B æ–¹æ³•å“ªå€‹æ¯”è¼ƒå¥½ã€æ•ˆç‡æ¯”è¼ƒé«˜ã€ä¸æ‡‚å“ªå€‹æ–¹æ³•åœ¨å·¥ä½œä¸Šæ¯”è¼ƒå¸¸ä½¿ç”¨ï¼Œéƒ½æ¨è–¦ä½ ä¾†ä¸Šå¥¶ç¶ èŒ¶è€å¸«çš„ã€ŠReact å…¨æ”»ç•¥ - å…¥é–€åˆ°é€²éšã€‹èª²ç¨‹ï¼Œé™¤äº†èƒ½è§£æ±ºä½ ä»¥ä¸Šçš„å•é¡Œï¼Œæ›´èƒ½å¤ è®“ä½ åœ¨ React çš„å­¸ç¿’ä¸Šæœ‰å…¨é¢çš„æå‡ã€å°‘èµ°å¾ˆå¤šå½è·¯ï¼</p>]]></content>
    
    
      
      
    <summary type="html">&lt;img src=&quot;/images/react/React.webp&quot;&gt;

&lt;p&gt;ä½œç‚ºä¸€åå‰›èµ·æ­¥çš„ Junior å…¨ç«¯å·¥ç¨‹å¸«ï¼Œæˆ‘éå»å¤§å¤šæ˜¯ç”¨ JavaScript æ’°å¯«å‰ç«¯ç¨‹å¼ã€‚ç‚ºäº†æå‡è‡ªå·±çš„æŠ€èƒ½ï¼Œæˆ‘æ±ºå®šå ±åäº”å€å­¸é™¢é–‹è¨­çš„&lt;a href=&quot;https://5xcampus.com</summary>
      
    
    
    
    <category term="React" scheme="http://adora-xu.com/categories/React/"/>
    
    
    <category term="React" scheme="http://adora-xu.com/tags/React/"/>
    
    <category term="JavaScript" scheme="http://adora-xu.com/tags/JavaScript/"/>
    
    <category term="äº”å€å­¸é™¢" scheme="http://adora-xu.com/tags/%E4%BA%94%E5%80%8D%E5%AD%B8%E9%99%A2/"/>
    
  </entry>
  
  <entry>
    <title>Ruby on Rails: ä»€éº¼æ˜¯Abstraction layer</title>
    <link href="http://adora-xu.com/2024/03/31/ruby-on-rails-abstraction-layer/"/>
    <id>http://adora-xu.com/2024/03/31/ruby-on-rails-abstraction-layer/</id>
    <published>2024-03-31T15:19:47.000Z</published>
    <updated>2024-09-20T07:07:57.161Z</updated>
    
    <content type="html"><![CDATA[<style>.em-div{background-color: #d4a373;color: white;padding: 10px;margin: 10px;border-radius: 5px;}.em-div2{border:2px #d4a373 solid;margin:5px;padding:10px 2px 2px 2px;border-style:dashed;}</style><h3 id=""><a href="#" class="headerlink" title=""></a></h3><img src="/images/ruby-on-rails-abstraction-layer/banner.jpg"><blockquote><p>åœ–ç‰‡ä¾†æº: <a href="https://unsplash.com/photos/orange-pink-and-teal-illustration-Tk0B3Dfkf_4">Usplash - Clark Van Der Beken</a></p></blockquote><h2 id="-1"><a href="#-1" class="headerlink" title=""></a></h2><p>é¦–åœ–çš„layerå¥½ç¾Ù©(à¹‘â›á´—â›à¹‘)Û¶ï¼Œä¸éå°æ–¼ç¨‹å¼çš„ä¸–ç•Œï¼ŒLayerçš„æ„ç¾©éå¸¸åœ°é¼é—Šï¼Œä¾†çœ‹ä¸‹ç¶­åŸºç™¾ç§‘å°æ–¼Layerçš„å®šç¾©ï¼š</p><div class="em-div2"><p><a href="https://zh.wikipedia.org/wiki/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%AE%BE%E8%AE%A1">ç‰©ä»¶å°å‘è¨­è¨ˆ</a>ä¸­çš„<strong>å±¤</strong>ï¼ˆlayerï¼‰æ˜¯ä¸€ç¾¤å’Œå…¶ä»–<a href="https://zh.wikipedia.org/wiki/%E8%BB%9F%E9%AB%94%E6%A8%A1%E7%B5%84">æ¨¡çµ„</a>æœ‰é¡ä¼¼<a href="https://zh.wikipedia.org/wiki/%E8%80%A6%E5%90%88%E6%80%A7_(%E8%A8%88%E7%AE%97%E6%A9%9F%E7%A7%91%E5%AD%B8)">è€¦åˆæ€§</a>çš„<a href="https://zh.wikipedia.org/wiki/%E7%B1%BB_(%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6)">é¡åˆ¥</a>ã€‚å±¤ä¹Ÿå¯ä»¥èªªæ˜¯ä¸€çµ„å¯<a href="https://zh.wikipedia.org/wiki/%E5%A4%8D%E7%94%A8">å¾©ç”¨</a>çš„è»Ÿé«”çµ„ä»¶ï¼Œå¯ä»¥åœ¨é¡ä¼¼çš„ç’°å¢ƒä¸‹å¾©ç”¨ã€‚</p><p>å„å±¤çš„æ¨¡çµ„æœƒç”¨<a href="https://zh.wikipedia.org/wiki/%E6%A0%91_(%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84)">æ¨¹</a>ç‹€çš„éšç´šæ¶æ§‹ä¾†è¦åŠƒï¼Œå„å±¤æ¨¡çµ„ä¹‹é–“çš„ä¾è³´é—œä¿‚æœƒç”¨é€£æ¥ä¾†è¡¨ç¤ºã€‚å„å±¤ä¹‹é–“çš„ä¾è³´é—œä¿‚å¯èƒ½æ˜¯<a href="https://zh.wikipedia.org/wiki/%E7%BB%A7%E6%89%BF_(%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6)">ç¹¼æ‰¿</a>ã€<a href="https://zh.wikipedia.org/w/index.php?title=%E7%89%A9%E4%BB%B6%E8%A4%87%E5%90%88&action=edit&redlink=1">è¤‡åˆ</a>æˆ–èšåˆï¼ˆaggregationï¼‰é—œä¿‚ï¼Œä¸éä¹Ÿæœ‰å¯èƒ½æ˜¯å…¶ä»–çš„é—œä¿‚ã€‚</p><p>åˆ†å±¤æ˜¯è¨±å¤šæ›¸ç±ä¸­éƒ½æœƒæåˆ°çš„<a href="https://zh.wikipedia.org/wiki/%E6%9E%B6%E6%9E%84%E6%A8%A1%E5%BC%8F">æ¶æ§‹æ¨¡å¼</a>ï¼Œä¾‹å¦‚ã€Š<a href="https://zh.wikipedia.org/w/index.php?title=Pattern-Oriented_Software_Architecture&action=edit&redlink=1">Pattern-Oriented Software Architecture</a>ã€‹æ›¸ä¸­å°±æœ‰æåˆ°ã€‚</p></div><p>çœ‹åˆ°äº†è£¡é¢çš„<code>é¡åˆ¥</code>ã€<code>ç¹¼æ‰¿</code>ï¼Œå¥½åƒå¾ˆç†Ÿæ‚‰ï¼Œåœ¨Ruby on Railsä¸­æœ‰ä½¿ç”¨åˆ°ï¼Œä½†æ˜¯æ•´å€‹çµ„èµ·ä¾†ï¼Œçœ‹æ‡‚ä¸€é»é»åˆå¥½åƒæ²’çœ‹æ‡‚ï¼Ÿ</p><p>æ¥è‘—ä¾†çœ‹çœ‹ç¶­åŸºç™¾ç§‘å°æ–¼<a href="https://zh.wikipedia.org/wiki/%E6%8A%BD%E8%B1%A1%E5%B1%A4">Abstraction layer</a>çš„å®šç¾©ï¼š</p><div class="em-div2"><p><strong>æŠ½è±¡å±¤</strong>ï¼ˆè‹±èªï¼šabstraction layerï¼Œ abstraction levelï¼Œæˆ– a layer of abstractionï¼‰æ˜¯ä¸€ç¨®éš±è—ç¨ç‰¹åŠŸèƒ½åŸ·è¡Œç´°ç¯€çš„æ–¹æ³•ã€‚ä½¿ç”¨æŠ½è±¡å±¤çš„<a href="https://zh.wikipedia.org/wiki/%E8%BB%9F%E9%AB%94">è»Ÿé«”</a>æ¨¡å‹åŒ…å«<a href="https://zh.wikipedia.org/wiki/OSI%E6%A8%A1%E5%9E%8B">OSI</a>ç¶²è·¯å”å®šä¸ƒå±¤æ¨¡å‹ã€<a href="https://zh.wikipedia.org/wiki/OpenGL">OpenGL</a>ç¹ªåœ–å‡½å¼åº«åŠä»¥Unixç‚ºåŸæœ¬çš„è¼¸å…¥è¼¸å‡ºï¼ˆI&#x2F;Oï¼‰æ¨¡å‹ï¼Œä¸¦é©ç”¨æ–¼å¤§éƒ¨åˆ†æ–°ä¸€ä»£çš„ä½œæ¥­ç³»çµ±ã€‚</p><p>åœ¨Unixä½œæ¥­ç³»çµ±ä¸­ï¼Œå¤§éƒ¨åˆ†çš„è¼¸å…¥è¼¸å‡ºå½¢å¼è¢«è¦–ç‚ºå¾è£ç½®è®€å¯«çš„ä¸²æµå€¼ã€‚è€Œä¸²æµå€¼æ¨¡å‹ç‚ºäº†æä¾›ç¨ç«‹è£ç½®è¢«æª”æ¡ˆåŠçµ‚ç«¯æ©ŸI&#x2F;Oæ‰€ä½¿ç”¨ã€‚ç‚ºäº†åœ¨æ‡‰ç”¨å±¤è®€å¯«è£ç½®ï¼Œç¨‹å¼å‘¼å«<a href="https://zh.wikipedia.org/wiki/%E5%87%BD%E6%95%B8">å‡½å¼</a>é–‹å•Ÿåƒæ˜¯<a href="https://zh.wikipedia.org/wiki/%E7%B5%82%E7%AB%AF%E6%A9%9F">çµ‚ç«¯æ©Ÿ</a>çš„å¯¦é«”è£ç½®æˆ–æ˜¯<a href="https://zh.wikipedia.org/wiki/%E9%9B%BB%E8%85%A6%E7%B6%B2%E8%B7%AF">ç¶²è·¯</a>ã€<a href="https://zh.wikipedia.org/wiki/%E6%AA%94%E6%A1%88">æª”æ¡ˆ</a>ç³»çµ±çš„<a href="https://zh.wikipedia.org/wiki/%E8%99%9B%E6%93%AC">è™›æ“¬</a>è£ç½®ã€‚è£ç½®çš„<a href="https://zh.wikipedia.org/wiki/%E5%AF%A6%E9%AB%94">å¯¦é«”</a>ç‰¹å¾µæ˜¯è¢«å…è¨±ç¨‹å¼è¨­è¨ˆå¸«è®€å¯«è³‡æ–™çš„ä½œæ¥­ç³»çµ±æ‰€èª¿ç”¨ã€‚æ¥è‘—<a href="https://zh.wikipedia.org/wiki/%E4%BD%9C%E6%A5%AD%E7%B3%BB%E7%B5%B1">ä½œæ¥­ç³»çµ±</a>æ“ä½œæ­£ç¢ºçš„è®€å¯«è½‰æ›ã€‚</p><p>å¤§éƒ¨åˆ†çš„<a href="https://zh.wikipedia.org/wiki/%E5%9B%BE%E5%BD%A2%E5%BA%93">åœ–å½¢åº«</a>ï¼Œåƒæ˜¯OpenGLï¼Œæä¾›æŠ½è±¡åœ–å½¢è£ç½®æ¨¡å‹ã€‚é€™ç¨®å‡½å¼åº«çš„ä¸»è¦åŠŸèƒ½åœ¨æ–¼è½‰æ›<a href="https://zh.wikipedia.org/wiki/%E7%A8%8B%E5%BC%8F%E8%A8%AD%E8%A8%88%E5%B8%AB">ç¨‹å¼è¨­è¨ˆå¸«</a>çš„æŒ‡ä»¤åˆ°<a href="https://zh.wikipedia.org/w/index.php?title=%E5%9C%96%E5%BD%A2%E5%85%83%E4%BB%B6&action=edit&redlink=1">åœ–å½¢å…ƒä»¶</a>ã€‚é€™å€‹ç‰¹æ®Šçš„ç¹ªåœ–æŒ‡ä»¤èˆ‡å°å‚³çµ±é™°æ¥µå°„ç·šç®¡éŠ€å¹•çš„æŒ‡ä»¤ä¸åŒï¼Œè€Œæ˜¯éš±è—äº†æŠ½è±¡ä»‹é¢çš„ç´°ç¯€ã€‚</p><p>åœ¨<a href="https://zh.wikipedia.org/wiki/%E8%B3%87%E8%A8%8A%E7%A7%91%E5%AD%B8">è³‡è¨Šå­¸</a>ï¼ŒæŠ½è±¡å±¤æ˜¯<a href="https://zh.wikipedia.org/wiki/%E6%A6%82%E5%BF%B5%E6%A8%A1%E5%9E%8B_(%E8%B3%87%E8%A8%8A%E7%A7%91%E5%AD%B8)">æ¨¡å‹</a>æˆ–<a href="https://zh.wikipedia.org/wiki/%E6%BC%94%E7%AE%97%E6%B3%95">æ¼”ç®—æ³•</a>çš„æ¨å»£ã€‚</p></div><p>å®Œè›‹äº†ï¼Œå®Œå…¨çœ‹ä¸æ‡‚ (à° à±à°  Ë“Ì­ à° à±à° )ã€‚</p><p>å…¶å¯¦æŠ½è±¡å±¤å¾ˆå¸¸å‡ºç¾åœ¨Ruby on Railsè£¡é¢ï¼ŒRuby on Railsçš„æ‰€æœ‰çš„æ±è¥¿éƒ½æ˜¯ç‰©ä»¶ï¼Œè€Œæˆ‘å€‘æ‰€ç†Ÿæ‚‰çš„MVCï¼Œä¹Ÿæ˜¯ç‰©ä»¶ã€‚<code>view object</code> &#x2F; <code>controller object</code> &#x2F; <code>model object</code> å½¼æ­¤å‚³éè‘—è¨Šæ¯ï¼Œ<strong>é€™äº›ç‰©ä»¶åœ¨ä½éšä¸Šéƒ½å±¬æ–¼æŠ½è±¡å±¤ã€‚</strong></p><p>ç¶²é çš„ç”Ÿå‘½é€±æœŸåˆ†æˆå…©å€‹éšæ®µï¼š</p><ol><li>bootstrap phase (configuration and initialization)</li></ol><ul><li>è¼‰å…¥æ‡‰ç”¨ç¨‹å¼ç¢¼</li><li>åˆå§‹åŒ–å’Œé…ç½®æ¡†æ¶å…ƒä»¶</li></ul><ol start="2"><li>serving phase</li></ol><ul><li>åŸ·è¡Œè¨±å¤šç¨ç«‹çš„Web Request</li></ul><p>è€Œæˆ‘å€‘å…ˆæš«æ™‚èšç„¦åœ¨serving phaseä¸Šï¼Œå› ç‚ºç¶²é è«‹æ±‚(Web Request)æ˜¯ç¨ç«‹çš„ï¼Œå› æ­¤æœå‹™éšæ®µå¯ä»¥è¢«è¦–ç‚ºä¸€æ¢æµæ°´ç·šï¼Œæˆ‘å€‘å°‡è«‹æ±‚è³‡æ–™ï¼ˆraw materialï¼‰æ”¾åœ¨è¼¸é€å¸¶ä¸Šï¼Œä¸­é–“é€šéè¨±å¤šå·¥ä½œç«™ï¼Œä¸¦åœ¨æœ€å¾Œå¾—åˆ°å›æ‡‰</p><p>è©¦æƒ³åƒï¼Œè¦æ€éº¼è®“æµæ°´ç·šæé«˜æ•ˆç‡å‘¢ï¼Ÿå°±è¦æŠŠå·¥ä½œç«™æ‹‰å‡ºä¾†ï¼Œçœ‹æœ‰ä»€éº¼å¯ä»¥æ”¹é€²çš„ï¼Œè€ŒæŠ½è±¡å±¤ï¼Œå°±å¯ä»¥æƒ³åƒæˆæµæ°´ç·šä¸Šçš„å·¥ä½œç«™ã€‚æŠŠå·¥ä½œç«™æ‹‰å‡ºä¾†çš„é€™å€‹éç¨‹ï¼ˆextraction of abstraction layersï¼‰ï¼Œä¹Ÿå¯ä»¥ç¨±ä½œåˆ†å±¤ï¼ˆlayeringï¼‰ï¼Œè€Œé€™å€‹æ¶æ§‹æ¨¡å¼å¯ä»¥æé«˜è»Ÿé«”çš„å“è³ªã€‚</p><p>è€Œä¸€å€‹æŠ½è±¡å±¤æ‡‰è©²è¦æœ‰ä»€éº¼å±¬æ€§å‘¢ï¼Ÿ</p><ul><li><a href="https://zh.wikipedia.org/wiki/%E5%8D%95%E4%B8%80%E5%8A%9F%E8%83%BD%E5%8E%9F%E5%88%99">å–®ä¸€è·è²¬</a>ï¼ˆè·è²¬å¯ä»¥å¾ˆå»£æ³›ï¼Œä½†ä¸æ‡‰é‡è¤‡ï¼Œéµå¾ª<a href="https://zh.wikipedia.org/wiki/%E5%85%B3%E6%B3%A8%E7%82%B9%E5%88%86%E7%A6%BB">é—œæ³¨é»åˆ†é›¢</a>ï¼‰</li><li>å„å±¤æ‡‰è©²æ˜¯é¬†æ•£è€¦åˆçš„ï¼Œä¸¦ä¸”æ²’æœ‰å¾ªç’°æˆ–åå‘ä¾è³´é—œä¿‚ã€‚<ul><li>å¦‚æœæˆ‘å€‘å¾ä¸Šåˆ°ä¸‹ç¹ªè£½è«‹æ±‚è™•ç†æµç¨‹ï¼Œå±¤é–“é€£æ¥æ°¸é ä¸æ‡‰è©²å‘ä¸Šï¼Œä¸¦ä¸”æˆ‘å€‘æ‡‰è©²ç›¡é‡æ¸›å°‘å±¤é–“é€£æ¥æ•¸ã€‚ï¼ˆå¯ä»¥æƒ³åƒæˆæµæ°´ç·šï¼Œå¾ˆå°‘æœƒæµåˆ°ä¸€åŠå€’å›å»åšï¼‰</li></ul></li><li>æŠ½åƒä¸æ‡‰æ´©æ¼å…¶å…§éƒ¨çµæ§‹<ul><li>æå–æŠ½è±¡çš„ä¸»è¦æƒ³æ³•æ˜¯å°‡ä»‹é¢èˆ‡å¯¦ä½œåˆ†é›¢</li></ul></li><li>æ‡‰è©²å¯ä»¥å–®ç¨æå–æŠ½è±¡å±¤</li></ul><p>å¦‚æœéµå¾ªä»¥ä¸Šçš„é€™äº›åŸå‰‡ï¼Œå¯ä»¥è®“é–‹ç™¼è€…æ˜“æ–¼é‡æ§‹ã€debugå’Œæ¸¬è©¦ã€‚</p><p>åœ¨ç¾å¯¦ç”Ÿæ´»ä¸­ï¼Œè¡¡é‡æ•ˆç‡çš„æ¨™æº–æ˜¯é€Ÿåº¦ï¼› åœ¨è»Ÿé«”é–‹ç™¼ä¸­ï¼Œé€Ÿåº¦ä¹Ÿæ˜¯é—œéµâ€”â€”ç™¼å¸ƒæ–°åŠŸèƒ½çš„é€Ÿåº¦ï¼Œè€Œè¦æ€éº¼èƒ½å¤ å¿«é€Ÿåœ°ç™¼å¸ƒæ–°åŠŸèƒ½ï¼Ÿé€™å–æ±ºæ–¼è¨±å¤šå› ç´ ï¼Œè€Œæœ€ä¸»è¦çš„å› ç´ å°±æ˜¯ç¨‹å¼ç¢¼çš„<strong>å¯ç¶­è­·æ€§</strong>ï¼Œå…¶ä¸­åŒ…æ‹¬ï¼šæ·»åŠ æ–°åŠŸèƒ½å’Œå°ç¾æœ‰åŠŸèƒ½é€²è¡Œæ›´æ”¹ã€é™¤éŒ¯çš„å®¹æ˜“ç¨‹åº¦ï¼Œæ‡‰ç”¨è»Ÿé«”è¨­è¨ˆæ¨¡å¼å’Œæå–æŠ½è±¡å±¤æ˜¯ä¿æŒé«˜å¯ç¶­è­·æ€§çš„å…©å€‹ä¸»è¦å·¥å…·ã€‚</p><p>è€ŒæŠ½è±¡å±¤ä¸æ˜¯è¶Šå¤šè¶Šå¥½ï¼Œä¸»è¦çœ‹æ•´å€‹æ‡‰ç”¨ç¨‹å¼çš„æ¶æ§‹ï¼ŒåŸºæœ¬çš„Railsåƒ…åŒ…å«äº†ä¸‰å€‹æŠ½è±¡å±¤æ¦‚å¿µï¼šModelã€Controllerã€View(ä¹Ÿå°±æ˜¯æˆ‘å€‘æ‰€å¸¸èªªçš„MVC)</p><p>è‡³æ–¼è¦å¦‚ä½•é€æ­¥å¼•å…¥æ–°çš„æŠ½è±¡å±¤å‘¢ï¼Ÿ</p><p>å¯ä»¥åƒè€ƒæœ¬æ›¸ï¼š<a href="https://www.packtpub.com/product/layered-design-for-ruby-on-rails-applications/9781801813785">Layered Design for Ruby on Rails Applications</a></p><p>æœªä¾†ä¹Ÿæœƒå°‡æœ¬æ›¸æåˆ°çš„æœ‰è¶£çš„æ¦‚å¿µæ•´ç†åˆ†äº«ï¼Œä»Šå¤©å°±å…ˆåˆ°é€™è£¡Ù©(â—Ë™â–¿Ë™â—)Û¶<br>æœ¬ç¯‡æ–‡ç« æ˜¯æˆ‘ç”±ä»¥ä¸‹åƒè€ƒè³‡æ–™æ•´ç†è€Œæˆï¼Œå¦‚æœæ‚¨æœ‰èˆˆè¶£äº†è§£æ›´å¤šï¼Œè«‹åƒè€ƒï¼š</p><h3 id="åƒè€ƒè³‡æ–™ï¼š"><a href="#åƒè€ƒè³‡æ–™ï¼š" class="headerlink" title="åƒè€ƒè³‡æ–™ï¼š"></a>åƒè€ƒè³‡æ–™ï¼š</h3><blockquote><p><a href="https://www.tenlong.com.tw/products/9781801813785">Layered Design for Ruby on Rails Applications</a>**</p></blockquote><blockquote><p><a href="https://zh.wikipedia.org/wiki/Wikipedia:%E9%A6%96%E9%A1%B5">Wiki</a></p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;style&gt;
.em-div{
background-color: #d4a373;
color: white;
padding: 10px;
margin: 10px;
border-radius: 5px;
}

.em-div2{
border:2px #d4a373 s</summary>
      
    
    
    
    <category term="Ruby on Rails" scheme="http://adora-xu.com/categories/Ruby-on-Rails/"/>
    
    
    <category term="rails" scheme="http://adora-xu.com/tags/rails/"/>
    
    <category term="abstraction layer" scheme="http://adora-xu.com/tags/abstraction-layer/"/>
    
    <category term="ruby" scheme="http://adora-xu.com/tags/ruby/"/>
    
    <category term="layered design" scheme="http://adora-xu.com/tags/layered-design/"/>
    
  </entry>
  
  <entry>
    <title>Ruby on Rails: ä½¿ç”¨AWS IVS &amp; OBS è¼•é¬†é–‹å§‹ç›´æ’­</title>
    <link href="http://adora-xu.com/2024/03/17/ruby-aws-ivs-obs-livestream/"/>
    <id>http://adora-xu.com/2024/03/17/ruby-aws-ivs-obs-livestream/</id>
    <published>2024-03-17T04:34:04.000Z</published>
    <updated>2024-09-20T07:07:57.160Z</updated>
    
    <content type="html"><![CDATA[<img src="/images/ruby-aws-ivs-obs-stream-live/cover.avif"><p>åœ–ç‰‡ä¾†æºï¼š<a href="https://unsplash.com/photos/black-smartphone-taking-photo-of-yellow-round-fruits-8zsBofKrhP8">Usplash</a></p><h2 id="AMAZON-IVS"><a href="#AMAZON-IVS" class="headerlink" title="AMAZON IVS"></a>AMAZON IVS</h2><p><a href="https://aws.amazon.com/tw/ivs/">Amazon IVS</a>æ˜¯AMAZONçš„äº’å‹•å¼å½±ç‰‡æœå‹™ï¼Œå¯ä»¥åˆ©ç”¨æ­¤æ§‹å»ºå³æ™‚ä¸²æµå’Œäº’å‹•å½±ç‰‡é«”é©—ã€‚</p><p>æœ¬ç¯‡æ–‡ç« ä¸»è¦åƒè€ƒ <a href="https://www.youtube.com/watch?v=aY4d5kNKbGc">Deanin - Livestream to Your Rails App with Amazon IVS</a> ï¼† <a href="https://docs.aws.amazon.com/ivs/latest/LowLatencyUserGuide/web-getting-started.html">Amazon Interactive Video Service</a></p><h2 id="å»ºç«‹IVS-Channel"><a href="#å»ºç«‹IVS-Channel" class="headerlink" title="å»ºç«‹IVS Channel"></a>å»ºç«‹IVS Channel</h2><p>AWS IVSçš„æœå‹™è¶…éä¸€å®šé¡åº¦æœƒéœ€è¦æ”¶è²»ï¼Œæ”¶è²»æ¨™æº–å¯ä»¥åƒè€ƒé€™è£¡ï¼š<a href="https://aws.amazon.com/tw/ivs/pricing/">Amazon äº’å‹•å¼å½±ç‰‡æœå‹™å®šåƒ¹</a>ï¼Œé€™æ¬¡ä½¿ç”¨çš„ç¯„åœåœ¨å…è²»é¡åº¦å…§ã€‚</p><img src="/images/ruby-aws-ivs-obs-stream-live/1.png"><p>æ‰“ä¸ŠChannel nameå³å¯ï¼Œä¸‹æ–¹äº¦æœ‰å¯ä»¥å°‡ç›´æ’­å½±ç‰‡å„²å­˜è‡³S3ç­‰é¸é …ï¼Œå¯ä¾ç…§å€‹äººéœ€è¦èª¿æ•´</p><p>å»ºç½®å®Œæˆå°±æœƒçœ‹åˆ°é€™å€‹ç•«é¢ï¼š<br><img src="/images/ruby-aws-ivs-obs-stream-live/2.png"></p><h2 id="å»ºç½®Ruby-on-Railså°ˆæ¡ˆ"><a href="#å»ºç½®Ruby-on-Railså°ˆæ¡ˆ" class="headerlink" title="å»ºç½®Ruby on Railså°ˆæ¡ˆ"></a>å»ºç½®Ruby on Railså°ˆæ¡ˆ</h2><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-variable">$ </span>rails new video<br><span class="hljs-variable">$ </span>rails g controller pages home<br><span class="hljs-variable">$ </span>rails g scaffold post title <span class="hljs-symbol">body:</span>text<br></code></pre></td></tr></table></figure><p>ç‚ºäº†æ–¹ä¾¿å¯ä»¥å°‡<code>config/routes.rb</code> å¢åŠ   <code>root &#39;pages#homeâ€™</code></p><h2 id="ä¸²æ¥AWS-IVSç›´æ’­"><a href="#ä¸²æ¥AWS-IVSç›´æ’­" class="headerlink" title="ä¸²æ¥AWS IVSç›´æ’­"></a>ä¸²æ¥AWS IVSç›´æ’­</h2><p>åƒè€ƒï¼š<a href="https://docs.aws.amazon.com/ivs/latest/LowLatencyUserGuide/web-getting-started.html">AWS IVS Player SDK</a></p><p>æœ€é‡è¦çš„éƒ¨åˆ†å°±æ˜¯é€™æ®µï¼Œè¨˜å¾—å°‡PLAYBACK_URLæ›¿æ›æˆè¦è¼‰å…¥çš„URL<br><img src="/images/ruby-aws-ivs-obs-stream-live/3.png"></p><p>è¦è¼‰å…¥çš„URLï¼š<br><img src="/images/ruby-aws-ivs-obs-stream-live/4.png"></p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-comment">#app/views/pages/home.html.erb</span><br>&lt;h1&gt;<span class="hljs-title class_">Pages</span><span class="hljs-comment">#home&lt;/h1&gt;</span><br>&lt;p&gt;<span class="hljs-title class_">Find</span> me <span class="hljs-keyword">in</span> app/views/pages/home.html.erb&lt;<span class="hljs-regexp">/p&gt;</span><br><span class="hljs-regexp"></span><br><span class="hljs-regexp">&lt;script src=&quot;https:/</span><span class="hljs-regexp">/player.live-video.net/</span><span class="hljs-number">1.26</span>.<span class="hljs-number">0</span>/amazon-ivs-player.min.js<span class="hljs-string">&quot;&gt;&lt;/script&gt;</span><br><span class="hljs-string">&lt;div id=&quot;</span>amazon-ivs<span class="hljs-string">&quot;&gt;</span><br><span class="hljs-string">    &lt;video id=&quot;</span>video-player<span class="hljs-string">&quot;</span><br><span class="hljs-string">        autoplay</span><br><span class="hljs-string">        controls</span><br><span class="hljs-string">        playsinline</span><br><span class="hljs-string">        style=&quot;</span>max-<span class="hljs-symbol">height:</span> 500px; max-<span class="hljs-symbol">width:</span> 500px<span class="hljs-string">&quot;</span><br><span class="hljs-string">    &gt;&lt;/video&gt;</span><br><span class="hljs-string">&lt;/div&gt;</span><br><span class="hljs-string">&lt;script&gt;</span><br><span class="hljs-string">  if (IVSPlayer.isPlayerSupported) &#123;</span><br><span class="hljs-string">    const player = IVSPlayer.create();</span><br><span class="hljs-string">    player.attachHTMLVideoElement(document.getElementById(&#x27;video-player&#x27;));</span><br><span class="hljs-string">    player.load(&quot;</span><span class="hljs-title class_">Playback</span> <span class="hljs-variable constant_">URL</span><span class="hljs-string">&quot;);</span><br><span class="hljs-string">    player.play();</span><br><span class="hljs-string">  &#125;</span><br><span class="hljs-string">&lt;/script&gt;</span><br></code></pre></td></tr></table></figure><h2 id="è¨­å®šOBS"><a href="#è¨­å®šOBS" class="headerlink" title="è¨­å®šOBS"></a>è¨­å®šOBS</h2><p>æœ‰åœ¨æ¥è§¸ç›´æ’­çš„äººæ‡‰è©²è »ç†Ÿæ‚‰OBSçš„ï¼ŒOBSæ˜¯ä¸€å€‹<strong>ç”¨æ–¼éŒ„å½±å’Œç›´æ’­çš„è‡ªç”±é–‹æºè»Ÿé«”ï¼Œ</strong>å¸¸è¦‹çš„Youtube, Twitch,FB, Instagraméƒ½å¯ä»¥æ¥æ­¤ç›´æ’­ï¼Œè‡ªè¨‚çš„åŠŸèƒ½ä¹Ÿå¾ˆé«˜ï¼Œæˆ–æ˜¯ä¹Ÿå¯ä»¥åƒæˆ‘å€‘é€™æ¬¡ä¸€æ¨£ï¼Œä½¿ç”¨AWS IVS + OBS æ”¾åˆ°è‡ªå·±çš„ç¶²é å°ˆæ¡ˆè£¡ï¼Œå¯ä»¥åƒè€ƒå’Œä¸‹è¼‰ï¼š<a href="https://obsproject.com/">OBS</a></p><p>OBS â†’ Setting â†’ Stream â†’ è¤‡è£½è‡ªå·±AWS Channelçš„server &amp; keyè²¼ä¸Š<br><img src="/images/ruby-aws-ivs-obs-stream-live/5.png"></p><p>AWS IVS Server &amp; Key<br><img src="/images/ruby-aws-ivs-obs-stream-live/6.png"></p><p>æ¥è‘—åœ¨OBS æŒ‰ä¸‹Star Streamå°±å¤§åŠŸå‘Šæˆäº†ï¼</p><p>AWS Channel:<br><img src="/images/ruby-aws-ivs-obs-stream-live/7.png"></p><p>ç¶²é ï¼š<br><img src="/images/ruby-aws-ivs-obs-stream-live/8.png"></p><p>åŸæœ¬æƒ³èªªä¸²æ¥ç›´æ’­ä¸çŸ¥é“æœƒä¸æœƒå¾ˆé›£ï¼Œçœ‹äº†<a href="https://www.youtube.com/watch?v=aY4d5kNKbGc">Deanin - Livestream to Your Rails App with Amazon IVS</a> çš„æ•™å­¸ç™¼ç¾é€éAWS IVSè®Šå¾—ç°¡å–®å¾ˆå¤šï¼</p><p>æœ¬ç¯‡æ–‡ç« æ˜¯æˆ‘ç”±ä»¥ä¸‹åƒè€ƒè³‡æ–™æ•´ç†è€Œæˆï¼Œå¦‚æœæ‚¨æœ‰èˆˆè¶£äº†è§£æ›´å¤šï¼Œè«‹åƒè€ƒï¼š</p><h3 id="åƒè€ƒè³‡æ–™ï¼š"><a href="#åƒè€ƒè³‡æ–™ï¼š" class="headerlink" title="åƒè€ƒè³‡æ–™ï¼š"></a>åƒè€ƒè³‡æ–™ï¼š</h3><blockquote><p> <a href="https://www.youtube.com/watch?v=aY4d5kNKbGc">Deanin - Livestream to Your Rails App with Amazon IVS</a> </p></blockquote><blockquote><p><a href="https://docs.aws.amazon.com/ivs/latest/LowLatencyUserGuide/web-getting-started.html">Amazon Interactive Video Service</a></p></blockquote><blockquote><p><a href="https://docs.aws.amazon.com/ivs/latest/LowLatencyUserGuide/web-getting-started.html">AWS IVS Player SDK</a></p></blockquote><blockquote><p><a href="https://obsproject.com/">OBS</a></p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;img src=&quot;/images/ruby-aws-ivs-obs-stream-live/cover.avif&quot;&gt;

&lt;p&gt;åœ–ç‰‡ä¾†æºï¼š&lt;a href=&quot;https://unsplash.com/photos/black-smartphone-taking-photo-of-y</summary>
      
    
    
    
    <category term="Ruby on Rails" scheme="http://adora-xu.com/categories/Ruby-on-Rails/"/>
    
    
    <category term="Ruby" scheme="http://adora-xu.com/tags/Ruby/"/>
    
    <category term="Rails" scheme="http://adora-xu.com/tags/Rails/"/>
    
    <category term="Ruby on Rails" scheme="http://adora-xu.com/tags/Ruby-on-Rails/"/>
    
    <category term="AMAZON IVS" scheme="http://adora-xu.com/tags/AMAZON-IVS/"/>
    
    <category term="OBS" scheme="http://adora-xu.com/tags/OBS/"/>
    
    <category term="livestream" scheme="http://adora-xu.com/tags/livestream/"/>
    
  </entry>
  
  <entry>
    <title>Leetcode: number of 1 bits</title>
    <link href="http://adora-xu.com/2024/03/16/leetcode-number-of-1-bits/"/>
    <id>http://adora-xu.com/2024/03/16/leetcode-number-of-1-bits/</id>
    <published>2024-03-16T12:55:48.000Z</published>
    <updated>2024-09-20T07:07:57.156Z</updated>
    
    <content type="html"><![CDATA[<p>ç‚ºäº†åŠ å¼·è‡ªå·±çš„ç¨‹å¼èƒ½åŠ›ï¼Œæœƒè¨˜éŒ„åˆ·leetcodeçš„è§£æ³•+èªªæ˜ï¼Œé€™æ¬¡ä¹Ÿæœƒç”¨<code>Ruby</code>ã€<code>python</code>å’Œ<code>JavaScript</code>ä¸‰å€‹èªè¨€ä¾†è§£é¡Œï¼Œè®“æˆ‘å€‘é–‹å§‹å§ï¼</p><img src="/images/leetcode-number-of-1-bits/01.png"><p>é¡Œç›®ä¾†æºï¼š<a href="https://leetcode.com/problems/number-of-1-bits/description/">leetcode</a></p><h2 id="æ¼¢æ˜æ¬Šé‡"><a href="#æ¼¢æ˜æ¬Šé‡" class="headerlink" title="æ¼¢æ˜æ¬Šé‡"></a>æ¼¢æ˜æ¬Šé‡</h2><p>æ­¤é¡Œæåˆ°äº†å€‹ç‰¹åˆ¥çš„è©ï¼š<a href="https://zh.wikipedia.org/zh-tw/%E6%B1%89%E6%98%8E%E6%9D%83%E9%87%8D">æ¼¢æ˜æ¬Šé‡</a>ï¼Œç¶­åŸºç™¾ç§‘ä¸­è§£é‡‹ï¼Œæ¼¢æ˜æ¬Šé‡æ˜¯ä¸€ä¸²ç¬¦è™Ÿä¸­éé›¶ç¬¦è™Ÿçš„å€‹æ•¸ã€‚å› æ­¤å®ƒç­‰åŒæ–¼åŒæ¨£é•·åº¦çš„å…¨é›¶ç¬¦è™Ÿä¸²çš„æ¼¢æ˜è·é›¢ã€‚åœ¨æœ€ç‚ºå¸¸è¦‹çš„æ•¸æ“šä½ç¬¦è™Ÿä¸²ä¸­ï¼Œå®ƒæ˜¯1çš„å€‹æ•¸ã€‚</p><p>æ¼¢æ˜æ¬Šé‡(Hamming weight)æ˜¯ä»¥ç†å¯ŸÂ·è¡›æ–¯é‡ŒÂ·æ¼¢æ˜(Richard Wesley Hamming)çš„åå­—å‘½åçš„ï¼Œå®ƒåœ¨åŒ…æ‹¬è³‡è¨Šç†è«–ã€ç·¨ç¢¼ç†è«–ã€å¯†ç¢¼å­¸ç­‰å¤šå€‹é ˜åŸŸéƒ½æœ‰æ‡‰ç”¨ã€‚</p><p>è€Œé€™é¡Œçš„è§£æ³•ï¼Œå°±æ˜¯å°‡è¼¸å…¥çš„æ•¸å­—è½‰ç‚ºäºŒé€²ä½åˆ¶çš„å­—ä¸²ï¼Œæ¥è‘—è¨ˆç®—<code>1</code>çš„æ•¸é‡å³å¯ã€‚</p><h2 id="Ruby"><a href="#Ruby" class="headerlink" title="Ruby"></a>Ruby</h2><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">hamming_weight</span>(<span class="hljs-params">n</span>)<br>  n.to_s(<span class="hljs-number">2</span>).count(<span class="hljs-string">&#x27;1&#x27;</span>)<br><span class="hljs-keyword">end</span><br><br>puts hamming_weight(<span class="hljs-number">0b00000000000000000000000000001011</span>) <span class="hljs-comment"># 3</span><br>puts hamming_weight(<span class="hljs-number">0b00000000000000000000000010000000</span>) <span class="hljs-comment"># 1</span><br>puts hamming_weight(<span class="hljs-number">0b11111111111111111111111111111101</span>) <span class="hljs-comment"># 31</span><br></code></pre></td></tr></table></figure><p>åœ¨ç¨‹å¼ä¸­ç¶“å¸¸ä½¿ç”¨<code>0b</code>é–‹é ­è¡¨ç¤ºæ­¤ç‚ºäºŒé€²ä½åˆ¶ï¼Œè€Œåœ¨Rubyä¸­ï¼Œå‰é¢æœ‰é›¶çš„æ•¸å­—æœƒè¢«ç•¶ä½œå…«é€²åˆ¶æ•¸å­—è§£æï¼Œæ‰€ä»¥æ­¤é¡Œçš„å‚³å…¥å€¼å‰é¢å¯ä»¥åŠ ä¸Š<code>0b</code>ï¼Œç¢ºä¿æœ€å¾Œçš„çµæœæœƒæ˜¯æ­£ç¢ºçš„ã€‚</p><h2 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">hammingWeight</span>(<span class="hljs-params">self, n: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">bin</span>(n).count(<span class="hljs-string">&#x27;1&#x27;</span>)<br><br>solution = Solution()<br><br><span class="hljs-built_in">print</span>(solution.hammingWeight(<span class="hljs-number">0b00000000000000000000000000001011</span>)) <span class="hljs-comment">#3</span><br><span class="hljs-built_in">print</span>(solution.hammingWeight(<span class="hljs-number">0b00000000000000000000000010000000</span>)) <span class="hljs-comment">#1</span><br><span class="hljs-built_in">print</span>(solution.hammingWeight(<span class="hljs-number">0b11111111111111111111111111111101</span>)) <span class="hljs-comment">#31</span><br></code></pre></td></tr></table></figure><p>Pythonçš„<code>bin(x)</code>å°‡æ•´æ•¸è½‰ç‚ºå¸¶å‰ç¶´<code>0b</code>çš„äºŒé€²åˆ¶å­—ä¸²ï¼Œå› ç‚º<code>0b</code>ä¸¦ä¸æœƒå½±éŸ¿æˆ‘å€‘æœ€å¾Œè¦è¨ˆç®—<code>1</code>çš„æ•¸é‡çš„çµæœï¼Œå› æ­¤ä¸éœ€è¦ç‰¹åˆ¥è½‰æ›ã€‚</p><p>å¦‚æœè¦æ§åˆ¶æ˜¯å¦é¡¯ç¤ºå‰ç¼€<code>0b</code>ï¼Œå¯ä»¥ä½¿ç”¨ï¼š</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-built_in">format</span>(<span class="hljs-number">14</span>, <span class="hljs-string">&#x27;#b&#x27;</span>), <span class="hljs-built_in">format</span>(<span class="hljs-number">14</span>, <span class="hljs-string">&#x27;b&#x27;</span>)<br>(<span class="hljs-string">&#x27;0b1110&#x27;</span>, <span class="hljs-string">&#x27;1110&#x27;</span>)<br><span class="hljs-string">f&#x27;<span class="hljs-subst">&#123;<span class="hljs-number">14</span>:#b&#125;</span>&#x27;</span>, <span class="hljs-string">f&#x27;<span class="hljs-subst">&#123;<span class="hljs-number">14</span>:b&#125;</span>&#x27;</span><br>(<span class="hljs-string">&#x27;0b1110&#x27;</span>, <span class="hljs-string">&#x27;1110&#x27;</span>)<br></code></pre></td></tr></table></figure><p>ä¾†æºï¼š<a href="https://docs.python.org/zh-cn/3/library/functions.html#bin">Pythonå®˜æ–¹æ–‡ä»¶</a></p><h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> hammingWeight = <span class="hljs-keyword">function</span>(<span class="hljs-params">n</span>) &#123;<br>    <span class="hljs-keyword">return</span> n.<span class="hljs-title function_">toString</span>(<span class="hljs-number">2</span>).<span class="hljs-title function_">split</span>(<span class="hljs-string">&#x27;1&#x27;</span>).<span class="hljs-property">length</span> - <span class="hljs-number">1</span>;<br>&#125;;<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">hammingWeight</span>(<span class="hljs-number">0b00000000000000000000000000001011</span>)) <span class="hljs-comment">//3</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">hammingWeight</span>(<span class="hljs-number">0b00000000000000000000000010000000</span>)) <span class="hljs-comment">//1</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">hammingWeight</span>(<span class="hljs-number">0b11111111111111111111111111111101</span>)) <span class="hljs-comment">//31</span><br></code></pre></td></tr></table></figure><p>JSçš„ä½¿ç”¨<code>.split(&#39;1&#39;)</code>ï¼Œå°‡å­—ä¸²ä¾æ“š1åˆ†å‰²ç‚ºé™£åˆ—ï¼Œæœ€å¾Œè¨ˆç®—é™£åˆ—çš„é•·åº¦å†<code>-1</code>å°±å¯ä»¥å¾—åˆ°ç­”æ¡ˆäº†ï¼</p><p>ç‚ºä»€éº¼é€™è£¡è¦<code>-1</code>å‘¢ï¼Ÿå¯ä»¥æƒ³åƒä¸€å€‹è›‹ç³•ï¼Œå¦‚æœåˆ‡äº†ä¸€åˆ€æœƒè®Šæˆå…©å¡Šï¼Œå…¶ä¸­çš„é‚£ä¸€åˆ€ï¼Œåœ¨é€™è£¡å°±æ˜¯<code>1</code>çš„æ„æ€ï¼Œæˆ‘å€‘æœ€å¾Œè¦å¾—åˆ°çš„æ˜¯<code>åˆ‡äº†å¹¾åˆ€</code>ï¼Œè€Œä¸æ˜¯<code>è›‹ç³•æœ‰å¹¾å¡Š</code>ï¼Œæ‰€ä»¥ç‚ºäº†æ ¡æ­£æœ€å¾Œæœƒéœ€è¦<code>-1</code>ã€‚</p><p>ä»¥ä¸Šå°±æ˜¯ä»Šå¤©çš„Leetcodeåˆ·é¡Œè§£é‡‹Ù©(â—Ë™â–¿Ë™â—)Û¶</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ç‚ºäº†åŠ å¼·è‡ªå·±çš„ç¨‹å¼èƒ½åŠ›ï¼Œæœƒè¨˜éŒ„åˆ·leetcodeçš„è§£æ³•+èªªæ˜ï¼Œé€™æ¬¡ä¹Ÿæœƒç”¨&lt;code&gt;Ruby&lt;/code&gt;ã€&lt;code&gt;python&lt;/code&gt;å’Œ&lt;code&gt;JavaScript&lt;/code&gt;ä¸‰å€‹èªè¨€ä¾†è§£é¡Œï¼Œè®“æˆ‘å€‘é–‹å§‹å§ï¼&lt;/p&gt;
&lt;img src=&quot;/images/le</summary>
      
    
    
    
    <category term="leetcode" scheme="http://adora-xu.com/categories/leetcode/"/>
    
    
    <category term="Ruby" scheme="http://adora-xu.com/tags/Ruby/"/>
    
    <category term="Python" scheme="http://adora-xu.com/tags/Python/"/>
    
    <category term="JavaScript" scheme="http://adora-xu.com/tags/JavaScript/"/>
    
    <category term="leetcode" scheme="http://adora-xu.com/tags/leetcode/"/>
    
    <category term="number of 1 bits" scheme="http://adora-xu.com/tags/number-of-1-bits/"/>
    
    <category term="æ¼¢æ˜æ¬Šé‡" scheme="http://adora-xu.com/tags/%E6%BC%A2%E6%98%8E%E6%AC%8A%E9%87%8D/"/>
    
    <category term="hamming weight" scheme="http://adora-xu.com/tags/hamming-weight/"/>
    
  </entry>
  
  <entry>
    <title>è·æ¶¯: äº”å€å­¸é™¢è½‰è·ä¹‹æ—…</title>
    <link href="http://adora-xu.com/2024/03/14/from-relationshop-manager-to-software-engineer/"/>
    <id>http://adora-xu.com/2024/03/14/from-relationshop-manager-to-software-engineer/</id>
    <published>2024-03-14T00:58:49.000Z</published>
    <updated>2024-09-20T07:07:57.153Z</updated>
    
    <content type="html"><![CDATA[<img src="/images/from-relationshop-manager-to-software-engineer/01.JPG"><p>æ²’æƒ³åˆ°ä¹Ÿè¼ªåˆ°æˆ‘åˆ†äº«è½‰è·æˆåŠŸå¿ƒå¾—äº†ï¼</p><p>åœ¨åšå‡ºè½‰è·æ±ºå®šä¹‹å‰ï¼Œæˆ‘åƒè€ƒäº†è¨±å¤šäººçš„è½‰è·ç¶“é©—ï¼Œå­¸é•·å§å€‘åˆ†äº«çš„æˆåŠŸè½‰è·æ•…äº‹ï¼Œä¸åƒ…éå›ºäº†æˆ‘çš„ä¿¡å¿ƒï¼Œä¹Ÿè®“æˆ‘å—ç›ŠåŒªæ·ºã€‚</p><p>ç¾åœ¨ï¼Œæˆ‘æƒ³åˆ†äº«æˆ‘çš„è½‰è·æ­·ç¨‹ï¼Œå¸Œæœ›èƒ½å¹«åŠ©æ›´å¤šçš„äººã€‚</p><p>è½‰è·å‰çš„å·¥ä½œæ˜¯å¤–å•†éŠ€è¡Œçš„å®¢æˆ¶é—œä¿‚ç¶“ç†ï¼Œæ„Ÿè¬é€™ä»½ç¶“æ­·è®“æˆ‘å°é‡‘èç’°å¢ƒæœ‰æ›´å¤šçš„èªè­˜ã€ä¹Ÿå¢é€²äº†æ‡‰å°é€²é€€èˆ‡æºé€šèƒ½åŠ›ã€‚ä¹Ÿè¨±æ˜¯é‡‘èç¶“é©—çš„å¢åŠ ï¼Œå°å¸‚å ´ç­è§£å¾—æ„ˆå¤šï¼Œæ„ˆç™¼ç¾é‡‘èå¸‚å ´çš„è®ŠåŒ–è«æ¸¬ï¼Œä¹Ÿç™¼ç¾è‡ªå·±å°éŠ·å”®é‡‘èå•†å“å§‹çµ‚ç„¡æ³•ç”¢ç”Ÿç†±æƒ…ã€‚</p><p>å› æ­¤åœ¨ç¶“éæ·±æ€ç†Ÿæ…®ä¹‹å¾Œï¼Œæˆ‘é¸æ“‡äº†è½‰è·è»Ÿé«”å·¥ç¨‹å¸«ã€‚</p><h2 id="è½‰è·å‰æº–å‚™"><a href="#è½‰è·å‰æº–å‚™" class="headerlink" title="è½‰è·å‰æº–å‚™"></a>è½‰è·å‰æº–å‚™</h2><p>ç‚ºäº†è®“è‡ªå·±ç¢ºå®šè½‰è·çš„æ±ºå¿ƒï¼Œæˆ‘å…ˆçµ¦è‡ªå·±ä¸€å€‹æœˆçš„æ™‚é–“è‡ªç¿’ç·šä¸Šèª²ç¨‹ï¼Œæ¯å¤©è¦å®šè‡ªå·±é€²åº¦å’Œè¦å®Œæˆçš„äº‹é …ï¼Œæœ€å¾Œä¹Ÿé †åˆ©å®Œæˆé€²åº¦ã€‚</p><p>ä¸éåƒ…é ç·šä¸Šèª²ç¨‹ä¸¦ä¸å®Œå…¨é©åˆæˆ‘ï¼Œæˆ‘é‚„æ˜¯å¸Œæœ›èƒ½æœ‰åŒä¼´èƒ½å¤ ä¸€èµ·è¨è«–ã€è£½ä½œå°ˆé¡Œï¼Œä¸¦ä¸”å¸Œæœ›æœ‰æ¥­ç•Œç¶“é©—çš„è€å¸«å¼•è·¯ï¼Œæä¾›æ­£ç¢ºçš„å­¸ç¿’æ–¹æ³•ã€‚</p><p>è«®è©¢éå¤šå€‹æ©Ÿæ§‹å¾Œï¼Œå› ç‚ºå¸«è³‡é€æ˜ã€æ•™å­¸å…§å®¹è²¼è¿‘æ¥­ç•Œç­‰å› ç´ ï¼Œæˆ‘æœ€å¾Œé¸æ“‡äº†ASTRO Campã€äº”å€å­¸é™¢å…¨ç«¯å·¥ç¨‹å¸«åŸ¹è¨“èª²ã€‚</p><h2 id="è¸ä¸Šè½‰è·ä¹‹è·¯"><a href="#è¸ä¸Šè½‰è·ä¹‹è·¯" class="headerlink" title="è¸ä¸Šè½‰è·ä¹‹è·¯"></a>è¸ä¸Šè½‰è·ä¹‹è·¯</h2><p>åœ¨å ±åå®Œèª²ç¨‹ä¹‹å¾Œï¼Œäº”å€æœƒå¯„é€ç·šä¸Šå…ˆä¿®æ•™æï¼Œç‚ºäº†åœ¨æ­£å¼ä¸Šèª²æ™‚èƒ½å¤ é †åˆ©éŠœæ¥ï¼Œæˆ‘åœ¨æ‹¿åˆ°å…ˆä¿®èª²ç¨‹å¾Œä¾¿è¦åŠƒè‡ªå·±æ¯æ—¥çš„é€²åº¦ã€æœ‰æ™‚é–“çš„è©±ä¹Ÿæœƒè·Ÿè‘—å¯¦ä½œã€‚</p><p>åœ¨äº”å€ä¸Šèª²ï¼Œå­¸äº†HTML, CSS, JS, Ruby on Rails, Gitç­‰èª²ç¨‹ï¼Œäº”å€çš„å¸«è³‡å¾ˆå„ªç§€ï¼Œèƒ½å¤ å¾åŸç†è¬›è§£ï¼Œèƒ½æ›´æ¸…æ¥šåœ°è¬›è§£<strong>ç‚ºä»€éº¼åšï¼Ÿé€™æ¨£åšæœ‰ä»€éº¼å¥½è™•ï¼Ÿé‚„æœ‰ä»€éº¼å…¶ä»–çš„åšæ³•ï¼Ÿåˆ©å¼Šåˆæ˜¯ä»€éº¼ï¼Ÿ</strong>ï¼Œè€Œä¸æ˜¯åƒ…æ˜¯å–®ç´”åœ°æ•™ã€Œåšå‡ºæ±è¥¿ä¾†ã€ï¼Œä¹Ÿç§‰æŒè‘—ã€Œæœ‰å•é¡Œç›¡é‡å•ã€ï¼Œæ¯å¤©èª²å ‚çµæŸä¹Ÿæœ‰åŠ©æ•™æ™‚é–“æä¾›å­¸ç”Ÿè©¢å•ï¼Œè®“åŒå­¸å€‘ä¸è¦å¸¶è‘—å•é¡Œå›å®¶ï¼Œå› æ­¤é€™ä¸‰å€‹æœˆçš„éç¨‹å¾ˆç²¾å¯¦ã€‚</p><p>é¾å“¥ä¹Ÿå¾ˆé¼“å‹µåŒå­¸å€‘å¯«éƒ¨è½æ ¼ï¼Œå› ç‚ºæ–°çš„çŸ¥è­˜ç†è§£å¸æ”¶å¾Œï¼Œå†é€éè‡ªå·±æ•´ç†ã€å¯«æˆæ–‡ç« ï¼Œèƒ½å¤ åŠ æ·±å°è±¡ä¸¦æ¢³ç†é‚è¼¯ã€‚</p><p>å¦å¤–ï¼Œäº”å€å­¸é™¢ä¹Ÿæä¾›äº†è¨±å¤šè»Ÿæ€§èª²ç¨‹ï¼Œå¦‚ç”¢å“é–‹ç™¼ã€ç°¡å ±è¡¨é”ã€è·æ¶¯è¼”å°å’Œä¼æ¥­åƒè¨ªç­‰ï¼Œé€™äº›èª²ç¨‹è®“æˆ‘å€‘äº†è§£æ¥­ç•Œå¯¦éš›çš„é–‹ç™¼éç¨‹ï¼Œç‚ºè½‰è·ä¹‹è·¯å¥ å®šäº†å …å¯¦çš„åŸºç¤ã€‚</p><p>åœ¨èª²ç¨‹çµæŸå¾Œï¼ŒåŒå­¸å€‘æœƒè¢«åˆ†çµ„é€²è¡Œå¯¦é«”å°ˆæ¡ˆçš„è£½ä½œã€‚å¾é›¶é–‹å§‹èˆ‡çµ„å“¡å…±åŒè¨è«–å°ˆé¡Œä¸»é¡Œã€å…§å®¹å’Œæ™‚ç¨‹ï¼Œé€™ä¸åƒ…è®“æˆ‘å€‘é€šéå¯¦éš›æ“ä½œä¾†å­¸ç¿’ï¼Œé‚„èƒ½å¤ åŸ¹é¤Šåœ˜éšŠåˆä½œå’Œè§£æ±ºå•é¡Œçš„èƒ½åŠ›ã€‚<p></p><h2 id="è·æ¶¯è¼”å°"><a href="#è·æ¶¯è¼”å°" class="headerlink" title="è·æ¶¯è¼”å°"></a>è·æ¶¯è¼”å°</h2><p>äº”å€æä¾›çš„è»Ÿæ€§èª²ç¨‹ä¸­ï¼Œè®“æˆ‘å—ç›Šæœ€æ·±çš„å°±æ˜¯è·æ¶¯è¼”å°èª²ã€‚è€å¸«æœƒæ ¹æ“šå±¥æ­·æä¾›æœ‰æ•ˆçš„å»ºè­°ï¼Œä¸¦é€éæ¨¡æ“¬é¢è©¦ï¼Œå¹«åŠ©é¢è©¦è€…è§£æ±ºå¯èƒ½å­˜åœ¨çš„ç›²é»ã€‚</p><p>åœ¨é¢è©¦æ™‚ï¼Œæˆ‘ä¹Ÿç¶“å¸¸é‹ç”¨è€å¸«æ‰€æ•™çš„ã€Œä¸ç®¡æåˆ°ä»€éº¼ï¼Œéƒ½è¦æœ‰å¯¦éš›çš„æ¡ˆä¾‹ï¼Œå¦‚æœèƒ½å¤ æä¾›å¯¦éš›æ•¸å­—æ›´å¥½ã€‚ã€é€™å€‹æ–¹æ³•ï¼Œä½¿å¾—æˆ‘çš„å±¥æ­·æ›´å…·å¯ä¿¡åº¦ã€‚</p><p>ç•¢ç«Ÿï¼Œå·¥ç¨‹å¸«éƒ½è¬›æ±‚å¯¦äº‹æ±‚æ˜¯ï¼Œè½‰è·æˆåŠŸä¸¦ç²å¾—offerä¹Ÿæ˜¯å¤§å¤šæ•¸äººåƒåŠ èª²ç¨‹çš„æœ€çµ‚ç›®æ¨™ã€‚æˆ‘èªç‚ºäº”å€åœ¨æ­¤æä¾›çš„èª²ç¨‹å’Œå»ºè­°éƒ½å°æˆ‘éå¸¸æœ‰å¹«åŠ©ï¼</p><h2 id="å¿ƒæ…‹"><a href="#å¿ƒæ…‹" class="headerlink" title="å¿ƒæ…‹"></a>å¿ƒæ…‹</h2><p>é€™æ¬¡çš„è½‰è·ç¶“é©—è®“æˆ‘ç™¼ç¾ï¼Œæ­£ç¢ºçš„å¿ƒæ…‹å¾ˆé‡è¦ï¼Œå› ç‚ºè½‰è·çš„è·¯ä¸Šä¸å…æœƒé‡åˆ°è¨±å¤šçš„æŒ«æŠ˜ï¼Œé™¤äº†å¯ä»¥å¤šåŠ åˆ©ç”¨äº”å€æä¾›çš„è³‡æºï¼ˆè€å¸«ã€åŠ©æ•™ã€èª²å‹™çµ„ç­‰ï¼‰ï¼Œæˆ‘è¦ºå¾—æœ€é‡è¦çš„é‚„æ˜¯è¦ã€Œç›¸ä¿¡è‡ªå·±ä¸¦ä»˜è«¸è¡Œå‹•ã€ã€‚</p><p>æˆ‘æ˜¯ä¸€å€‹å¾ˆå®¹æ˜“å¤šæƒ³çš„äººï¼Œå› æ­¤åœ¨è½‰è·æ™‚æˆ‘æ™‚å¸¸é¼“å‹µè‡ªå·±ï¼Œåªè¦ä¸€æ„Ÿåˆ°ç„¦æ…®å°±å»é–‹é›»è…¦ã€å¯«codeã€å¯«éƒ¨è½æ ¼ã€åˆ·leetcodeã€åˆ·codewarsã€çœ‹æ•™å­¸å½±ç‰‡ï¼Œä¹…è€Œä¹…ä¹‹å¿ƒä¸­çš„ç„¦æ…®æœƒé€æ¼¸è½‰åŒ–ç‚ºå¹³éœå’Œè‡ªä¿¡ã€‚</p><h2 id="æœªä¾†"><a href="#æœªä¾†" class="headerlink" title="æœªä¾†"></a>æœªä¾†</h2><p>å®Œæˆäº”å€çš„èª²ç¨‹é‚„ä¸æ˜¯è½‰è·ä¹‹è·¯çš„çµæŸï¼Œåªæ˜¯é–‹å§‹è€Œå·²ï¼Œä½†é€éé€™ä¸‰å€‹æœˆçš„èª²ç¨‹ï¼Œå› ç‚ºæœ‰äº”å€çš„è€å¸«ã€åŠ©æ•™ã€èª²å‹™çµ„çš„æ­£ç¢ºå¼•å°ï¼Œè®“æˆ‘çš„è½‰è·ä¹‹è·¯æœ‰äº†å¥½çš„é–‹å§‹ã€‚</p><p>åœ¨èª²ç¨‹çµæŸä¸€å€‹æœˆå·¦å³ï¼Œæˆ‘æ‹¿åˆ°äº†å¤šå€‹è»Ÿé«”å·¥ç¨‹å¸«offerï¼Œé€™æ˜¯åœ¨è½‰è·å‰æˆ‘çµ•å°æƒ³ä¸åˆ°çš„ã€‚</p><p>ç›®å‰çš„è‡ªå·±é‚„æœ‰å¾ˆå¤šçš„ä¸è¶³ï¼Œä½†å°±åƒå­¸ç¿’ç¨‹å¼çš„éç¨‹ä¸€æ¨£ï¼ŒçŸ¥é“è‡ªå·±å“ªè£¡ä¸è¶³å°±åŠ å¼·å“ªè£¡ï¼Œçµ‚ç©¶æœƒé›¢è‡ªå·±çš„ç›®æ¨™æ›´é€²ä¸€æ­¥ã€‚</p><p>å¦‚æœä½ é‚„åœ¨çŒ¶è±«ä¸æ±ºï¼Œå¯ä»¥å ±å<a href="https://5xcampus.com/camp/">ASTRO Campçš„èªªæ˜æœƒ</a>ï¼Œèª²å‹™çµ„ä¸æœƒæ¨éŠ·ã€éƒ½å¾ˆè¦ªåˆ‡ï¼Œæœƒè©³ç´°è§£ç­”ä½ çš„æ‰€æœ‰å•é¡Œï½</p>]]></content>
    
    
      
      
    <summary type="html">&lt;img src=&quot;/images/from-relationshop-manager-to-software-engineer/01.JPG&quot;&gt;

&lt;p&gt;æ²’æƒ³åˆ°ä¹Ÿè¼ªåˆ°æˆ‘åˆ†äº«è½‰è·æˆåŠŸå¿ƒå¾—äº†ï¼&lt;/p&gt;
&lt;p&gt;åœ¨åšå‡ºè½‰è·æ±ºå®šä¹‹å‰ï¼Œæˆ‘åƒè€ƒäº†è¨±å¤šäººçš„è½‰è·ç¶“é©—ï¼Œå­¸é•·å§å€‘åˆ†äº«çš„æˆåŠŸè½‰è·æ•…äº‹ï¼Œ</summary>
      
    
    
    
    <category term="è·æ¶¯" scheme="http://adora-xu.com/categories/%E8%81%B7%E6%B6%AF/"/>
    
    
    <category term="è½‰è·" scheme="http://adora-xu.com/tags/%E8%BD%89%E8%81%B7/"/>
    
    <category term="è·æ¶¯" scheme="http://adora-xu.com/tags/%E8%81%B7%E6%B6%AF/"/>
    
    <category term="äº”å€å­¸é™¢" scheme="http://adora-xu.com/tags/%E4%BA%94%E5%80%8D%E5%AD%B8%E9%99%A2/"/>
    
    <category term="ASTRO" scheme="http://adora-xu.com/tags/ASTRO/"/>
    
    <category term="ASTRO Camp" scheme="http://adora-xu.com/tags/ASTRO-Camp/"/>
    
    <category term="äº”å€" scheme="http://adora-xu.com/tags/%E4%BA%94%E5%80%8D/"/>
    
  </entry>
  
  <entry>
    <title>Python: PEP 8 ç¨‹å¼ç¢¼é¢¨æ ¼æŒ‡å— </title>
    <link href="http://adora-xu.com/2024/03/01/python-pep8-style-guide-for-python-code/"/>
    <id>http://adora-xu.com/2024/03/01/python-pep8-style-guide-for-python-code/</id>
    <published>2024-03-01T07:20:11.000Z</published>
    <updated>2024-09-20T07:07:57.160Z</updated>
    
    <content type="html"><![CDATA[<img src="/images/python-pep8-style-guide-for-python-code/python-logo.png"><blockquote><p>åœ–ç‰‡ä¾†æº: <a href="https://www.python.org/community/logos/">Python.org</a></p></blockquote><h3 id=""><a href="#" class="headerlink" title=""></a></h3><p>è‡ªå·±åœ¨ç·´ç¿’å¯«Pythonæ™‚ï¼Œå¸¸è¦ºå¾—æ€ªæ€ªçš„ï¼Œå¾Œä¾†æ‰ç™¼ç¾ï¼Œæ˜¯å› ç‚ºæˆ‘æ²’æœ‰äº†è§£Pythonçš„æ›¸å¯«é¢¨æ ¼ã€‚<br>å°±åƒç·´ç¿’å¯«ä½œæ–‡è¦äº†è§£å¥è®€çš„è¦å‰‡ï¼Œå¯«ç¨‹å¼ä¸€é–‹å§‹ï¼Œä¹Ÿéœ€è¦æ¸…æ¥šè©²ç¨‹å¼çš„æ›¸å¯«é¢¨æ ¼ï¼Œæ‰èƒ½å¤ åœ¨æ‰“å¥½åŸºç¤æ¶æ§‹ä¸‹ç²¾é€²ã€‚</p><p>é›–ç„¶ç›®å‰æœ‰è¨±å¤šæ–¹ä¾¿çš„å°å·¥å…·ï¼Œèƒ½å¤ è‡ªå‹•å¹«å¿™æ•´ç†æ’ç‰ˆã€ç¸®æ’ç­‰ç­‰ï¼Œä½†è¦ºå¾—è‡ªå·±æ‡‰è©²è¦å…ˆçŸ¥é“ç‚ºä»€éº¼ï¼Œå†åˆ©ç”¨å·¥å…·ï¼Œæ‰èƒ½å¤ æ›´é †åˆ©ï½</p><p>Pythonæœ‰å®šç¾©äº†PEP(Python Enhancement Proposal)ï¼Œè£¡é¢æœ‰è¨±å¤šç« ç¯€ï¼Œè€Œå…¶ä¸­çš„<a href="https://peps.python.org/pep-0008/">PEP 8 â€“ Style Guide for Python Code</a>ï¼Œå‰‡å¯ä»¥è§£æ±ºæˆ‘çš„ç…©æƒ±ï¼Œå› ç‚ºPEP 8çš„å…§å®¹æœ‰å¾ˆå¤šï¼Œä»¥ä¸‹æ–‡ç« æœƒåˆ†äº«è‡ªå·±è¦ºå¾—å¸¸ç”¨çš„è¦ç¯„ã€‚</p><h2 id="ç¸®æ’-Indentation"><a href="#ç¸®æ’-Indentation" class="headerlink" title="ç¸®æ’ Indentation"></a><a href="https://peps.python.org/pep-0008/#indentation">ç¸®æ’ Indentation</a></h2><ul><li>æ¯è¡Œç¸®æ’4å€‹ç©ºæ ¼</li><li>çºŒè¡Œæ‡‰è©²åœ¨æ‹¬è™Ÿå…§çš„å‚ç›´å°é½Šï¼š</li></ul><p>âœ…æ­£ç¢ºç¤ºç¯„</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">foo = long_function_name(var_one, var_two,<br>                         var_three, var_four)<br></code></pre></td></tr></table></figure><p>âéŒ¯èª¤ç¤ºç¯„</p><p>ç¬¬ä¸€è¡Œè‹¥è¦ä¿ç•™åƒæ•¸çš„è©±ï¼Œæ‹¬è™Ÿæ‡‰è©²è¦å‚ç›´å°é½Š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">foo = long_function_name(var_one, <br>var_two,var_three, var_four)<br></code></pre></td></tr></table></figure><ul><li>çºŒè¡Œäº¦å¯ä½¿ç”¨æ‡¸æ›ç¸®æ’ã€‚åœ¨ä½¿ç”¨æ‡¸æ›ç¸®æ’æ™‚ï¼Œæ‡‰è€ƒæ…®ä»¥ä¸‹å¹¾é»ï¼šç¬¬ä¸€è¡Œä¸æ‡‰æœ‰åƒæ•¸ï¼ˆè¦æŒ‰Enteræ›åˆ°ä¸‹ä¸€è¡Œï¼‰ï¼Œæ‡‰ä½¿ç”¨é€²ä¸€æ­¥çš„ç¸®æ’ä¾†æ˜ç¢ºå€åˆ†è‡ªå·±æ˜¯ä¸€å€‹çºŒè¡Œï¼š</li></ul><p>âœ…æ­£ç¢ºç¤ºç¯„</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#æ‡¸æ›ç¸®æ’</span><br>foo = long_function_name(<br>    var_one, var_two,<br>    var_three, var_four)<br></code></pre></td></tr></table></figure><p>ä¾æ“šä»¥ä¸Šçš„è¦å‰‡ï¼Œæä¾›å¤šä¸€é»ç¤ºç¯„ï¼š</p><p>âœ…æ­£ç¢ºç¤ºç¯„</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">context</span>(<span class="hljs-params">user, password, </span><br><span class="hljs-params">            timeout, command</span>):<br>    <span class="hljs-keyword">pass</span><br><br>user_list = [<br>    <span class="hljs-string">&#x27;user1&#x27;</span>,<br>    <span class="hljs-string">&#x27;user2&#x27;</span>,<br>    <span class="hljs-string">&#x27;user3&#x27;</span>,<br>    <span class="hljs-string">&#x27;user4&#x27;</span><br>]<br></code></pre></td></tr></table></figure><p>âéŒ¯èª¤ç¤ºç¯„</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">context</span>(<span class="hljs-params">user, password, </span><br><span class="hljs-params">    timeout, command</span>):<br>    <span class="hljs-keyword">pass</span><br><br>user_list = [<br>    <span class="hljs-string">&#x27;user1&#x27;</span>,<br>    <span class="hljs-string">&#x27;user2&#x27;</span>,<br>    <span class="hljs-string">&#x27;user3&#x27;</span>,<br>    <span class="hljs-string">&#x27;user4&#x27;</span>]<br></code></pre></td></tr></table></figure><h3 id="æ‹¬è™Ÿ-brace-bracket-parenthesis"><a href="#æ‹¬è™Ÿ-brace-bracket-parenthesis" class="headerlink" title="æ‹¬è™Ÿ brace&#x2F;bracket&#x2F;parenthesis"></a>æ‹¬è™Ÿ brace&#x2F;bracket&#x2F;parenthesis</h3><p>æ‹¬è™Ÿå–®ç¨ä¸€è¡Œï¼Œç¸®æ’ or ä¸ç¸®æ’éƒ½å¯ä»¥</p><p>âœ…æ­£ç¢ºç¤ºç¯„</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python">my_list = [<br>    <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>,<br>    <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>,<br>    ]<br>result = some_function_that_takes_arguments(<br>    <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>,<br>    <span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>, <span class="hljs-string">&#x27;f&#x27;</span>,<br>    )<br></code></pre></td></tr></table></figure><p>âœ…æ­£ç¢ºç¤ºç¯„</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python">my_list = [<br>    <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>,<br>    <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>,<br>]<br>result = some_function_that_takes_arguments(<br>    <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>,<br>    <span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;e&#x27;</span>, <span class="hljs-string">&#x27;f&#x27;</span>,<br>)<br></code></pre></td></tr></table></figure><ul><li>æ¯è¡Œç¨‹å¼ç¢¼æœ€é•·ä¸è¦è¶…é79å€‹å­—ï¼šç‚ºä»€éº¼æ˜¯79å€‹å­—å‘¢ï¼Ÿå› ç‚ºç•¶åˆå®šç¾©PEP8æ™‚å¹´ä»£ä¹…é ï¼Œè¢å¹•æ¯”è¼ƒå°ï¼Œ79å‰›å¥½ç¬¦åˆæŸç¨®è¢å¹•çš„å¯¬åº¦ğŸ¤£ï¼Œä¸éå› ç‚ºç¾åœ¨è¢å¹•çš„å¯¬åº¦éƒ½åšå¾—æ¯”è¼ƒå¤§ï¼Œå› æ­¤æ­¤è¦ç¯„å¯ä»¥éˆæ´»æ‡‰å°ã€‚</li></ul><h2 id="ç©ºè¡Œ-Blank-Lines"><a href="#ç©ºè¡Œ-Blank-Lines" class="headerlink" title="ç©ºè¡Œ Blank Lines"></a><a href="https://peps.python.org/pep-0008/#blank-lines">ç©ºè¡Œ Blank Lines</a></h2><ul><li>å¯«å¤šå€‹å‡½æ•¸ï¼Œå‡½æ•¸é–“è¦ç©ºå…©å€‹ç©ºè¡Œ</li></ul><p>âœ…æ­£ç¢ºç¤ºç¯„</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_name</span>(<span class="hljs-params">value</span>):<br>    <span class="hljs-keyword">pass</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_age</span>(<span class="hljs-params">value</span>):<br>    <span class="hljs-keyword">pass</span><br></code></pre></td></tr></table></figure><ul><li>åœ¨åŒä¸€å€‹classå…§çš„å…©å€‹methodï¼Œmethodé–“è¦ç©ºä¸€å€‹ç©ºè¡Œ</li></ul><p>âœ…æ­£ç¢ºç¤ºç¯„</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Demo</span>(<span class="hljs-title class_ inherited__">object</span>):<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">pass</span><br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">do_something</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">pass</span><br></code></pre></td></tr></table></figure><h2 id="Imports"><a href="#Imports" class="headerlink" title="Imports"></a><a href="https://peps.python.org/pep-0008/#imports">Imports</a></h2><ul><li>å°å…¥é€šå¸¸æ‡‰è©²åœ¨å–®ç¨çš„è¡Œä¸Šï¼š</li></ul><p>âœ…æ­£ç¢ºç¤ºç¯„</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> sys<br></code></pre></td></tr></table></figure><p>âœ…æ­£ç¢ºç¤ºç¯„</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> subprocess <span class="hljs-keyword">import</span> Popen, PIPE<br></code></pre></td></tr></table></figure><p>âéŒ¯èª¤ç¤ºç¯„</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> sys, os<br></code></pre></td></tr></table></figure><h3 id="Import-Order"><a href="#Import-Order" class="headerlink" title="Import Order"></a>Import Order</h3><p>å°å…¥é †åºæ‡‰è©²ä¾ç…§ä»¥ä¸‹åˆ†çµ„ï¼š</p><ol><li>Standard library imports.(Pythonå…§å»ºLibrary)</li><li>Related third party imports.(ç¬¬ä¸‰æ–¹)</li><li>Local application&#x2F;library specific imports.(æœ¬åœ°Moduleç›¸äº’å°å…¥)</li></ol><p>æ‡‰è©²åœ¨æ¯çµ„å°å…¥ä¸­é–“åŠ ä¸€è¡Œç©ºè¡Œ</p><p>âœ…æ­£ç¢ºç¤ºç¯„</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> sys<br><br><span class="hljs-keyword">from</span> flask <span class="hljs-keyword">import</span> abort<br><span class="hljs-keyword">from</span> werkzeug.security <span class="hljs-keyword">import</span> generate_password_hash, check_password_hash<br><br><span class="hljs-keyword">from</span> my_project.extensions <span class="hljs-keyword">import</span> database<br><span class="hljs-keyword">from</span> my_project.utils <span class="hljs-keyword">import</span> custom_function, custom_url<br></code></pre></td></tr></table></figure><h2 id="ç©ºæ ¼-White-Space"><a href="#ç©ºæ ¼-White-Space" class="headerlink" title="ç©ºæ ¼ White Space"></a><a href="https://peps.python.org/pep-0008/#whitespace-in-expressions-and-statements">ç©ºæ ¼ White Space</a></h2><h3 id="é¿å…å¤šé¤˜ç©ºæ ¼"><a href="#é¿å…å¤šé¤˜ç©ºæ ¼" class="headerlink" title="é¿å…å¤šé¤˜ç©ºæ ¼"></a>é¿å…å¤šé¤˜ç©ºæ ¼</h3><ul><li>æ‹¬è™Ÿèˆ‡å…§å®¹é–“ä¸éœ€è¦ç©ºæ ¼</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Correct:</span><br>spam(ham[<span class="hljs-number">1</span>], &#123;eggs: <span class="hljs-number">2</span>&#125;)<br><span class="hljs-comment"># Wrong:</span><br>spam( ham[ <span class="hljs-number">1</span> ], &#123; eggs: <span class="hljs-number">2</span> &#125; )<br></code></pre></td></tr></table></figure><ul><li>ç©ºæ ¼æ¥åœ¨é€—è™Ÿã€åˆ†è™Ÿã€å†’è™Ÿä¹‹å¾Œ</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Correct:</span><br><span class="hljs-keyword">if</span> x == <span class="hljs-number">4</span>: <span class="hljs-built_in">print</span>(x, y); x, y = y, x<br><span class="hljs-comment"># Wrong:</span><br><span class="hljs-keyword">if</span> x == <span class="hljs-number">4</span> : <span class="hljs-built_in">print</span>(x , y) ; x , y = y , x<br></code></pre></td></tr></table></figure><ul><li>ä½†æ˜¯ï¼Œåœ¨åˆ‡ç‰‡ä¸­ï¼Œå†’è™Ÿçš„ä½œç”¨é¡ä¼¼æ–¼äºŒå…ƒé‹ç®—ç¬¦ï¼Œå…©å€‹å†’è™Ÿå¿…é ˆç›¸åŒé–“è·ã€‚ä¾‹å¤–ï¼šç•¶çœç•¥åˆ‡ç‰‡åƒæ•¸æ™‚ï¼Œç©ºæ ¼ä¹Ÿè¢«çœç•¥ï¼š</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Correct:</span><br>ham[<span class="hljs-number">1</span>:<span class="hljs-number">9</span>], ham[<span class="hljs-number">1</span>:<span class="hljs-number">9</span>:<span class="hljs-number">3</span>], ham[:<span class="hljs-number">9</span>:<span class="hljs-number">3</span>], ham[<span class="hljs-number">1</span>::<span class="hljs-number">3</span>], ham[<span class="hljs-number">1</span>:<span class="hljs-number">9</span>:]<br>ham[lower:upper], ham[lower:upper:], ham[lower::step]<br>ham[lower+offset : upper+offset]<br>ham[: upper_fn(x) : step_fn(x)], ham[:: step_fn(x)]<br>ham[lower + offset : upper + offset]<br></code></pre></td></tr></table></figure><ul><li>å·¦æ‹¬è™Ÿå‰æ–¹ä¸éœ€è¦æœ‰ç©ºæ ¼ï¼š</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Correct:</span><br>dct[<span class="hljs-string">&#x27;key&#x27;</span>] = lst[index]<br><span class="hljs-comment"># Wrong:</span><br>dct [<span class="hljs-string">&#x27;key&#x27;</span>] = lst [index]<br></code></pre></td></tr></table></figure><ul><li>è®Šæ•¸ç­‰è™Ÿå·¦å³å„ä¸€å€‹ç©ºæ ¼ã€ä½†ä¸éœ€è¦å¼·åˆ¶å°é½Šï¼š</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Correct:</span><br>x = <span class="hljs-number">1</span><br>y = <span class="hljs-number">2</span><br>long_variable = <span class="hljs-number">3</span><br><br><span class="hljs-comment"># Wrong:</span><br>x             = <span class="hljs-number">1</span><br>y             = <span class="hljs-number">2</span><br>long_variable = <span class="hljs-number">3</span><br></code></pre></td></tr></table></figure><h2 id="æ³¨é‡‹-Comments"><a href="#æ³¨é‡‹-Comments" class="headerlink" title="æ³¨é‡‹ Comments"></a><a href="https://peps.python.org/pep-0008/#comments">æ³¨é‡‹ Comments</a></h2><ul><li><strong><a href="https://peps.python.org/pep-0008/#block-comments">Block Comments</a></strong></li><li><strong><a href="https://peps.python.org/pep-0008/#inline-comments">Inline Comments</a></strong><ul><li><code>#</code>å¾Œéš”ä¸€å€‹ç©ºæ ¼ï¼Œæ³¨é‡‹èˆ‡ç¨‹å¼ç¢¼é–“è‡³å°‘è¦éš”å…©å€‹ç©ºæ ¼ï¼š</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">x = x + <span class="hljs-number">1</span>                 <span class="hljs-comment"># Compensate for border</span><br></code></pre></td></tr></table></figure><ul><li><strong><a href="https://peps.python.org/pep-0008/#documentation-strings">Documentation Strings</a></strong><ul><li>æ‡‰è©²å‡ºç¾åœ¨defä¹‹å¾Œ</li><li>çµæŸçš„<code>â€œâ€â€œ</code>æ‡‰è©²è¦å–®ç¨å ä¸€è¡Œ</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">add_numbers</span>(<span class="hljs-params">a, b</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    é€™æ˜¯ä¸€å€‹åŠ æ³•å‡½æ•¸ï¼Œç”¨æ–¼å°‡å…©å€‹æ•¸å­—ç›¸åŠ ã€‚</span><br><span class="hljs-string"></span><br><span class="hljs-string">    åƒæ•¸ï¼š</span><br><span class="hljs-string">    a (int): ç¬¬ä¸€å€‹æ•¸å­—</span><br><span class="hljs-string">    b (int): ç¬¬äºŒå€‹æ•¸å­—</span><br><span class="hljs-string"></span><br><span class="hljs-string">    è¿”å›ï¼š</span><br><span class="hljs-string">    int: å…©å€‹æ•¸å­—çš„å’Œ</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">return</span> a + b<br></code></pre></td></tr></table></figure><h2 id="å‘½åè¦å‰‡-Naming-Conventions"><a href="#å‘½åè¦å‰‡-Naming-Conventions" class="headerlink" title="å‘½åè¦å‰‡ Naming Conventions"></a><a href="https://peps.python.org/pep-0008/#naming-conventions">å‘½åè¦å‰‡ <strong>Naming Conventions</strong></a></h2><p>ä»¥ä¸‹ç‚ºå¸¸è¦‹çš„å‘½åæ–¹å¼ï¼š</p><ul><li><code>b</code>ï¼ˆå–®å€‹å°å¯«å­—æ¯ï¼‰</li><li><code>B</code>ï¼ˆå–®ä¸€å¤§å¯«å­—æ¯ï¼‰</li><li><code>lowercase</code></li><li><code>lower_case_with_underscores</code></li><li><code>UPPERCASE</code></li><li><code>UPPER_CASE_WITH_UNDERSCORES</code></li><li><code>CapitalizedWords</code> ï¼ˆä¹Ÿæ˜¯é§å³°å¼å‘½åæ³• CapWords, or CamelCaseï¼‰</li><li><code>mixedCase</code>ï¼ˆèˆ‡ CatalizedWords çš„å€åˆ¥åœ¨æ–¼é¦–å­—æ¯å°å¯«ï¼‰</li></ul><h3 id="Class-Name"><a href="#Class-Name" class="headerlink" title="Class Name"></a><a href="https://peps.python.org/pep-0008/#class-names">Class Name</a></h3><p>ä½¿ç”¨é§å³°å‘½åæ³•ï¼Œç¯„ä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyCar</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, make, model, year</span>):<br>        self.make, self.model, self.year, self.odometer_reading = make, model, year, <span class="hljs-number">0</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">full_name</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">f&quot;<span class="hljs-subst">&#123;self.year&#125;</span> <span class="hljs-subst">&#123;self.make&#125;</span> <span class="hljs-subst">&#123;self.model&#125;</span>&quot;</span><br><br>my_car = MyCar(<span class="hljs-string">&quot;Toyota&quot;</span>, <span class="hljs-string">&quot;Camry&quot;</span>, <span class="hljs-number">2022</span>)<br><span class="hljs-built_in">print</span>(my_car.full_name())<br></code></pre></td></tr></table></figure><h3 id="Package-and-Module-Names"><a href="#Package-and-Module-Names" class="headerlink" title="Package and Module Names"></a><strong><a href="https://peps.python.org/pep-0008/#package-and-module-names">Package and Module Names</a></strong></h3><ul><li>æ¨¡çµ„(Module)æ‡‰è©²æœ‰çŸ­çš„ã€å…¨å°å¯«çš„åç¨±ã€‚å¦‚æœå¯ä»¥æé«˜å¯è®€æ€§ï¼Œå¯ä»¥åœ¨æ¨¡çµ„åç¨±ä¸­ä½¿ç”¨åº•ç·š _</li><li>å¥—ä»¶(Package)ä¹Ÿæ‡‰è©²æœ‰çŸ­çš„ã€å…¨å°å¯«çš„åç¨±ï¼Œå„˜ç®¡ä¸é¼“å‹µä½¿ç”¨åº•ç·š</li></ul><h3 id="Function-and-Variable-Names"><a href="#Function-and-Variable-Names" class="headerlink" title="Function and Variable Names"></a><strong><a href="https://peps.python.org/pep-0008/#function-and-variable-names">Function and Variable Names</a></strong></h3><ul><li>å‡½æ•¸(function)åç¨±æ‡‰å°å¯«ï¼Œå¿…è¦æ™‚ç”¨åº•ç·šåˆ†éš”å–®å­—ä»¥æé«˜å¯è®€æ€§</li><li>è®Šæ•¸(variable)èˆ‡å‡½æ•¸éµå¾ªç›¸åŒè¦å®š</li></ul><h3 id="Constants"><a href="#Constants" class="headerlink" title="Constants"></a><strong><a href="https://peps.python.org/pep-0008/#constants">Constants</a></strong></h3><ul><li>å¸¸æ•¸é€šå¸¸åœ¨æ¨¡çµ„å±¤ç´šå®šç¾©ï¼Œä¸¦å…¨éƒ¨ç”¨å¤§å¯«å­—æ¯æ›¸å¯«ï¼Œä¸¦ç”¨ä¸‹åŠƒç·šåˆ†éš”å–®å­—ã€‚ä¾‹å¦‚ï¼šMAX_OVERFLOW å’Œ TOTALã€‚</li></ul><h2 id="å‘½åæ•´ç†"><a href="#å‘½åæ•´ç†" class="headerlink" title="å‘½åæ•´ç†"></a>å‘½åæ•´ç†</h2><table><thead><tr><th></th><th>å‘½åè¦å‰‡</th></tr></thead><tbody><tr><td>Class Name</td><td>CapitalizedWords</td></tr><tr><td>Package and Module Names</td><td>lower_case_with_underscores</td></tr><tr><td>Function and Variable Names</td><td>lower_case_with_underscores</td></tr><tr><td>Constants</td><td>UPPER_CASE_WITH_UNDERSCORES</td></tr></tbody></table><p>é€éé–±è®€PEP 8ï¼Œä¹Ÿç‚ºç·¨å¯«Pythonä¹‹è·¯æ‰“ä¸‹äº†è‰¯å¥½çš„åŸºç¤ï¼Œå› ç‚ºPEP8çš„å…§å®¹å¾ˆå¤šï¼Œé€™è£¡åªæœ‰èˆ‰æ¯”è¼ƒå¸¸è¦‹çš„ç¯„ä¾‹ï¼Œç´°ç¯€é‚„æ˜¯å¯ä»¥å»å®˜æ–¹æ–‡ä»¶æŸ¥çœ‹ï¼Œåˆ†äº«çµ¦å„ä½ï½</p><p>æœ¬ç¯‡æ–‡ç« æ˜¯æˆ‘ç”±ä»¥ä¸‹åƒè€ƒè³‡æ–™æ•´ç†è€Œæˆï¼Œå¦‚æœæ‚¨æœ‰èˆˆè¶£äº†è§£æ›´å¤šï¼Œè«‹åƒè€ƒï¼š</p><h3 id="åƒè€ƒè³‡æ–™ï¼š"><a href="#åƒè€ƒè³‡æ–™ï¼š" class="headerlink" title="åƒè€ƒè³‡æ–™ï¼š"></a>åƒè€ƒè³‡æ–™ï¼š</h3><blockquote><p><a href="https://peps.python.org/pep-0008/">PEP 8 â€“ Style Guide for Python Code</a></p></blockquote><blockquote><p><a href="https://www.udemy.com/course/python3-tips/">Udemy - Python 3 ç¼–ç¨‹æŠ€å·§æ±‡æ€»</a></p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;img src=&quot;/images/python-pep8-style-guide-for-python-code/python-logo.png&quot;&gt;

&lt;blockquote&gt;
&lt;p&gt;åœ–ç‰‡ä¾†æº: &lt;a href=&quot;https://www.python.org/community</summary>
      
    
    
    
    <category term="Python" scheme="http://adora-xu.com/categories/Python/"/>
    
    
    <category term="python" scheme="http://adora-xu.com/tags/python/"/>
    
    <category term="pep8" scheme="http://adora-xu.com/tags/pep8/"/>
    
    <category term="style guide" scheme="http://adora-xu.com/tags/style-guide/"/>
    
  </entry>
  
  <entry>
    <title>Leetcode: happy number</title>
    <link href="http://adora-xu.com/2024/02/26/leetcode-happy-number/"/>
    <id>http://adora-xu.com/2024/02/26/leetcode-happy-number/</id>
    <published>2024-02-26T03:26:48.000Z</published>
    <updated>2024-09-20T07:07:57.154Z</updated>
    
    <content type="html"><![CDATA[<style>  .em-div{  background-color: #d4a373;  color: white;  padding: 10px;  margin: 10px;  border-radius: 5px;  }</style><p>ç‚ºäº†åŠ å¼·è‡ªå·±çš„ç¨‹å¼èƒ½åŠ›ï¼Œå› æ­¤é–‹å§‹è¨˜éŒ„åˆ·leetcodeçš„è§£æ³•+èªªæ˜ï¼Œæœƒç”¨<code>Ruby</code>ã€<code>python</code>å’Œ<code>JavaScript</code>ä¸‰å€‹èªè¨€ä¾†è§£é¡Œ</p><img src="/images/leetcode-happy-number/happy-number.png"><p>é¡Œç›®ä¾†æºï¼š<a href="https://leetcode.com/problems/happy-number/description/">leetcode</a></p><p>å…¶å¯¦é€™é¡Œå’Œä¹‹å‰è§£éçš„<a href="https://adora-xu.com/2024/02/20/codewars-square-every-digit/">square every digit</a>è »åƒçš„ï¼Œéƒ½è¦å°‡å€‹åˆ¥çš„æ•¸å­—å¹³æ–¹ï¼Œä¸éé€™è£¡å¤šäº†åˆ¤æ–·åŠ ç¸½æ˜¯å¦ç­‰æ–¼1çš„æ­¥é©Ÿã€‚</p><p>å…¶å¯¦åˆ°é€™æ­¥å°±å¯ä»¥å¯«å‡ºç¨‹å¼ç¢¼ï¼Œåˆ©ç”¨ä¸æ–·è¿­ä»£åŠ ä¸Šåˆ¤æ–·å¼ï¼Œåˆ¤æ–·æ˜¯å¦ç‚ºå¿«æ¨‚æ•¸ã€‚<br>ä»¥Rubyç¤ºç¯„å¯ä»¥é€™æ¨£å¯«ï¼š</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">is_happy</span>(<span class="hljs-params">n</span>)<br><span class="hljs-comment"># è§£æ³•ä¸€</span><br>  <span class="hljs-keyword">while</span> n != <span class="hljs-number">1</span><br>    n = n.to_s.chars.map &#123; |<span class="hljs-params">digit</span>| digit.to_i ** <span class="hljs-number">2</span> &#125;.sum<br>  <span class="hljs-keyword">end</span><br>  n == <span class="hljs-number">1</span><br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><p>ä½†å¦‚æœæƒ³è¦ç¨‹å¼ç¢¼æ•ˆç‡æ›´é«˜ä¸€é»å‘¢ï¼Ÿ</p><p>å°±éœ€è¦æ›´äº†è§£å¿«æ¨‚æ•¸ä¸€é»ï¼Œé—œæ–¼å¿«æ¨‚æ•¸çš„ä»‹ç´¹ï¼Œå¯ä»¥åƒè€ƒç¶­åŸºç™¾ç§‘ï¼š<a href="https://zh.wikipedia.org/zh-tw/%E5%BF%AB%E6%A8%82%E6%95%B8">å¿«æ¨‚æ•¸</a></p><p>å…¶ä¸­æœ‰æåˆ°ï¼š</p><div class="em-div">ä¸æ˜¯å¿«æ¨‚æ•¸çš„æ•¸ç¨±ç‚ºä¸å¿«æ¨‚æ•¸ï¼ˆè‹±èªï¼šunhappy numberï¼‰ï¼Œæ‰€æœ‰ä¸å¿«æ¨‚æ•¸çš„æ•¸ä½å¹³æ–¹å’Œè¨ˆç®—ï¼Œæœ€å¾Œéƒ½æœƒé€²å…¥ 4 â†’ 16 â†’ 37 â†’ 58 â†’ 89 â†’ 145 â†’ 42 â†’ 20 â†’ 4 çš„å¾ªç’°ä¸­ã€‚</div><p>å› æ­¤ï¼Œå¦‚æœæ•¸å­—æœ‰<code>4</code>å¯ä»¥å…ˆæ’é™¤ï¼Œå› ç‚ºæœƒé€²åˆ°ç„¡é™å¾ªç’°ä¸­ï¼Œé€™æ™‚ç¨‹å¼ç¢¼å¯ä»¥å¯«æˆé€™æ¨£ï¼š</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-comment">#è§£æ³•äºŒ</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">is_happy</span>(<span class="hljs-params">n</span>)<br>  <span class="hljs-keyword">while</span> n != <span class="hljs-number">1</span> &amp;&amp; n != <span class="hljs-number">4</span><br>    n = n.to_s.chars.map &#123; |<span class="hljs-params">digit</span>| digit.to_i ** <span class="hljs-number">2</span> &#125;.sum<br>  <span class="hljs-keyword">end</span><br>  n == <span class="hljs-number">1</span><br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥æŠŠå¾ªç’°çš„æ•¸å­—ï¼Œè£½ä½œæˆä¸€å€‹<code>set</code>ï¼Œé¿æ‰æ‰€æœ‰ä¸å¿«æ¨‚æ•¸ç„¡é™å¾ªç’°çš„å¯èƒ½ï¼š</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-comment">#è§£æ³•ä¸‰</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">is_happy</span>(<span class="hljs-params">n</span>)<br>  cycle_set = <span class="hljs-title class_">Set</span>.new([<span class="hljs-number">4</span>, <span class="hljs-number">16</span>, <span class="hljs-number">37</span>, <span class="hljs-number">58</span>, <span class="hljs-number">89</span>, <span class="hljs-number">145</span>, <span class="hljs-number">42</span>, <span class="hljs-number">20</span>])<br><br>  <span class="hljs-keyword">while</span> n != <span class="hljs-number">1</span> &amp;&amp; !cycle_set.<span class="hljs-keyword">include</span>?(n)<br>    n = n.to_s.chars.map &#123; |<span class="hljs-params">digit</span>| digit.to_i ** <span class="hljs-number">2</span> &#125;.sum<br>  <span class="hljs-keyword">end</span><br><br>  n == <span class="hljs-number">1</span><br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><p>å› ç‚ºè¦ºå¾—ç¬¬äºŒç¨®è§£æ³•æ¯”è¼ƒç›´è§€ï¼Œæ•ˆç‡ä¹Ÿæ¯”è¼ƒå¥½ï¼Œå› æ­¤<code>python</code> &amp; <code>js</code>æˆ‘éƒ½ä½¿ç”¨ç¬¬äºŒç¨®å¯«æ³•ï¼š</p><h1 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h1><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">def</span> <span class="hljs-title function_">is_happy</span>(<span class="hljs-params">n</span>):<br>    <span class="hljs-keyword">while</span> n != <span class="hljs-number">1</span> <span class="hljs-keyword">and</span> n != <span class="hljs-number">4</span>:<br>        n = <span class="hljs-built_in">sum</span>(<span class="hljs-built_in">int</span>(digit) ** <span class="hljs-number">2</span> <span class="hljs-keyword">for</span> digit <span class="hljs-keyword">in</span> <span class="hljs-built_in">str</span>(n))<br>    <span class="hljs-keyword">return</span> n == <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><h1 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">isHappy</span>(<span class="hljs-params">n</span>) &#123;<br>    <span class="hljs-keyword">while</span> (n !== <span class="hljs-number">1</span> &amp;&amp; n !== <span class="hljs-number">4</span>) &#123;<br>        n = <span class="hljs-title class_">String</span>(n).<span class="hljs-title function_">split</span>(<span class="hljs-string">&#x27;&#x27;</span>).<span class="hljs-title function_">map</span>(<span class="hljs-title class_">Number</span>).<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">sum, digit</span>) =&gt;</span> sum + digit ** <span class="hljs-number">2</span>, <span class="hljs-number">0</span>);<br>    &#125;<br>    <span class="hljs-keyword">return</span> n === <span class="hljs-number">1</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;style&gt;
  .em-div{
  background-color: #d4a373;
  color: white;
  padding: 10px;
  margin: 10px;
  border-radius: 5px;
  }
&lt;/style&gt;
&lt;p&gt;ç‚ºäº†åŠ å¼·è‡ª</summary>
      
    
    
    
    <category term="leetcode" scheme="http://adora-xu.com/categories/leetcode/"/>
    
    
    <category term="Ruby" scheme="http://adora-xu.com/tags/Ruby/"/>
    
    <category term="Python" scheme="http://adora-xu.com/tags/Python/"/>
    
    <category term="JavaScript" scheme="http://adora-xu.com/tags/JavaScript/"/>
    
    <category term="leetcode" scheme="http://adora-xu.com/tags/leetcode/"/>
    
    <category term="happy number" scheme="http://adora-xu.com/tags/happy-number/"/>
    
  </entry>
  
  <entry>
    <title>CodeWars: highest and lowest</title>
    <link href="http://adora-xu.com/2024/02/21/codewars-highest-and-lowest/"/>
    <id>http://adora-xu.com/2024/02/21/codewars-highest-and-lowest/</id>
    <published>2024-02-21T05:15:26.000Z</published>
    <updated>2024-09-20T07:07:57.150Z</updated>
    
    <content type="html"><![CDATA[<p>é€™å¹¾å¤©é‡åˆ°ç¨‹å¼çš„é¢è©¦é¡Œç›®ï¼Œæƒ³èªªä¹Ÿå¯ä»¥ä¸€ä½µå°‡è§£æ³•åˆ†äº«Ù©(^á´—^)Û¶<br>é¡Œç›®ï¼š<a href="https://www.codewars.com/kata/554b4ac871d6813a03000035">Codewars - Highest and Lowest</a><br>ä¸€æ¨£æœƒç”¨<code>Ruby</code>ã€<code>Python</code>å’Œ<code>JavaScript</code>ä¸‰å€‹èªè¨€ä¾†è§£é¡Œï¼Œè®“æˆ‘å€‘é–‹å§‹å§ï¼<br><img src="/images/codewars-highest-and-lowest/0221.png"></p><h2 id="Ruby"><a href="#Ruby" class="headerlink" title="Ruby"></a>Ruby</h2><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">high_and_low</span>(<span class="hljs-params">numbers</span>)<br>  numbers.split.map(&amp;<span class="hljs-symbol">:to_i</span>).minmax.reverse.join(<span class="hljs-string">&#x27; &#x27;</span>)<br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><p>Rubyæœ‰ä¸€å€‹è »å¥½ç”¨çš„æ–¹æ³•ï¼Œ<a href="https://rubyapi.org/3.3/o/s?q=minmax">Array#minmax</a>ï¼Œå¯ä»¥å›å‚³é™£åˆ—çš„æœ€å°å€¼å’Œæœ€å¤§å€¼ï¼Œç¯„ä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ruby">[<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>].minmax <span class="hljs-comment"># =&gt; [0, 2]</span><br></code></pre></td></tr></table></figure><p>ä½†é¡Œç›®æ˜¯<code>high_and_low</code>ï¼Œæ‰€ä»¥éœ€è¦<code>reverse</code>ï¼Œä¸¦ä½¿ç”¨<code>.join(&#39; &#39;)</code>å°‡é™£åˆ—è½‰ç‚ºå­—ä¸²ã€‚</p><h2 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">def</span> <span class="hljs-title function_">high_and_low</span>(<span class="hljs-params">numbers</span>):<br>    numbers = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, numbers.split()))<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">f&quot;<span class="hljs-subst">&#123;<span class="hljs-built_in">max</span>(numbers)&#125;</span> <span class="hljs-subst">&#123;<span class="hljs-built_in">min</span>(numbers)&#125;</span>&quot;</span><br></code></pre></td></tr></table></figure><p><code>f&quot;&#123;max(numbers)&#125; &#123;min(numbers)&#125;&quot;</code>é€™è£¡ä½¿ç”¨<a href="https://docs.python.org/zh-tw/3/tutorial/inputoutput.html">f-string</a>å°‡æœ€å¤§å€¼å’Œæœ€å°å€¼æ’å…¥åˆ°å­—ç¬¦ä¸²ä¸­</p><h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">highAndLow</span>(<span class="hljs-params">numbers</span>) &#123;<br>    <span class="hljs-keyword">const</span> nums = numbers.<span class="hljs-title function_">split</span>(<span class="hljs-string">&#x27; &#x27;</span>).<span class="hljs-title function_">map</span>(<span class="hljs-title class_">Number</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">$&#123;<span class="hljs-built_in">Math</span>.max(...nums)&#125;</span> <span class="hljs-subst">$&#123;<span class="hljs-built_in">Math</span>.min(...nums)&#125;</span>`</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>JSå’ŒPythonä¹Ÿæ˜¯ç”¨é¡ä¼¼æ–¹æ³•ï½</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;é€™å¹¾å¤©é‡åˆ°ç¨‹å¼çš„é¢è©¦é¡Œç›®ï¼Œæƒ³èªªä¹Ÿå¯ä»¥ä¸€ä½µå°‡è§£æ³•åˆ†äº«Ù©(^á´—^)Û¶&lt;br&gt;é¡Œç›®ï¼š&lt;a href=&quot;https://www.codewars.com/kata/554b4ac871d6813a03000035&quot;&gt;Codewars - Highest and Lowest&lt;/a&gt;</summary>
      
    
    
    
    <category term="codewars" scheme="http://adora-xu.com/categories/codewars/"/>
    
    
    <category term="Ruby" scheme="http://adora-xu.com/tags/Ruby/"/>
    
    <category term="Python" scheme="http://adora-xu.com/tags/Python/"/>
    
    <category term="JavaScript" scheme="http://adora-xu.com/tags/JavaScript/"/>
    
    <category term="codewars" scheme="http://adora-xu.com/tags/codewars/"/>
    
    <category term="highest and lowest" scheme="http://adora-xu.com/tags/highest-and-lowest/"/>
    
  </entry>
  
  <entry>
    <title>CodeWars: square every digit</title>
    <link href="http://adora-xu.com/2024/02/20/codewars-square-every-digit/"/>
    <id>http://adora-xu.com/2024/02/20/codewars-square-every-digit/</id>
    <published>2024-02-20T08:38:52.000Z</published>
    <updated>2024-09-20T07:07:57.150Z</updated>
    
    <content type="html"><![CDATA[<p>é€™å¹¾å¤©é‡åˆ°ç¨‹å¼çš„é¢è©¦é¡Œç›®ï¼Œæƒ³èªªä¹Ÿå¯ä»¥ä¸€ä½µå°‡è§£æ³•åˆ†äº«Ù©(^á´—^)Û¶<br>é¡Œç›®ï¼š<a href="https://www.codewars.com/kata/546e2562b03326a88e000020">Codewars - Square Every Digit</a><br>ä¸€æ¨£æœƒç”¨<code>Ruby</code>ã€<code>Python</code>å’Œ<code>JavaScript</code>ä¸‰å€‹èªè¨€ä¾†è§£é¡Œï¼Œè®“æˆ‘å€‘é–‹å§‹å§ï¼<br><img src="/images/codewars-square-every-digit/0220_2.png"></p><p>é€™æ¬¡çš„é¡Œç›®å°±æ˜¯å°‡è¼¸å…¥çš„å…§å®¹æ‹†é–‹ç‚ºé™£åˆ—ï¼Œå„åˆ¥å¹³æ–¹å¾Œï¼Œå†åŠ å…¥çµ„åˆèµ·ä¾†å°±èƒ½å¾—åˆ°ç­”æ¡ˆäº†Ù©(^á´—^)Û¶</p><h2 id="Ruby"><a href="#Ruby" class="headerlink" title="Ruby"></a>Ruby</h2><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">square_digits</span>(<span class="hljs-params">num</span>)<br>  num.to_s.chars.map &#123; |<span class="hljs-params">digit</span>| digit.to_i ** <span class="hljs-number">2</span>&#125;.join.to_i<br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><p>è½åˆ°<code>å„åˆ¥</code>å…©å€‹å­—ï¼Œè…¦ä¸­ä¸€å®šæœƒè‡ªå‹•è¯æƒ³åˆ°<code>map</code>ï¼Œé€™é¡Œä¹Ÿæ˜¯ä½¿ç”¨<code>map</code>å€‹å­—å¹³æ–¹å¾Œå†ä½¿ç”¨<code>join</code>çµ„åˆæˆå­—ä¸²å¾Œï¼Œå†ä½¿ç”¨<code>to_i</code>è¿”é‚„æ•¸å­—</p><h2 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">def</span> <span class="hljs-title function_">square_digits</span>(<span class="hljs-params">num</span>):<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">int</span>(<span class="hljs-string">&#x27;&#x27;</span>.join(<span class="hljs-built_in">str</span>(<span class="hljs-built_in">int</span>(digit)**<span class="hljs-number">2</span>) <span class="hljs-keyword">for</span> digit <span class="hljs-keyword">in</span> <span class="hljs-built_in">str</span>(num)))<br></code></pre></td></tr></table></figure><p><code>python</code>å‰‡æ˜¯å¯«æ³•ç¨å¾®ä¸åŒï¼Œå¯ä»¥ä½¿ç”¨<code>for digit in str(num)</code>å³å¯</p><h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">squareDigits</span>(<span class="hljs-params">num</span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">parseInt</span>(num.<span class="hljs-title function_">toString</span>().<span class="hljs-title function_">split</span>(<span class="hljs-string">&#x27;&#x27;</span>).<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">digit</span> =&gt;</span> <span class="hljs-built_in">parseInt</span>(digit)**<span class="hljs-number">2</span>).<span class="hljs-title function_">join</span>(<span class="hljs-string">&#x27;&#x27;</span>), <span class="hljs-number">10</span>);<br>  &#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;é€™å¹¾å¤©é‡åˆ°ç¨‹å¼çš„é¢è©¦é¡Œç›®ï¼Œæƒ³èªªä¹Ÿå¯ä»¥ä¸€ä½µå°‡è§£æ³•åˆ†äº«Ù©(^á´—^)Û¶&lt;br&gt;é¡Œç›®ï¼š&lt;a href=&quot;https://www.codewars.com/kata/546e2562b03326a88e000020&quot;&gt;Codewars - Square Every Digit&lt;/a&gt;</summary>
      
    
    
    
    <category term="codewars" scheme="http://adora-xu.com/categories/codewars/"/>
    
    
    <category term="Ruby" scheme="http://adora-xu.com/tags/Ruby/"/>
    
    <category term="Python" scheme="http://adora-xu.com/tags/Python/"/>
    
    <category term="JavaScript" scheme="http://adora-xu.com/tags/JavaScript/"/>
    
    <category term="codewars" scheme="http://adora-xu.com/tags/codewars/"/>
    
    <category term="square every digit" scheme="http://adora-xu.com/tags/square-every-digit/"/>
    
  </entry>
  
  <entry>
    <title>CodeWars: sum of a sequence</title>
    <link href="http://adora-xu.com/2024/02/20/codewars-sum-of-a-sequence/"/>
    <id>http://adora-xu.com/2024/02/20/codewars-sum-of-a-sequence/</id>
    <published>2024-02-20T08:27:22.000Z</published>
    <updated>2024-09-20T07:07:57.150Z</updated>
    
    <content type="html"><![CDATA[<p>é€™å¹¾å¤©é‡åˆ°ç¨‹å¼çš„é¢è©¦é¡Œç›®ï¼Œæƒ³èªªä¹Ÿå¯ä»¥ä¸€ä½µå°‡è§£æ³•åˆ†äº«Ù©(^á´—^)Û¶<br>é¡Œç›®ï¼š<a href="https://www.codewars.com/kata/586f6741c66d18c22800010a">Codewars - Sum of a sequence</a><br>ä¸€æ¨£æœƒç”¨<code>Ruby</code>ã€<code>Python</code>å’Œ<code>JavaScript</code>ä¸‰å€‹èªè¨€ä¾†è§£é¡Œï¼Œè®“æˆ‘å€‘é–‹å§‹å§ï¼<br><img src="/images/Sum-of-a-sequence/0220.png"></p><p>é€™å€‹é¡Œç›®ä¹Ÿè »æœ‰è¶£çš„ï¼Œæœƒçµ¦ä¸‰å€‹å€¼<code>(begin,end,step)</code>ï¼Œå¦‚æœ<code>begin &gt; end</code>å‰‡å›å‚³<code>0</code>ï¼Œæ²’æœ‰çš„è©±å°±ä»¥<code>step</code>ç‚ºå·®ï¼Œç”±<code>begin</code>åŠ ç¸½è‡³<code>end</code>ï¼Œåªè¦è®€æ‡‚äº†é¡Œç›®ä¾åºå¯«æˆç¨‹å¼ç¢¼ç­”æ¡ˆå°±å‡ºä¾†äº†à­§â˜‰â–¡â˜‰à­¨</p><h2 id="Ruby"><a href="#Ruby" class="headerlink" title="Ruby"></a>Ruby</h2><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">sequence_sum</span>(<span class="hljs-params">begin_number, end_number, step</span>)<br>  (begin_number..end_number).step(step).sum<br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><p>Rubyçš„<code>step</code>æœ‰ä¸€å€‹æœ‰è¶£çš„åœ°æ–¹ï¼Œåªè¦ç¯„åœä¸å°çš„è©±ï¼Œå°±æœƒå›å‚³0ï¼Œ<br>æ‰€ä»¥å¦‚æœ<code>begin_number</code>&gt;<code>end_number</code>ï¼Œå³æœƒå›å‚³0ï¼Œè€Œä¸éœ€è¦å¤šåŠ åˆ¤æ–·</p><h2 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">def</span> <span class="hljs-title function_">sequence_sum</span>(<span class="hljs-params">begin_number, end_number, step</span>):<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">sum</span>(<span class="hljs-built_in">range</span>(begin_number, end_number + <span class="hljs-number">1</span>, step))<br></code></pre></td></tr></table></figure><p>å’Œ<code>ruby</code>ä¸ä¸€æ¨£çš„åœ°æ–¹æ˜¯ï¼Œ<code>python</code>çš„<code>Range</code>å¦‚æœæ˜¯<code>range(1,4)</code>ï¼Œå‡ºç¾çš„çµæœæœƒæ˜¯<code>[1,2,3]</code>ä¸¦ä¸æœƒåŒ…å«æœ€å¾Œä¸€ä½æ•¸ï¼Œæ‰€ä»¥é€™è£¡éœ€è¦<code>+1</code></p><p>è€ŒPythonå’ŒRubyä¸€æ¨£ï¼Œå¦‚æœåŠ ç¸½çš„ç¯„åœä¸å°çš„è©±æœƒå›å‚³<code>0</code>ï¼Œå› æ­¤ä¸éœ€è¦é¡å¤–å¡«å¯«åˆ¤æ–·å¼ã€‚<br>å¯ä»¥åƒè€ƒç¯„ä¾‹:</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">def</span> <span class="hljs-title function_">sequence_sum</span>(<span class="hljs-params">begin_number, end_number, step</span>):<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">sum</span>(<span class="hljs-built_in">range</span>(begin_number, end_number + <span class="hljs-number">1</span>, step))<br><br><span class="hljs-comment"># ç¯„ä¾‹</span><br><span class="hljs-built_in">print</span>(sequence_sum(<span class="hljs-number">12</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>))   <span class="hljs-comment"># è¼¸å‡º: 0</span><br></code></pre></td></tr></table></figure><h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">sequenceSum</span>(<span class="hljs-params">begin, end, step</span>) &#123;<br>    <span class="hljs-keyword">if</span> (begin &gt; end) &#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(&#123; <span class="hljs-attr">length</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>((end - begin) / step) + <span class="hljs-number">1</span> &#125;, <span class="hljs-function">(<span class="hljs-params">_, i</span>) =&gt;</span> begin + i * step).<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">sum, num</span>) =&gt;</span> sum + num, <span class="hljs-number">0</span>);<br>    &#125;<br>  &#125;<br></code></pre></td></tr></table></figure><p>JSå°±æ²’é‚£éº¼å¤šå¥½ç”¨çš„æ–¹æ³•ï¼Œä½†å› ç‚ºåŠ ç¸½çš„å…¬å¼ä¹Ÿä¸è¤‡é›œï¼Œé€™è£¡å°±ä½¿ç”¨åˆ¤æ–·å¼+åŠ ç¸½çš„å…¬å¼è§£ï¼Œæ•ˆç‡ä¹Ÿæ¯”è¼ƒé«˜ï½</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;é€™å¹¾å¤©é‡åˆ°ç¨‹å¼çš„é¢è©¦é¡Œç›®ï¼Œæƒ³èªªä¹Ÿå¯ä»¥ä¸€ä½µå°‡è§£æ³•åˆ†äº«Ù©(^á´—^)Û¶&lt;br&gt;é¡Œç›®ï¼š&lt;a href=&quot;https://www.codewars.com/kata/586f6741c66d18c22800010a&quot;&gt;Codewars - Sum of a sequence&lt;/a&gt;&lt;</summary>
      
    
    
    
    <category term="codewars" scheme="http://adora-xu.com/categories/codewars/"/>
    
    
    <category term="Ruby" scheme="http://adora-xu.com/tags/Ruby/"/>
    
    <category term="Python" scheme="http://adora-xu.com/tags/Python/"/>
    
    <category term="JavaScript" scheme="http://adora-xu.com/tags/JavaScript/"/>
    
    <category term="codewars" scheme="http://adora-xu.com/tags/codewars/"/>
    
    <category term="Sum of a sequence" scheme="http://adora-xu.com/tags/Sum-of-a-sequence/"/>
    
  </entry>
  
  <entry>
    <title>CodeWars: sum of digits / digital rootï¼ˆ02/21æ›´æ–°ï¼‰</title>
    <link href="http://adora-xu.com/2024/02/18/codewars-sum-of-digits-digital-root/"/>
    <id>http://adora-xu.com/2024/02/18/codewars-sum-of-digits-digital-root/</id>
    <published>2024-02-18T08:33:13.000Z</published>
    <updated>2024-09-20T07:07:57.150Z</updated>
    
    <content type="html"><![CDATA[<p>é€™ä¹Ÿæ˜¯é€™å¹¾å¤©é‡åˆ°ç¨‹å¼çš„é¢è©¦é¡Œç›®ï¼Œä¸€ä½µå°‡è§£æ³•åˆ†äº«Ù©(^á´—^)Û¶<br>é¡Œç›®ï¼š<a href="https://www.codewars.com/kata/541c8630095125aba6000c00">Codewars</a><br>ä¸€æ¨£æœƒç”¨<code>Ruby</code>ã€<code>Python</code>å’Œ<code>JavaScript</code>ä¸‰å€‹èªè¨€ä¾†è§£é¡Œï¼Œè®“æˆ‘å€‘é–‹å§‹å§ï¼</p><img src="/images/codewars-digital-root/0218.png"><p>ä»Šå¤©è§£çš„æ˜¯<code>6kyu</code>çš„é›£åº¦ï¼Œåšé€™å€‹é¡Œç›®å‰æƒ³åˆ°<code>ç”Ÿå‘½éˆæ•¸</code>ä¹Ÿæ˜¯é€™æ¨£å–çš„ï¼ŒæŠŠè‡ªå·±çš„è¥¿å…ƒå‡ºç”Ÿå¹´æœˆæ—¥ä¾åºåŠ èµ·ä¾†ï¼Œå¾—åˆ°çš„å€‹ä½æ•¸å°±æ˜¯è‡ªå·±çš„<code>ç”Ÿå‘½éˆæ•¸</code>ã€‚</p><p>å¯ä»¥ä½¿ç”¨<code>å…©ç¨®</code>æ–¹æ³•ä¾†è§£ï¼Œä¸€ç¨®æ˜¯<code>éè¿´</code>ï¼Œä¸€ç¨®ç¶“ç”±<code>å…¬å¼æ¨å°</code>è¨ˆç®—å¼ï¼Œè§£æ³•å¦‚ä¸‹ï¼š</p><h2 id="Ruby"><a href="#Ruby" class="headerlink" title="Ruby"></a>Ruby</h2><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-comment">#è§£æ³•ä¸€</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">digital_root</span>(<span class="hljs-params">n</span>)<br>  n &lt; <span class="hljs-number">10</span> ? n : digital_root(n.digits.sum)<br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><p><code>éè¿´(recursion)</code>ç°¡å–®ä¾†èªªå°±æ˜¯å‡½å¼æœƒä¸€ç›´é‡è¤‡å‘¼å«æœ¬èº«ç›´åˆ°é”æˆæ¢ä»¶ï¼Œ<br>å‡å¦‚å®šç¾©ä¸€å€‹è¼¸å…¥å€¼ç‚º<code>digital_root(666)</code><br>ç¬¬ä¸€æ¬¡çš„çµæœç‚º<code>6 + 6 + 6 = 18</code>ï¼Œä½†å€¼é‚„æ²’æœ‰é”åˆ°æ¢ä»¶çš„<code>n &lt; 10</code>ï¼Œ<br>æ‰€ä»¥æœƒå†é‡è¤‡å‘¼å«ä¸€æ¬¡ï¼Œæ­¤æ™‚<code>n = 18</code>ï¼Œ<code>1 + 8 = 9</code>ï¼Œ<br>å·²ç¶“é”åˆ°<code>n &lt; 10</code>çš„æ¢ä»¶ï¼Œå› æ­¤æœƒå›å‚³<code>9</code></p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-comment">#è§£æ³•äºŒ</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">digital_root</span>(<span class="hljs-params">n</span>)<br>  n.zero? ? <span class="hljs-number">0</span> : (n - <span class="hljs-number">1</span>) % <span class="hljs-number">9</span> + <span class="hljs-number">1</span><br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><p>è§£æ³•äºŒå°±æ˜¯ä¹‹å‰å¸¸èªªçš„ï¼šå¦‚æœåœ¨çœ‹åˆ°é¡Œç›®å‰å¤šæƒ³ä¸€é»ï¼Œå¯ä»¥è®“ç¨‹å¼æ•ˆç‡æ›´é«˜ã€‚<br>å› ç‚ºæ­¤å­—æ ¹æ˜¯ä½¿ç”¨<code>10é€²ä½åˆ¶</code>ï¼Œæ¯å€‹å­—æ ¹éƒ½æ˜¯<code>é9é€²ä½</code>ï¼Œ<code>æ•¸å­—å’Œ &gt; 9</code>æ™‚å°±è¦å†é‡è¤‡ç›¸åŠ ï¼Œå› æ­¤é€™è£¡çš„<code>% 9</code>å°±æ˜¯ç°¡åŒ–é‡è¤‡ç›¸åŠ çš„æ­¥é©Ÿï¼Œä»¥ä¸‹èˆ‰ä¾‹ï¼š</p><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">10 </span>% <span class="hljs-number">9</span> = <span class="hljs-number">1</span><br><span class="hljs-symbol">100 </span>% <span class="hljs-number">9</span> = <span class="hljs-number">1</span><br><span class="hljs-symbol">1000 </span>% <span class="hljs-number">9</span> = <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><p>é€™æ¨£çœ‹ä¾†æ‡‰è©²<code>% 9</code>å°±å¯ä»¥å¾—åˆ°ç­”æ¡ˆï¼Œç‚ºä»€éº¼ç­”æ¡ˆæœƒæ˜¯<code>n.zero? ? 0 : (n - 1) % 9 + 1</code>å‘¢ï¼Ÿ</p><p>ç¬¬ä¸€å€‹æ˜¯å› ç‚ºå¦‚æœè¼¸å…¥å€¼å‰›å¥½æ˜¯0çš„è©±ï¼Œæ‡‰è©²ç›´æ¥è¿”å›<code>0</code>ï¼Œå› æ­¤åœ¨å‰é¢åŠ äº†åˆ¤æ–·å¼ã€‚</p><p>ç¬¬äºŒå€‹æ˜¯å› ç‚º<code>% 9</code>é‡åˆ°<code>9çš„å€æ•¸</code>å°±æœƒå‡ºéŒ¯ï¼Œç‚ºäº†é¿å…é€™å€‹æƒ…æ³ï¼Œæœƒéœ€è¦å…ˆå°‡<code>n-1</code>ï¼Œ<code>%9</code>å¾Œå†<code>+1</code>ï¼Œé€™æ¨£é‡åˆ°9çš„å€æ•¸ç­”æ¡ˆä¹Ÿèƒ½æ­£ç¢ºï½</p><h2 id="2024-02-21æ›´æ–°"><a href="#2024-02-21æ›´æ–°" class="headerlink" title="2024&#x2F;02&#x2F;21æ›´æ–°"></a>2024&#x2F;02&#x2F;21æ›´æ–°</h2><p>é€™å¹¾å¤©å»é¢è©¦æ”¶åˆ°çš„åé¥‹ï¼Œæ—¢ç„¶å·²ç¶“çŸ¥é“æœƒæœ‰é‡åˆ°<code>9çš„å€æ•¸</code>å°±å‡ºéŒ¯çš„å•é¡Œï¼Œæ€éº¼ä¸ç›´æ¥å¯«åœ¨ç¨‹å¼ç¢¼è£¡å‘¢ï¼Ÿå› æ­¤å°±å‡ºç¾äº†<code>è§£æ³•ä¸‰</code>ï¼Œçœ‹èµ·ä¾†æ›´æ¸…æ¥šï¼</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-comment">#è§£æ³•ä¸‰</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">digital_root</span>(<span class="hljs-params">n</span>)<br>  <span class="hljs-keyword">case</span><br>  <span class="hljs-keyword">when</span> n.zero?<br>    <span class="hljs-number">0</span><br>  <span class="hljs-keyword">when</span> n % <span class="hljs-number">9</span> == <span class="hljs-number">0</span><br>    <span class="hljs-number">9</span><br>  <span class="hljs-keyword">else</span><br>    n % <span class="hljs-number">9</span><br>  <span class="hljs-keyword">end</span><br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><p>å…¶å¯¦æœ¬é¡Œç›®ä¹Ÿå’Œé¼é¼å¤§åçš„è²»æ°åˆ—æ•¸è§£æ³•ç›¸é—œï¼Œä¹Ÿæœ‰ç”¨åˆ°éè¿´çš„æ¦‚å¿µï¼Œè§£æ³•ä¹Ÿä¸€ä½µè£œå……åœ¨é€™è£¡ï¼š</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">fibonacci</span>(<span class="hljs-params">n</span>)<br>  n &lt;= <span class="hljs-number">1</span> ? n : fibonacci(n - <span class="hljs-number">1</span>) + fibonacci(n - <span class="hljs-number">2</span>)<br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><p>å¾Œé¢<code>Python</code>çš„è§£æ³•å’Œ<code>JS</code>è§£æ³•å¤§è‡´ç›¸åŒï¼Œåªæœ‰å¯«æ³•ä¸åŒè€Œå·²ï¼š</p><h2 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">def</span> <span class="hljs-title function_">digital_root</span>(<span class="hljs-params">n</span>):<br>    <span class="hljs-keyword">return</span> n <span class="hljs-keyword">if</span> n &lt; <span class="hljs-number">10</span> <span class="hljs-keyword">else</span> digital_root(<span class="hljs-built_in">sum</span>(<span class="hljs-built_in">int</span>(digit) <span class="hljs-keyword">for</span> digit <span class="hljs-keyword">in</span> <span class="hljs-built_in">str</span>(n)))<br></code></pre></td></tr></table></figure><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">def</span> <span class="hljs-title function_">digital_root</span>(<span class="hljs-params">n</span>):<br>    <span class="hljs-keyword">return</span> n <span class="hljs-keyword">if</span> n == <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> (n - <span class="hljs-number">1</span>) % <span class="hljs-number">9</span> + <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">def</span> <span class="hljs-title function_">digital_root</span>(<span class="hljs-params">n</span>):<br>    <span class="hljs-keyword">if</span> n == <span class="hljs-number">0</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span><br>    <span class="hljs-keyword">elif</span> n % <span class="hljs-number">9</span> == <span class="hljs-number">0</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">9</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">return</span> n % <span class="hljs-number">9</span><br></code></pre></td></tr></table></figure><h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">digitalRoot</span>(<span class="hljs-params">n</span>) &#123;<br>    <span class="hljs-keyword">return</span> n &lt; <span class="hljs-number">10</span> ? n : <span class="hljs-title function_">digitalRoot</span>([...n.<span class="hljs-title function_">toString</span>()].<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">sum, digit</span>) =&gt;</span> sum + <span class="hljs-built_in">parseInt</span>(digit), <span class="hljs-number">0</span>));<br>  &#125;<br></code></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">digitalRoot2</span>(<span class="hljs-params">n</span>) &#123;<br>    <span class="hljs-keyword">return</span> n === <span class="hljs-number">0</span> ? <span class="hljs-number">0</span> : (n - <span class="hljs-number">1</span>) % <span class="hljs-number">9</span> + <span class="hljs-number">1</span>;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">digitalRoot</span>(<span class="hljs-params">n</span>) &#123;<br>  <span class="hljs-keyword">switch</span> (<span class="hljs-literal">true</span>) &#123;<br>    <span class="hljs-keyword">case</span> n === <span class="hljs-number">0</span>:<br>      <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">case</span> n % <span class="hljs-number">9</span> === <span class="hljs-number">0</span>:<br>      <span class="hljs-keyword">return</span> <span class="hljs-number">9</span>;<br>    <span class="hljs-attr">default</span>:<br>      <span class="hljs-keyword">return</span> n % <span class="hljs-number">9</span>;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;é€™ä¹Ÿæ˜¯é€™å¹¾å¤©é‡åˆ°ç¨‹å¼çš„é¢è©¦é¡Œç›®ï¼Œä¸€ä½µå°‡è§£æ³•åˆ†äº«Ù©(^á´—^)Û¶&lt;br&gt;é¡Œç›®ï¼š&lt;a href=&quot;https://www.codewars.com/kata/541c8630095125aba6000c00&quot;&gt;Codewars&lt;/a&gt;&lt;br&gt;ä¸€æ¨£æœƒç”¨&lt;code&gt;Ruby&lt;/cod</summary>
      
    
    
    
    <category term="codewars" scheme="http://adora-xu.com/categories/codewars/"/>
    
    
    <category term="Ruby" scheme="http://adora-xu.com/tags/Ruby/"/>
    
    <category term="Python" scheme="http://adora-xu.com/tags/Python/"/>
    
    <category term="JavaScript" scheme="http://adora-xu.com/tags/JavaScript/"/>
    
    <category term="codewars" scheme="http://adora-xu.com/tags/codewars/"/>
    
    <category term="sum of digits" scheme="http://adora-xu.com/tags/sum-of-digits/"/>
    
    <category term="digital root" scheme="http://adora-xu.com/tags/digital-root/"/>
    
    <category term="éè¿´" scheme="http://adora-xu.com/tags/%E9%81%9E%E8%BF%B4/"/>
    
    <category term="recursion" scheme="http://adora-xu.com/tags/recursion/"/>
    
  </entry>
  
  <entry>
    <title>CodeWars: credit card mask</title>
    <link href="http://adora-xu.com/2024/02/16/codewars-credit-card-mask/"/>
    <id>http://adora-xu.com/2024/02/16/codewars-credit-card-mask/</id>
    <published>2024-02-16T08:05:11.000Z</published>
    <updated>2024-09-20T07:07:57.149Z</updated>
    
    <content type="html"><![CDATA[<p>é€™å¹¾å¤©é‡åˆ°ç¨‹å¼çš„é¢è©¦é¡Œç›®ï¼Œæƒ³èªªä¹Ÿå¯ä»¥ä¸€ä½µå°‡è§£æ³•åˆ†äº«Ù©(^á´—^)Û¶<br>é¡Œç›®ï¼š<a href="https://www.codewars.com/kata/5412509bd436bd33920011bc">Codewars</a><br>ä¸€æ¨£æœƒç”¨<code>Ruby</code>ã€<code>Python</code>å’Œ<code>JavaScript</code>ä¸‰å€‹èªè¨€ä¾†è§£é¡Œï¼Œè®“æˆ‘å€‘é–‹å§‹å§ï¼<br><img src="/images/codewar-credit-card-mask/1.png"></p><p>å¦‚æœæœ‰åƒæ˜¯éŠ€è¡Œå¡è™Ÿã€éŠ€è¡Œå¸³è™Ÿç­‰ç­‰æ©Ÿå¯†è¨Šæ¯éœ€è¦åŠ å¯†ï¼Œå¯ä»¥ä½¿ç”¨æ­¤æ–¹æ³•ï¼Œåƒ…é¡¯ç¤ºæœ€å¾Œå››ç¢¼ï¼Œå¦‚æœç¸½æ•¸å°æ–¼å››ç¢¼å°±é¡¯ç¤ºæ‰€æœ‰å…§å®¹ã€‚</p><h2 id="Ruby"><a href="#Ruby" class="headerlink" title="Ruby"></a>Ruby</h2><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">maskify</span>(<span class="hljs-params">cc</span>)<br>  cc.size &gt; <span class="hljs-number">4</span> ? <span class="hljs-string">&quot;#&quot;</span> * (cc.size - <span class="hljs-number">4</span>) + cc[-<span class="hljs-number">4</span>..-<span class="hljs-number">1</span>] : cc<br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><p>Rubyå¯ä»¥ä½¿ç”¨ä¸‰å…ƒé‹ç®—å­ä¾†è§£ï¼Œé¦–å…ˆåˆ¤æ–·æ•¸å…¥çš„å€¼é•·åº¦<code>cc.size</code>æ˜¯å¦å¤§æ–¼4ç¢¼ï¼Œå› ç‚ºæœ€å¾Œé¢4ç¢¼è¦é¡¯ç¤ºï¼Œæ‰€ä»¥å¦‚æœå¤§æ–¼4ç¢¼ï¼Œå°±å°‡å‰é¢å››ç¢¼çš„é•·åº¦<code>cc.size</code>æ‰£æ‰<code>4ç¢¼</code> * <code>#</code>ï¼Œå†ä½¿ç”¨<code>cc[-4..-1]</code>é¡¯ç¤ºå€’æ•¸å››ä½ï½å€’æ•¸æœ€å¾Œä¸€ä½ã€‚</p><p>å¦‚æœæ²’æœ‰å¤§æ–¼4ç¢¼ï¼Œå°±ç›´æ¥é¡¯ç¤º<code>cc</code>å³å¯ Ù©(^á´—^)Û¶</p><h2 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">def</span> <span class="hljs-title function_">maskify</span>(<span class="hljs-params">cc</span>):<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;#&quot;</span> * (<span class="hljs-built_in">len</span>(cc)-<span class="hljs-number">4</span>) + cc[-<span class="hljs-number">4</span>:]<br></code></pre></td></tr></table></figure><p>Pythonæ¯”è¼ƒç‰¹åˆ¥ï¼Œå¦‚æœå­—ä¸²<code>*</code>å°æ–¼ç­‰æ–¼é›¶çš„æ•¸å­—ï¼Œæœƒè¿”é‚„ç©ºå€¼ã€‚<br>æ‰€ä»¥é€™è£¡ä¸éœ€è¦ä½¿ç”¨åˆ¤æ–·å¼å°±å¯ä»¥å®Œæˆo(^â–½^)o</p><h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">maskify</span>(<span class="hljs-params">cc</span>) &#123;<br>    <span class="hljs-keyword">return</span> cc.<span class="hljs-property">length</span> &gt; <span class="hljs-number">4</span> ? <span class="hljs-string">&quot;#&quot;</span>.<span class="hljs-title function_">repeat</span>(cc.<span class="hljs-property">length</span> - <span class="hljs-number">4</span>) + cc.<span class="hljs-title function_">slice</span>(-<span class="hljs-number">4</span>) : cc<br>&#125;<br></code></pre></td></tr></table></figure><p>JSå’ŒRubyçš„è§£æ³•é‚è¼¯ä¸€æ¨£ï¼Œä½¿ç”¨ä¸‰å…ƒé‹ç®—å­åˆ¤æ–·é•·åº¦<code>cc.length</code>æ˜¯å¦ &gt; 4ï¼Œå¦‚æœå¤§æ–¼çš„è©±å‰‡è¿”å›æ‰£æ‰4å€‹é•·åº¦çš„<code> &quot;#&quot;.repeat(cc.length - 4)</code>+æœ€å¾Œå››ç¢¼<code>cc.slice(-4)</code>ï¼Œå¦‚æœå°æ–¼4ç›´æ¥è¿”é‚„<code>cc</code></p><p>Codewars 7kyuçš„é¡Œç›®å’Œleetcode easyç›¸æ¯”ç¨å¾®ç°¡å–®ä¸€é»ï¼Œå¾ˆé©åˆç·´ç¿’ä¸åŒç¨‹å¼çš„åŸºæœ¬ç”¨æ³•ï½å¾ˆå¯æƒœå‰å¹¾å¤©çš„LeetcodeæŒ‘æˆ°æ–·åœ¨Day 15ï¼Œæ¥ä¸‹ä¾†ç¹¼çºŒåŠªåŠ›o(^âˆ€^*)o</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;é€™å¹¾å¤©é‡åˆ°ç¨‹å¼çš„é¢è©¦é¡Œç›®ï¼Œæƒ³èªªä¹Ÿå¯ä»¥ä¸€ä½µå°‡è§£æ³•åˆ†äº«Ù©(^á´—^)Û¶&lt;br&gt;é¡Œç›®ï¼š&lt;a href=&quot;https://www.codewars.com/kata/5412509bd436bd33920011bc&quot;&gt;Codewars&lt;/a&gt;&lt;br&gt;ä¸€æ¨£æœƒç”¨&lt;code&gt;Ruby&lt;/c</summary>
      
    
    
    
    <category term="codewars" scheme="http://adora-xu.com/categories/codewars/"/>
    
    
    <category term="Ruby" scheme="http://adora-xu.com/tags/Ruby/"/>
    
    <category term="Python" scheme="http://adora-xu.com/tags/Python/"/>
    
    <category term="JavaScript" scheme="http://adora-xu.com/tags/JavaScript/"/>
    
    <category term="codewars" scheme="http://adora-xu.com/tags/codewars/"/>
    
    <category term="credit card mask" scheme="http://adora-xu.com/tags/credit-card-mask/"/>
    
  </entry>
  
  <entry>
    <title>LeetcodeæŒ‘æˆ°: Day15 excel sheet column title</title>
    <link href="http://adora-xu.com/2024/02/13/leetcode-excel-sheet-column-title/"/>
    <id>http://adora-xu.com/2024/02/13/leetcode-excel-sheet-column-title/</id>
    <published>2024-02-13T15:45:41.000Z</published>
    <updated>2024-09-20T07:07:57.154Z</updated>
    
    <content type="html"><![CDATA[<p>ç‚ºäº†åŠ å¼·è‡ªå·±çš„ç¨‹å¼èƒ½åŠ›ï¼Œå› æ­¤é–‹å§‹è¨˜éŒ„æ¯å¤©åˆ·leetcodeçš„è§£æ³•+èªªæ˜ï¼Œæœƒç”¨<code>Ruby</code>ã€<code>python</code>å’Œ<code>JavaScript</code>ä¸‰å€‹èªè¨€ä¾†è§£é¡Œï¼Œä»Šå¤©æ˜¯ç¬¬åäº”å¤©ï¼Œè®“æˆ‘å€‘é–‹å§‹å§ï¼</p><img src="/images/leetcode-excel-sheet-column-title/0213.png"><p>é¡Œç›®ä¾†æºï¼š<a href="https://leetcode.com/problems/length-of-last-word/description/">leetcode</a></p><p>é€™æ¬¡çš„é¡Œç›®è »æœ‰è¶£çš„ï¼Œæ˜¯çµ¦äºˆExcelçš„æ¬„ä½å°‡æ•¸æ›ç‚ºæ•¸å­—ï¼ŒExcelæ¬„ä½çš„æ…£ä¾‹ç‚ºï¼š</p><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs clean">A -&gt; <span class="hljs-number">1</span><br>B -&gt; <span class="hljs-number">2</span><br>C -&gt; <span class="hljs-number">3</span><br>...<br>Z -&gt; <span class="hljs-number">26</span><br>AA -&gt; <span class="hljs-number">27</span><br>AB -&gt; <span class="hljs-number">28</span> <br>...<br></code></pre></td></tr></table></figure><p>A<del>Zæ˜¯1</del>26ï¼Œ27æ˜¯AA,28æ˜¯ABï¼Œä¾åºä¸‹å»ï¼Œç­‰æ–¼æ˜¯æ»¿<code>26</code>å¾Œæœƒé€²ä½ã€‚<br>é€™æ¨£ä¾†çœ‹ï¼Œå…¶å¯¦Excelæ¬„ä½å’Œ26é€²ä½è »åƒçš„ï¼Œè½‰æ›éœ€è¦ &#x2F; 26å¾Œçš„é¤˜æ•¸å°æ‡‰åˆ°ç›¸æ‡‰çš„å­—æ¯å³å¯ï¼ˆå’Œåé€²ä½è½‰äºŒé€²ä½æœ‰é»åƒï¼‰ï¼Œå› ç‚ºå‰›å¥½å°æ‡‰çš„æ˜¯å­—æ¯ï¼Œå¯ä»¥å°‡å…¶è½‰æ›ç‚º<code>ASCII</code>ç¢¼ï¼Œåœ¨<code>ASCII</code>è£¡ï¼Œ<code>A</code>ç‚º<code>065</code>ã€<code>B</code>ç‚º<code>066</code>â€¦.ä¾åºæ’åºï¼Œæ’åºåˆ°<code>Z</code>ç‚º<code>090</code>ã€‚</p><h2 id="Ruby"><a href="#Ruby" class="headerlink" title="Ruby"></a>Ruby</h2><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">convert_to_title</span>(<span class="hljs-params">column_number</span>)<br>  result = <span class="hljs-string">&#x27;&#x27;</span> <span class="hljs-comment">#åˆ©ç”¨ç©ºå­—ä¸²ä¾†å„²å­˜çµæœ</span><br>  <span class="hljs-keyword">while</span> column_number &gt; <span class="hljs-number">0</span><br>    column_number -= <span class="hljs-number">1</span> <span class="hljs-comment"># æ¸›å»1ï¼Œé€™æ¨£1å°±å°æ‡‰åˆ°&#x27;A&#x27;</span><br>    result = (<span class="hljs-string">&#x27;A&#x27;</span>.ord + column_number % <span class="hljs-number">26</span>).chr + result<br>    <span class="hljs-comment"># å–å¾—å°æ‡‰å­—æ¯ï¼ŒåŠ åˆ°çµæœå­—ä¸²çš„æœ€å‰é¢</span><br>    column_number /= <span class="hljs-number">26</span><br>    <span class="hljs-comment"># å°‡ column_number é™¤ä»¥ 26ï¼Œä»¥è™•ç†ä¸‹ä¸€ä½æ•¸å­—</span><br>  <span class="hljs-keyword">end</span><br>  result<br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><p><code>column_number -= 1</code><br>æ­¤æ–¹æ³•æ˜¯åˆ©ç”¨<code>é¤˜æ•¸</code>å…ˆå–<code>å€‹ä½æ•¸</code>çš„å­—æ¯ï¼Œå†<code>/26</code>å–å¾—æ¥ä¸‹ä¾†çš„æ•¸å­—å­—æ¯ï¼Œæœƒéœ€è¦å…ˆ<code>-1</code>ï¼Œé€™æ¨£<code>1</code>æ‰èƒ½å°æ‡‰åˆ°<code>A</code></p><p><code>result = (&#39;A&#39;.ord + column_number % 26).chr + result</code><br>é€™æ®µçš„<code>ord</code>æ˜¯å°‡å­—æ¯è½‰æ›ç‚º<code>ASCII</code>ï¼Œå› ç‚ºæ¯å€‹å­—æ¯éƒ½æ˜¯æŒ‰ç…§é †åºæ’åºï¼Œæ‰€ä»¥ä¸­é–“çš„å·®æ•¸å°±æ˜¯<code>&#39;A&#39;.ord</code>ï¼Œæœ€å¾Œå†ä½¿ç”¨<code>.chr</code>è½‰ç‚ºæ•¸å­—ï¼Œæœ€å¾Œ <code>+ result</code>æ›´æ–°<code>result</code>çš„æ•¸ï¼Œä¸¦ç¢ºä¿ä¸‹ä¸€å€‹<code>result</code>æœƒæ”¾åœ¨å‰é¢</p><p>æ¥è‘—æœ€å¾Œå†å°‡è¼¸å…¥å€¼<code>/26</code>ä¾†è™•ç†ä¸‹ä¸€ä½æ•¸ï¼ˆçœŸçš„å’Œåé€²ä½è½‰äºŒé€²ä½è »åƒçš„ï½ï¼‰</p><h2 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">convertToTitle</span>(<span class="hljs-params">self, columnNumber: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">str</span>:<br>        result = <span class="hljs-string">&#x27;&#x27;</span><br>        <span class="hljs-keyword">while</span> columnNumber:<br>            columnNumber -= <span class="hljs-number">1</span><br>            result = <span class="hljs-built_in">chr</span>(<span class="hljs-built_in">ord</span>(<span class="hljs-string">&#x27;A&#x27;</span>) + columnNumber % <span class="hljs-number">26</span>) + result<br>            columnNumber //= <span class="hljs-number">26</span><br>        <span class="hljs-keyword">return</span> result<br><br></code></pre></td></tr></table></figure><p>Pythonå’ŒRubyçš„è§£æ³•ç›¸åŒï¼Œåªè¦æ”¹è®Šå¯«æ³•å³å¯ï¼</p><h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">convertToTitle</span>(<span class="hljs-params">columnNumber</span>) &#123;<br>    <span class="hljs-keyword">let</span> result = <span class="hljs-string">&#x27;&#x27;</span>;<br>    <span class="hljs-keyword">while</span> (columnNumber &gt; <span class="hljs-number">0</span>) &#123;<br>        columnNumber--;<br>        result = <span class="hljs-title class_">String</span>.<span class="hljs-title function_">fromCharCode</span>(<span class="hljs-string">&#x27;A&#x27;</span>.<span class="hljs-title function_">charCodeAt</span>(<span class="hljs-number">0</span>) + columnNumber % <span class="hljs-number">26</span>) + result;<br>        columnNumber = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(columnNumber / <span class="hljs-number">26</span>);<br>    &#125;<br>    <span class="hljs-keyword">return</span> result;<br>&#125;<br></code></pre></td></tr></table></figure><p>JSä¹Ÿå’ŒRubyçš„è§£æ³•ç›¸åŒï¼Œåªè¦æ”¹è®Šå¯«æ³•å³å¯ï¼<br>ä»Šå¤©å°±åˆ°é€™è£¡ï½æ˜å¤©ç¹¼çºŒåŠ æ²¹ï¼</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ç‚ºäº†åŠ å¼·è‡ªå·±çš„ç¨‹å¼èƒ½åŠ›ï¼Œå› æ­¤é–‹å§‹è¨˜éŒ„æ¯å¤©åˆ·leetcodeçš„è§£æ³•+èªªæ˜ï¼Œæœƒç”¨&lt;code&gt;Ruby&lt;/code&gt;ã€&lt;code&gt;python&lt;/code&gt;å’Œ&lt;code&gt;JavaScript&lt;/code&gt;ä¸‰å€‹èªè¨€ä¾†è§£é¡Œï¼Œä»Šå¤©æ˜¯ç¬¬åäº”å¤©ï¼Œè®“æˆ‘å€‘é–‹å§‹å§ï¼&lt;/p&gt;
&lt;img src=&quot;</summary>
      
    
    
    
    <category term="leetcode" scheme="http://adora-xu.com/categories/leetcode/"/>
    
    
    <category term="Ruby" scheme="http://adora-xu.com/tags/Ruby/"/>
    
    <category term="Python" scheme="http://adora-xu.com/tags/Python/"/>
    
    <category term="JavaScript" scheme="http://adora-xu.com/tags/JavaScript/"/>
    
    <category term="leetcode" scheme="http://adora-xu.com/tags/leetcode/"/>
    
    <category term="excel sheet column title" scheme="http://adora-xu.com/tags/excel-sheet-column-title/"/>
    
  </entry>
  
  <entry>
    <title>LeetcodeæŒ‘æˆ°: Day14 sqrtx</title>
    <link href="http://adora-xu.com/2024/02/12/leetcode-sqrtx/"/>
    <id>http://adora-xu.com/2024/02/12/leetcode-sqrtx/</id>
    <published>2024-02-12T14:36:08.000Z</published>
    <updated>2024-09-20T07:07:57.159Z</updated>
    
    <content type="html"><![CDATA[<p>ç‚ºäº†åŠ å¼·è‡ªå·±çš„ç¨‹å¼èƒ½åŠ›ï¼Œå› æ­¤é–‹å§‹è¨˜éŒ„æ¯å¤©åˆ·leetcodeçš„è§£æ³•+èªªæ˜ï¼Œæœƒç”¨<code>Ruby</code>ã€<code>python</code>å’Œ<code>JavaScript</code>ä¸‰å€‹èªè¨€ä¾†è§£é¡Œï¼Œä»Šå¤©æ˜¯ç¬¬åå››å¤©ï¼Œè®“æˆ‘å€‘é–‹å§‹å§ï¼</p><img src="/images/sqrtx/1.png"><p>é¡Œç›®ä¾†æºï¼š<a href="https://leetcode.com/problems/sqrtx/">leetcode</a></p><p>ä»Šå¤©çš„é¡Œç›®æ˜¯å°‹æ‰¾å¹³æ–¹æ ¹ï¼Œä½†æ˜¯ä¸èƒ½ç”¨å…§å»ºçš„æ•¸å­¸æ–¹æ³•ä¾†æ‰¾ï¼Œé¡Œç›®è§£é‡‹å¦‚ä¸‹ï¼š</p><p>åœ¨ç»™å®šä¸€ä¸ªéè² æ•´æ•¸ x çš„æƒ…å†µä¸‹ï¼Œè¿”å›å››æ¨äº”å…¥åˆ°æœ€æ¥è¿‘æ•´æ•°çš„ x çš„å¹³æ–¹æ ¹ã€‚è¿”å›çš„æ•´æ•¸ä¹Ÿæ‡‰ç‚ºéè² æ•´æ•°ã€‚</p><p>ä¸å¾—ä½¿ç”¨ä»»ä½•å†…ç½®æŒ‡æ•°å‡½æ•°æˆ–è¿ç®—ç¬¦ã€‚<br>ä¾‹å¦‚ï¼Œè«‹å‹¿åœ¨ c++ ä¸­ä½¿ç”¨ pow(x, 0.5) æˆ–åœ¨ python ä¸­ä½¿ç”¨ x ** 0.5ã€‚</p><p>é¡Œç›®é‚„ç®—å–®ç´”ï¼Œå› ç‚ºåƒ…è¦å››æ¨äº”å…¥åˆ°æ•´æ•¸ä½å³å¯ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ˜¨å¤©ç”¨åˆ°çš„<code>äºŒåˆ†æ³•</code>ï¼Œå¾ä¸­é–“åˆ‡ä¸€åŠé–‹å§‹æ¸¬è©¦ï¼Œé€™æ¨£å¾ˆå¿«å°±å¯ä»¥æ‰¾åˆ°äº†ï¼</p><h2 id="Ruby"><a href="#Ruby" class="headerlink" title="Ruby"></a>Ruby</h2><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">my_sqrt</span>(<span class="hljs-params">x</span>)<br>  <span class="hljs-comment"># å·¦å³é‚Šç•Œç‚º0...x</span><br>  left, right = <span class="hljs-number">0</span>, x<br><br>  <span class="hljs-keyword">while</span> left &lt;= right<br>    mid = (left + right) / <span class="hljs-number">2</span>  <span class="hljs-comment"># è¨ˆç®—ä¸­é–“å€¼</span><br>    mid_squared = mid * mid  <span class="hljs-comment"># è¨ˆç®—ä¸­é–“å€¼çš„å¹³æ–¹</span><br><br>    <span class="hljs-keyword">if</span> mid_squared == x<br>      <span class="hljs-keyword">return</span> mid.to_i  <span class="hljs-comment"># å¦‚æœä¸­é–“å€¼çš„å¹³æ–¹ç­‰æ–¼ xï¼Œè¿”å›ä¸­é–“å€¼ï¼ˆè½‰æ›ç‚ºæ•´æ•¸å½¢å¼ï¼‰</span><br>    <span class="hljs-keyword">elsif</span> mid_squared &lt; x<br>      left = mid + <span class="hljs-number">1</span>  <span class="hljs-comment"># å¦‚æœä¸­é–“å€¼çš„å¹³æ–¹å°æ–¼ xï¼Œå°±ä½¿ç”¨mid+1...xä¾†æ¯”è¼ƒï¼Œå› æ­¤èª¿æ•´leftçš„å€¼</span><br>    <span class="hljs-keyword">else</span><br>      right = mid - <span class="hljs-number">1</span>  <span class="hljs-comment"># å¦‚æœä¸­é–“å€¼çš„å¹³æ–¹å¤§æ–¼ xï¼Œå°±ä½¿ç”¨left...mid-1ä¾†æ¯”è¼ƒï¼Œå› æ­¤èª¿æ•´rightçš„å€¼</span><br>    <span class="hljs-keyword">end</span><br>  <span class="hljs-keyword">end</span><br><br>  <span class="hljs-keyword">return</span> right.to_i  <span class="hljs-comment"># ç•¶ left &gt; right æ™‚ï¼Œright å°±æ˜¯å°æ–¼æˆ–ç­‰æ–¼å¹³æ–¹æ ¹çš„æ•´æ•¸å€¼ï¼Œå› æ­¤è¦å‘ä¸‹å–æ•´ï¼Œæ‰€ä»¥è¿”å›å³é‚Šç•Œï¼ˆè½‰æ›ç‚ºæ•´æ•¸å½¢å¼ï¼‰</span><br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><h2 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">mySqrt</span>(<span class="hljs-params">self, x: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        <span class="hljs-comment"># å·¦å³é‚Šç•Œç‚º0...x</span><br>        left, right = <span class="hljs-number">0</span>, x<br><br>        <span class="hljs-keyword">while</span> left &lt;= right:<br>            mid = (left + right) // <span class="hljs-number">2</span>  <span class="hljs-comment"># è¨ˆç®—ä¸­é–“å€¼</span><br>            mid_squared = mid * mid  <span class="hljs-comment"># è¨ˆç®—ä¸­é–“å€¼çš„å¹³æ–¹</span><br><br>            <span class="hljs-keyword">if</span> mid_squared == x:<br>                <span class="hljs-keyword">return</span> mid  <span class="hljs-comment"># å¦‚æœä¸­é–“å€¼çš„å¹³æ–¹ç­‰æ–¼ xï¼Œè¿”å›ä¸­é–“å€¼</span><br>            <span class="hljs-keyword">elif</span> mid_squared &lt; x:<br>                left = mid + <span class="hljs-number">1</span>  <span class="hljs-comment"># å¦‚æœä¸­é–“å€¼çš„å¹³æ–¹å°æ–¼ xï¼Œèª¿æ•´å·¦é‚Šç•Œ</span><br>            <span class="hljs-keyword">else</span>:<br>                right = mid - <span class="hljs-number">1</span>  <span class="hljs-comment"># å¦‚æœä¸­é–“å€¼çš„å¹³æ–¹å¤§æ–¼ xï¼Œèª¿æ•´å³é‚Šç•Œ</span><br><br>        <span class="hljs-keyword">return</span> right  <span class="hljs-comment"># å› ç‚ºè¦å‘ä¸‹å–æ•´ï¼Œæ‰€ä»¥è¿”å›å³é‚Šç•Œ</span><br></code></pre></td></tr></table></figure><h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">mySqrt</span>(<span class="hljs-params">x</span>) &#123;<br>    <span class="hljs-keyword">let</span> left = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">let</span> right = x;<br>  <br>    <span class="hljs-keyword">while</span> (left &lt;= right) &#123;<br>      <span class="hljs-keyword">const</span> mid = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>((left + right) / <span class="hljs-number">2</span>);<br>      <span class="hljs-keyword">const</span> midSquared = mid * mid;<br>  <br>      <span class="hljs-keyword">if</span> (midSquared === x) &#123;<br>        <span class="hljs-keyword">return</span> mid;<br>      &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (midSquared &lt; x) &#123;<br>        left = mid + <span class="hljs-number">1</span>;<br>      &#125; <span class="hljs-keyword">else</span> &#123;<br>        right = mid - <span class="hljs-number">1</span>;<br>      &#125;<br>    &#125;<br>  <br>    <span class="hljs-keyword">return</span> right;<br>  &#125;<br></code></pre></td></tr></table></figure><p>é›–ç„¶å¦‚æœä½¿ç”¨å…§å»ºçš„æ–¹æ³•è¶…å¿«å°±å¯ä»¥è§£å‡ºä¾†äº†ï¼Œä½†å­¸ç¿’ä½¿ç”¨äºŒåˆ†æ³•ä¹Ÿèƒ½å¤ åœ¨å…¶ä»–çš„æ¢ä»¶ä¸‹æ‡‰ç”¨ï¼</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ç‚ºäº†åŠ å¼·è‡ªå·±çš„ç¨‹å¼èƒ½åŠ›ï¼Œå› æ­¤é–‹å§‹è¨˜éŒ„æ¯å¤©åˆ·leetcodeçš„è§£æ³•+èªªæ˜ï¼Œæœƒç”¨&lt;code&gt;Ruby&lt;/code&gt;ã€&lt;code&gt;python&lt;/code&gt;å’Œ&lt;code&gt;JavaScript&lt;/code&gt;ä¸‰å€‹èªè¨€ä¾†è§£é¡Œï¼Œä»Šå¤©æ˜¯ç¬¬åå››å¤©ï¼Œè®“æˆ‘å€‘é–‹å§‹å§ï¼&lt;/p&gt;
&lt;img src=&quot;</summary>
      
    
    
    
    <category term="leetcode" scheme="http://adora-xu.com/categories/leetcode/"/>
    
    
    <category term="Ruby" scheme="http://adora-xu.com/tags/Ruby/"/>
    
    <category term="Python" scheme="http://adora-xu.com/tags/Python/"/>
    
    <category term="JavaScript" scheme="http://adora-xu.com/tags/JavaScript/"/>
    
    <category term="leetcode" scheme="http://adora-xu.com/tags/leetcode/"/>
    
    <category term="sqrtx" scheme="http://adora-xu.com/tags/sqrtx/"/>
    
  </entry>
  
  <entry>
    <title>LeetcodeæŒ‘æˆ°: Day13 search insert position</title>
    <link href="http://adora-xu.com/2024/02/11/search-insert-position/"/>
    <id>http://adora-xu.com/2024/02/11/search-insert-position/</id>
    <published>2024-02-11T14:09:20.000Z</published>
    <updated>2024-09-20T07:07:57.161Z</updated>
    
    <content type="html"><![CDATA[<p>ç‚ºäº†åŠ å¼·è‡ªå·±çš„ç¨‹å¼èƒ½åŠ›ï¼Œå› æ­¤é–‹å§‹è¨˜éŒ„æ¯å¤©åˆ·leetcodeçš„è§£æ³•+èªªæ˜ï¼Œæœƒç”¨<code>Ruby</code>ã€<code>python</code>å’Œ<code>JavaScript</code>ä¸‰å€‹èªè¨€ä¾†è§£é¡Œï¼Œä»Šå¤©æ˜¯ç¬¬åä¸‰å¤©ï¼Œè®“æˆ‘å€‘é–‹å§‹å§ï¼</p><img src="/images/search-insert-position/1.png"><p>é¡Œç›®ä¾†æºï¼š<a href="https://leetcode.com/problems/search-insert-position/description/">leetcode</a></p><p>ä¸€é–‹å§‹çœ‹åˆ°é¡Œç›®åŸæœ¬æƒ³èªªï¼ŒæŠŠæ•¸å­—æ’å…¥é™£åˆ—ä¸­æ’åºå¾Œå†è¿”é‚„ç´¢å¼•å€¼å°±å¥½ï¼Œä½†å¯¦éš›åŸ·è¡Œå»ç™¼ç¾æ•ˆç‡å¾ˆå·®Ê˜â€¿Ê˜ã€‚</p><p>å¾Œä¾†æƒ³åˆ°å¯ä»¥ä½¿ç”¨äºŒåˆ†æ³•ï¼Œå…ˆå–ä¸­é–“çš„æ•¸å­—èˆ‡targetæ¯”è¼ƒï¼Œåˆ†æˆå…©é‚Šï¼Œé€™æ¨£æœ€å¤šå°±åªè¦æ¯”è¼ƒé™£åˆ—ä¸€åŠçš„æ•¸é‡å°±å¥½ï¼Œæœƒæ¯”è¼ƒæœ‰æ•ˆç‡ï¼Œå°±åƒæ˜¯çŒœæ•¸å­—ï¼Œå¦‚æœä¸€é–‹å§‹å°±å°åŠçŒœï¼ŒçŒœåˆ°æ•¸å­—çš„æ©Ÿç‡ä¹Ÿæœƒå¿«å¾ˆå¤šã€‚</p><h2 id="Ruby"><a href="#Ruby" class="headerlink" title="Ruby"></a>Ruby</h2><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">search_insert</span>(<span class="hljs-params">nums, target</span>)<br>  left, right = <span class="hljs-number">0</span>, nums.length - <span class="hljs-number">1</span><br><br>  <span class="hljs-keyword">while</span> left &lt;= right<br>    mid = (left + right) / <span class="hljs-number">2</span><br>    <span class="hljs-keyword">if</span> nums[mid] == target<br>      <span class="hljs-keyword">return</span> mid<br>    <span class="hljs-keyword">elsif</span> nums[mid] &lt; target<br>      left = mid + <span class="hljs-number">1</span><br>    <span class="hljs-keyword">else</span><br>      right = mid - <span class="hljs-number">1</span><br>    <span class="hljs-keyword">end</span><br>  <span class="hljs-keyword">end</span><br><br>  <span class="hljs-keyword">return</span> left<br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><p>é€™è£¡çš„<code>left</code>æ˜¯æŒ‡é™£åˆ—çš„èµ·å§‹ç´¢å¼•å€¼ï¼Œç‚º<code>0</code>ï¼Œ<code>right</code>æ˜¯é™£åˆ—çš„çµæŸå€¼ï¼Œç‚º<code>nums.length - 1</code>ï¼Œ<code>mid</code>å°±æ˜¯ä¸­é–“çš„ç´¢å¼•å€¼<code>(left+right)/2</code></p><p>å¦‚æœç…§æ’åºçœ‹å¯ä»¥é€™æ¨£ç†è§£ï¼š<br><code>left</code>,<code>mid</code>,<code>right</code></p><p>ä¸€é–‹å§‹å…ˆçŒœä¸­é–“ï¼Œå¦‚æœé‹æ°£å¥½å°±æ˜¯ä¸­é–“å€¼ï¼Œå¯ç›´æ¥è¿”é‚„<code>mid</code>ã€‚</p><p>å¦‚æœ<code>target</code>æ¯”è¼ƒå¤§ï¼Œå³ç¸®å°<code>left</code>çš„ç¯„åœç‚º<code>mid + 1</code>ï¼Œæ¯”è¼ƒæ•¸å­—çš„ç¯„åœä¹Ÿåˆ°äº†å³åŠé‚Šï¼Œæ¥è‘—æœƒç¹¼çºŒæ–°çš„è¿´åœˆï¼Œå†ç¹¼çºŒå°åŠåˆ‡å–æ–°çš„<code>mid</code>å€¼æ¯”è¼ƒã€‚</p><p>å¦‚æœ<code>target</code>æ¯”è¼ƒå°ï¼Œå‰‡ç¸®å°<code>right</code>çš„ç¯„åœç‚º<code>mid - 1</code>ï¼Œæ¯”è¼ƒæ•¸å­—åœ¨å·¦åŠé‚Šï¼Œç¹¼çºŒæ–°çš„è¿´åœˆï¼Œå†ç¹¼çºŒå°åŠåˆ‡å–æ–°çš„<code>mid</code>å€¼æ¯”è¼ƒã€‚</p><p>ç›´åˆ°<code>nums[mid] = target</code>ï¼Œå³æœƒè¿”é‚„<code>mid</code>ï¼Œä¹Ÿå°±æ˜¯ç´¢å¼•å€¼ã€‚</p><h2 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">searchInsert</span>(<span class="hljs-params">self, nums, target</span>):<br>        left, right = <span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(nums) - <span class="hljs-number">1</span><br><br>        <span class="hljs-keyword">while</span> left &lt;= right:<br>            mid = (left + right) // <span class="hljs-number">2</span><br>            <span class="hljs-keyword">if</span> nums[mid] == target:<br>                <span class="hljs-keyword">return</span> mid<br>            <span class="hljs-keyword">elif</span> nums[mid] &lt; target:<br>                left = mid + <span class="hljs-number">1</span><br>            <span class="hljs-keyword">else</span>:<br>                right = mid - <span class="hljs-number">1</span><br><br>        <span class="hljs-keyword">return</span> left<br></code></pre></td></tr></table></figure><p><code>python</code>ä¹Ÿæ˜¯ä¸€æ¨£é‚è¼¯ï¼Œåªæ˜¯éƒ¨åˆ†å¯«æ³•ä¸åŒ</p><h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> searchInsert = <span class="hljs-keyword">function</span>(<span class="hljs-params">nums, target</span>) &#123;<br>    <span class="hljs-keyword">let</span> left = <span class="hljs-number">0</span>, right = nums.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>;<br>  <br>    <span class="hljs-keyword">while</span> (left &lt;= right) &#123;<br>      <span class="hljs-keyword">let</span> mid = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>((left + right) / <span class="hljs-number">2</span>);<br>      <span class="hljs-keyword">if</span> (nums[mid] == target) &#123;<br>        <span class="hljs-keyword">return</span> mid;<br>      &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (nums[mid] &lt; target) &#123;<br>        left = mid + <span class="hljs-number">1</span>;<br>      &#125; <span class="hljs-keyword">else</span> &#123;<br>        right = mid - <span class="hljs-number">1</span>;<br>      &#125;<br>    &#125;<br>  <br>    <span class="hljs-keyword">return</span> left;<br>  &#125;;<br></code></pre></td></tr></table></figure><p><code>js</code>ä¹Ÿæ˜¯ç›¸åŒï¼Œä¸ééœ€è¦æ·»åŠ <code>Math.floor</code>è®“<code>mid</code>å€¼ç‚ºç„¡æ¢ä»¶æ¨å»</p><p>é€™å°±æ˜¯ä»Šå¤©çš„è§£é¡Œäº†ï½å…¶å¯¦ä¸ç®¡ä»€éº¼é¡Œç›®éƒ½å¯ä»¥ç”¨æœ€ç¬¨çš„æ–¹æ³•è§£ï¼Œä½†æ˜¯å¦‚æœåœ¨è®€é¡Œç›®æ™‚å¤šæƒ³ä¸€é»ï¼Œå°±èƒ½è®“ç¨‹å¼ç¢¼æ•ˆç‡æ›´é«˜ï¼æ¥ä¸‹ä¾†å¹¾å¤©ç¹¼çºŒåŠ æ²¹ğŸ™Œ</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ç‚ºäº†åŠ å¼·è‡ªå·±çš„ç¨‹å¼èƒ½åŠ›ï¼Œå› æ­¤é–‹å§‹è¨˜éŒ„æ¯å¤©åˆ·leetcodeçš„è§£æ³•+èªªæ˜ï¼Œæœƒç”¨&lt;code&gt;Ruby&lt;/code&gt;ã€&lt;code&gt;python&lt;/code&gt;å’Œ&lt;code&gt;JavaScript&lt;/code&gt;ä¸‰å€‹èªè¨€ä¾†è§£é¡Œï¼Œä»Šå¤©æ˜¯ç¬¬åä¸‰å¤©ï¼Œè®“æˆ‘å€‘é–‹å§‹å§ï¼&lt;/p&gt;
&lt;img src=&quot;</summary>
      
    
    
    
    <category term="leetcode" scheme="http://adora-xu.com/categories/leetcode/"/>
    
    
    <category term="Ruby" scheme="http://adora-xu.com/tags/Ruby/"/>
    
    <category term="Python" scheme="http://adora-xu.com/tags/Python/"/>
    
    <category term="JavaScript" scheme="http://adora-xu.com/tags/JavaScript/"/>
    
    <category term="leetcode" scheme="http://adora-xu.com/tags/leetcode/"/>
    
    <category term="search insert position" scheme="http://adora-xu.com/tags/search-insert-position/"/>
    
  </entry>
  
  <entry>
    <title>LeetcodeæŒ‘æˆ°: Day12 plus one</title>
    <link href="http://adora-xu.com/2024/02/10/leetcode-plus-one/"/>
    <id>http://adora-xu.com/2024/02/10/leetcode-plus-one/</id>
    <published>2024-02-10T12:05:07.000Z</published>
    <updated>2024-09-20T07:07:57.157Z</updated>
    
    <content type="html"><![CDATA[<p>ç‚ºäº†åŠ å¼·è‡ªå·±çš„ç¨‹å¼èƒ½åŠ›ï¼Œå› æ­¤é–‹å§‹è¨˜éŒ„æ¯å¤©åˆ·leetcodeçš„è§£æ³•+èªªæ˜ï¼Œæœƒç”¨<code>Ruby</code>ã€<code>python</code>å’Œ<code>JavaScript</code>ä¸‰å€‹èªè¨€ä¾†è§£é¡Œï¼Œä»Šå¤©æ˜¯ç¬¬åäºŒå¤©ï¼Œè®“æˆ‘å€‘é–‹å§‹å§ï¼</p><img src="/images/leetcode-plus-one/0210.png"><p>é¡Œç›®ä¾†æºï¼š<a href="https://leetcode.com/problems/plus-one/">leetcode</a></p><p>é€™é¡Œé¡Œç›®å¾ˆç°¡å–®ï¼Œåªè¦æœƒä½¿ç”¨å°‡æ•¸å­—é™£åˆ—è½‰ç‚ºæ•´æ•¸å†åŠ ä¸€ï¼Œæ¥è‘—å†è½‰å›æ•¸å­—é™£åˆ—å°±å¯ä»¥å¾—åˆ°ç­”æ¡ˆï½</p><h2 id="Ruby"><a href="#Ruby" class="headerlink" title="Ruby"></a>Ruby</h2><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">plus_one</span>(<span class="hljs-params">digits</span>)<br>  (digits.join(<span class="hljs-string">&#x27;&#x27;</span>).to_i + <span class="hljs-number">1</span>).to_s.chars.map(&amp;<span class="hljs-symbol">:to_i</span>)<br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><p><code>.map(&amp;:to_i)</code>åŸå§‹çš„å¯«æ³•ç‚º<code>.map&#123; |num| num.to_i &#125;</code></p><h2 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">plusOne</span>(<span class="hljs-params">self, digits</span>):<br>        <span class="hljs-keyword">return</span> [<span class="hljs-built_in">int</span>(digit) <span class="hljs-keyword">for</span> digit <span class="hljs-keyword">in</span> <span class="hljs-built_in">str</span>(<span class="hljs-built_in">int</span>(<span class="hljs-string">&#x27;&#x27;</span>.join(<span class="hljs-built_in">map</span>(<span class="hljs-built_in">str</span>, digits))) + <span class="hljs-number">1</span>)]<br></code></pre></td></tr></table></figure><p>Pythonè½‰æ›å‹æ…‹éƒ½æ˜¯åŒ…ä¸€å€‹æ‹¬è™Ÿåœ¨å¤–é¢ï¼Œ<code>int(&#39;&#39;.join(map(str, digits)))</code>ç‚ºå°‡é™£åˆ—å…§æ¯ä¸€å­—é€£æ¥ç‚ºå­—ä¸²æœ€å¾Œè½‰ç‚ºæ•´æ•¸ï¼Œè€Œå¾Œ<code>+1</code>ï¼Œå†åˆ©ç”¨<code>str()</code>è½‰ç‚ºå­—ä¸²ã€‚</p><p>æœ€å¾Œå°‡æ¯ä¸€å­—è½‰ç‚ºæ•´æ•¸é™£åˆ—å›å‚³ã€‚</p><h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> plusOne = <span class="hljs-keyword">function</span>(<span class="hljs-params">digits</span>) &#123;<br>    <span class="hljs-keyword">return</span> (<span class="hljs-title class_">BigInt</span>(digits.<span class="hljs-title function_">join</span>(<span class="hljs-string">&#x27;&#x27;</span>)) + <span class="hljs-number">1n</span>).<span class="hljs-title function_">toString</span>().<span class="hljs-title function_">split</span>(<span class="hljs-string">&#x27;&#x27;</span>).<span class="hljs-title function_">map</span>(<span class="hljs-title class_">Number</span>);<br>  &#125;;<br></code></pre></td></tr></table></figure><p>åœ¨<code>js</code>æ¯”è¼ƒç‰¹åˆ¥ï¼Œä½¿ç”¨<a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/BigInt">BigInt</a>ï¼ŒBigInt æ˜¯ä¸€å€‹å…§å»ºçš„ç‰©ä»¶ï¼Œæä¾›äº†è¡¨ç¤ºå¤§æ–¼ 2^53 çš„æ•´æ•¸çš„åŠŸèƒ½ (2^53 æ˜¯ JavaScript åŸç”Ÿçš„Numberèƒ½å¤ è¡¨ç¤ºçš„æœ€å¤§å€¼)ï¼Œå› ç‚ºä½¿ç”¨<code>BigInt</code>å‹æ…‹ï¼Œæ‰€ä»¥<code>+1</code>è¦ä½¿ç”¨<code>+1n</code>ï¼Œæ‰èƒ½å¾—åˆ°åŠ ä¸€å¾Œçš„çµæœã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ç‚ºäº†åŠ å¼·è‡ªå·±çš„ç¨‹å¼èƒ½åŠ›ï¼Œå› æ­¤é–‹å§‹è¨˜éŒ„æ¯å¤©åˆ·leetcodeçš„è§£æ³•+èªªæ˜ï¼Œæœƒç”¨&lt;code&gt;Ruby&lt;/code&gt;ã€&lt;code&gt;python&lt;/code&gt;å’Œ&lt;code&gt;JavaScript&lt;/code&gt;ä¸‰å€‹èªè¨€ä¾†è§£é¡Œï¼Œä»Šå¤©æ˜¯ç¬¬åäºŒå¤©ï¼Œè®“æˆ‘å€‘é–‹å§‹å§ï¼&lt;/p&gt;
&lt;img src=&quot;</summary>
      
    
    
    
    <category term="leetcode" scheme="http://adora-xu.com/categories/leetcode/"/>
    
    
    <category term="Ruby" scheme="http://adora-xu.com/tags/Ruby/"/>
    
    <category term="Python" scheme="http://adora-xu.com/tags/Python/"/>
    
    <category term="JavaScript" scheme="http://adora-xu.com/tags/JavaScript/"/>
    
    <category term="leetcode" scheme="http://adora-xu.com/tags/leetcode/"/>
    
    <category term="plus one" scheme="http://adora-xu.com/tags/plus-one/"/>
    
  </entry>
  
  <entry>
    <title>LeetcodeæŒ‘æˆ°: Day11 single number</title>
    <link href="http://adora-xu.com/2024/02/09/leetcode-single-number/"/>
    <id>http://adora-xu.com/2024/02/09/leetcode-single-number/</id>
    <published>2024-02-09T02:50:44.000Z</published>
    <updated>2024-09-20T07:07:57.159Z</updated>
    
    <content type="html"><![CDATA[<p>ç‚ºäº†åŠ å¼·è‡ªå·±çš„ç¨‹å¼èƒ½åŠ›ï¼Œå› æ­¤é–‹å§‹è¨˜éŒ„æ¯å¤©åˆ·leetcodeçš„è§£æ³•+èªªæ˜ï¼Œæœƒç”¨<code>Ruby</code>ã€<code>python</code>å’Œ<code>JavaScript</code>ä¸‰å€‹èªè¨€ä¾†è§£é¡Œï¼Œä»Šå¤©æ˜¯ç¬¬åä¸€å¤©ï¼Œè®“æˆ‘å€‘é–‹å§‹å§ï¼</p><img src="/images/leetcode-single-number/1.png"><p>é¡Œç›®ä¾†æºï¼š<a href="https://leetcode.com/problems/single-number">leetcode</a></p><h2 id="Ruby"><a href="#Ruby" class="headerlink" title="Ruby"></a>Ruby</h2><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">single_number</span>(<span class="hljs-params">nums</span>)<br>  nums.reduce(<span class="hljs-symbol">:^</span>)<br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><p>é€™æ¬¡ç”¨åˆ°<code>XOR</code>ç¬¦è™Ÿ<code>^</code>ï¼Œé€™æ˜¯ç¨®é‹ç®—é‚è¼¯ï¼Œç”¨æ–¼å°å…©å€‹äºŒé€²åˆ¶æ•¸çš„å°æ‡‰ä½é€²è¡Œæ¯”è¼ƒï¼Œè¦å‰‡å¦‚ä¸‹ï¼šå…©å€‹å°æ‡‰ä½æ•¸å­—ä¸åŒï¼Œæœƒå›å‚³<code>1</code>ï¼Œå…©å€‹å°æ‡‰ä½ä¸åŒå‰‡æœƒå›å‚³<code>0</code>ï¼Œç”¨æ­¤ä¾†æ‰¾å‡ºåªå‡ºç¾ä¸€æ¬¡çš„æ•¸å­—ã€‚</p><p>ç¯„ä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-number">0</span> xor <span class="hljs-number">0</span> = <span class="hljs-number">0</span><br><span class="hljs-number">0</span> xor <span class="hljs-number">1</span> = <span class="hljs-number">1</span><br><span class="hljs-number">1</span> xor <span class="hljs-number">0</span> = <span class="hljs-number">1</span><br><span class="hljs-number">1</span> xor <span class="hljs-number">1</span> = <span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><p>å¦‚æœæˆ‘å€‘å‚³å…¥<code>[4, 1, 2, 1, 2]</code>å‘¢ï¼Ÿæ ¹æ“š<code>reduce(:^)</code>æœƒé€™æ¨£é‹ç®—<code>4 ^ 1 ^ 2 ^ 1 ^ 2</code>ï¼š</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs ruby">  <span class="hljs-number">4</span>:  <span class="hljs-number">100</span><br>  <span class="hljs-number">1</span>:  <span class="hljs-number">001</span><br><span class="hljs-variable constant_">XOR</span>:  <span class="hljs-number">101</span>  <br><br>  <span class="hljs-number">5</span>:  <span class="hljs-number">101</span><br>  <span class="hljs-number">2</span>:  <span class="hljs-number">010</span><br><span class="hljs-variable constant_">XOR</span>:  <span class="hljs-number">111</span> <br><br>  <span class="hljs-number">7</span>:  <span class="hljs-number">111</span><br>  <span class="hljs-number">1</span>:  <span class="hljs-number">001</span><br><span class="hljs-variable constant_">XOR</span>:  <span class="hljs-number">110</span> <br><br>  <span class="hljs-number">6</span>:  <span class="hljs-number">110</span><br>  <span class="hljs-number">2</span>:  <span class="hljs-number">010</span><br><span class="hljs-variable constant_">XOR</span>:  <span class="hljs-number">100</span><br></code></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥ç”¨å¦å¤–ä¸€å€‹æ–¹æ³•ç†è§£ï¼Œ<code>1 ^ 1 = 0</code>, <code>2 ^ 2 = 0</code>, <code>0 ^ 4 = 4</code><br>åªè¦æœ‰ä¸åŒæ–¼å…¶ä»–çš„æ•¸ï¼Œå°±æœƒè¢«ç•™ä¸‹ä¾†ï¼Œé€™æ¨£ç­”æ¡ˆå°±å‡ºä¾†äº†ï¼</p><h2 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">singleNumber</span>(<span class="hljs-params">self, nums</span>):<br>        <span class="hljs-keyword">return</span> reduce(<span class="hljs-keyword">lambda</span> x, y: x ^ y, nums)<br></code></pre></td></tr></table></figure><p>Pythonä¹Ÿæ˜¯ä¸€æ¨£é‚è¼¯ï¼Œåªä¸é<code>reduce</code>å¯«æ³•ä¸åŒï¼Œå¯ä»¥åƒè€ƒï¼š<a href="https://docs.python.org/3.0/library/functools.html">reduce</a></p><h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> singleNumber = <span class="hljs-keyword">function</span>(<span class="hljs-params">nums</span>) &#123;<br>    <span class="hljs-keyword">return</span> nums.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, num</span>) =&gt;</span> acc ^ num, <span class="hljs-number">0</span>);<br>  &#125;;<br></code></pre></td></tr></table></figure><p>JSä¹Ÿæ˜¯ä¸€æ¨£é‚è¼¯ï¼Œåªä¸é<code>reduce</code>å¯«æ³•ä¸åŒï¼Œå¯ä»¥åƒè€ƒï¼š<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce">reduce</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ç‚ºäº†åŠ å¼·è‡ªå·±çš„ç¨‹å¼èƒ½åŠ›ï¼Œå› æ­¤é–‹å§‹è¨˜éŒ„æ¯å¤©åˆ·leetcodeçš„è§£æ³•+èªªæ˜ï¼Œæœƒç”¨&lt;code&gt;Ruby&lt;/code&gt;ã€&lt;code&gt;python&lt;/code&gt;å’Œ&lt;code&gt;JavaScript&lt;/code&gt;ä¸‰å€‹èªè¨€ä¾†è§£é¡Œï¼Œä»Šå¤©æ˜¯ç¬¬åä¸€å¤©ï¼Œè®“æˆ‘å€‘é–‹å§‹å§ï¼&lt;/p&gt;
&lt;img src=&quot;</summary>
      
    
    
    
    <category term="leetcode" scheme="http://adora-xu.com/categories/leetcode/"/>
    
    
    <category term="Ruby" scheme="http://adora-xu.com/tags/Ruby/"/>
    
    <category term="Python" scheme="http://adora-xu.com/tags/Python/"/>
    
    <category term="JavaScript" scheme="http://adora-xu.com/tags/JavaScript/"/>
    
    <category term="leetcode" scheme="http://adora-xu.com/tags/leetcode/"/>
    
    <category term="single number" scheme="http://adora-xu.com/tags/single-number/"/>
    
  </entry>
  
</feed>
