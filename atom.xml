<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Adora&#39;s Blog</title>
  
  
  <link href="http://adora-xu.com/atom.xml" rel="self"/>
  
  <link href="http://adora-xu.com/"/>
  <updated>2023-12-24T04:20:39.687Z</updated>
  <id>http://adora-xu.com/</id>
  
  <author>
    <name>Adora Xu</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Ruby on Rails: ç”¨Devise10åˆ†é˜è£½ä½œç®¡ç†è€…å¾Œå°ç‰ˆé¢</title>
    <link href="http://adora-xu.com/2023/12/24/rails-admin-layout-devise/"/>
    <id>http://adora-xu.com/2023/12/24/rails-admin-layout-devise/</id>
    <published>2023-12-24T04:03:04.000Z</published>
    <updated>2023-12-24T04:20:39.687Z</updated>
    
    <content type="html"><![CDATA[<style>.em-div{background-color: #d4a373;color: white;padding: 10px;margin: 10px;border-radius: 5px;}.em-div2{border:2px #d4a373 solid;margin:5px;padding:10px 2px 2px 2px;border-style:dashed;}.image-container {  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* é™°å½±æ•ˆæœ */  border-radius: 10px; /* åœ“è§’æ•ˆæœ */  overflow: hidden; /* è¶…å‡ºéƒ¨åˆ†éš±è— */  margin: 5px; /* ç•™ç™½æ•ˆæœ */}</style><h3 id=""><a href="#" class="headerlink" title=""></a></h3><div class="image-container"><img src="/images/rails_admin_layout_devise/banner.png"></div><p>é€™ç¯‡æ˜¯å€‹å¯¦ä½œç¯„ä¾‹ Ù©(â—Ë™â–¿Ë™â—)Û¶â€¦â‹†à¸º</p><p>ä¸»è¦å…§å®¹éƒ½æ˜¯åƒè€ƒä»¥ä¸‹å½±ç‰‡è€Œæˆï¼Œå¦‚æœè¦äº†è§£æ›´å¤šå¯ä»¥çœ‹ï¼š</p><blockquote><p><a href="https://www.youtube.com/watch?v=SxwFyK9OtfY">Layouts For Admin Users with Devise in Ruby on Rails 7</a></p></blockquote><p>ä»Šå¤©ä½¿ç”¨Railsä¾†çš„<a href="https://rubygems.org/gems/devise/versions/4.2.0?locale=zh-TW">Devise</a>å¥—ä»¶ä¾†è£½ä½œç®¡ç†è€…å¾Œå°ç‰ˆé¢</p><p>ä»¥ä¸‹ç‚ºå¯¦ä½œæ­¥é©Ÿï¼š</p><ul><li>newä¸€å€‹æ–°å°ˆæ¡ˆï¼Œæˆ‘åç¨±è¨­ç‚ºblogï¼Œä¹Ÿå¯ä»¥è¨­å®šåˆ¥çš„</li></ul><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-variable">$ </span>rails new blog<br></code></pre></td></tr></table></figure><ul><li>åœ¨Gemfileè³‡æ–™å¤¾å®‰è£deviseï¼Œä¸¦åŸ·è¡Œ<code>bundle install</code></li></ul><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-comment">#Gemfile</span><br>gem <span class="hljs-string">&#x27;devise&#x27;</span>, <span class="hljs-string">&#x27;~&gt; 4.2&#x27;</span><br></code></pre></td></tr></table></figure><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-variable">$ </span>bundle install<br></code></pre></td></tr></table></figure><ul><li>æ–°å¢pages_controllerï¼†home.html.erb</li></ul><p>é€™è£¡ä¹Ÿå¯ä»¥è¨­å®šåˆ¥çš„ä¸»é¡Œï¼Œåªä¸éç‚ºäº†ç¤ºç¯„æ‰€ä»¥é¸æ“‡é€™å€‹ï¼Œ</p><p>é€™å€‹æŒ‡ä»¤æœƒç”Ÿå‡ºPagesçš„controllerï¼Œè£¡é¢æœ‰homeæ–¹æ³•ï¼Œviewæœ‰home.html.erbé é¢ï¼Œroutesä¹Ÿæœƒå¹«å¿™é•·å¥½pages&#x2F;homeï¼Œè »æ–¹ä¾¿çš„Ù©(à¹‘â›á´—â›à¹‘)Û¶</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-variable">$ </span>rails g controller pages home<br></code></pre></td></tr></table></figure><ul><li>åˆ©ç”¨scaffoldåšCRUDçš„æµç¨‹</li></ul><p>ç”¨scaffoldå¯ä»¥çœæ‰å¥½å¤šæ­¥é©Ÿ(Â´âˆ€&#96;)æ‡¶äººæ•‘æ˜Ÿ</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-variable">$ </span>rails g scaffold post title <span class="hljs-symbol">body:</span>text<br></code></pre></td></tr></table></figure><div class="image-container"><img src="/images/rails_admin_layout_devise/01.png"></div><ul><li>è¨­å®šroutes</li></ul><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-comment">#routes.rb</span><br>root <span class="hljs-string">&#x27;pages#home&#x27;</span><br></code></pre></td></tr></table></figure><ul><li>å®‰è£Devise &amp; ç”Ÿæˆä½¿ç”¨è€…</li></ul><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-variable">$ </span>rails g <span class="hljs-symbol">devise:</span>install<br></code></pre></td></tr></table></figure><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-variable">$ </span>rails g devise user<br></code></pre></td></tr></table></figure><p>deviseæœƒè‡ªå‹•å¹«ä½ å¢åŠ æª”æ¡ˆï¼ŒçœŸçš„å¾ˆæ–¹ä¾¿</p><div class="image-container"><img src="/images/rails_admin_layout_devise/02.png"></div><ul><li>ç”Ÿä¸€å€‹migrationï¼Œå¢åŠ roleæ¬„ä½åˆ°Userè³‡æ–™è¡¨</li></ul><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-variable">$ </span>rails g migration <span class="hljs-title class_">AddRoleToUsers</span> <span class="hljs-symbol">role:</span>integer<br></code></pre></td></tr></table></figure><ul><li>åˆ°User modelå¢åŠ è§’è‰²ï¼Œå…¶ä¸­è§’è‰²çš„åç¨±éƒ½å¯ä»¥è‡ªå·±å®šç¾©ï¼Œæˆ‘ä½¿ç”¨admin</li></ul><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-comment">#user.rb</span><br>enum <span class="hljs-symbol">role:</span>[<span class="hljs-symbol">:general</span>, <span class="hljs-symbol">:admin</span>]<br></code></pre></td></tr></table></figure><ul><li>æ¥è‘—å°±å¯ä»¥åˆ°application_controller.rbï¼Œè¨­ç½®åˆ¤æ–·ä½¿ç”¨è€…ç™»å…¥çš„layouté é¢çš„<code>set_layout</code>æ–¹æ³•</li></ul><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-comment">#controller&gt;application_controller</span><br>layout <span class="hljs-symbol">:set_layout</span> <span class="hljs-comment"># è¨­ç½®åˆ¤æ–·ç™»å…¥çš„ä½¿ç”¨è€…layouté é¢</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">set_layout</span><br>    <span class="hljs-keyword">if</span> current_user&amp;.admin?<br>      <span class="hljs-string">&#x27;admin&#x27;</span><br>    <span class="hljs-keyword">else</span><br>      <span class="hljs-string">&#x27;application&#x27;</span><br>    <span class="hljs-keyword">end</span><br>  <span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><p><code>current_user&amp;.admin?</code></p><p>é€™è¡ŒåŸæœ¬æ˜¯é€™æ¨£å¯«ï¼š<code>if current_user &amp;&amp; current_user.admin == true</code></p><p>å¯ä»¥ç”¨ &amp;. ç°¡åŒ–</p><p>å¦‚æœcurrent_userå­˜åœ¨ï¼ˆä¹Ÿå°±æ˜¯æœ‰ç™»å…¥ï¼‰ä»¥åŠ ç™»å…¥çš„è§’è‰²æ˜¯adminçš„è©±ï¼Œlayoutå°±ä½¿ç”¨admin</p><p>å¦‚æœä¸æ˜¯çš„è©±ï¼Œ layoutå°±ä½¿ç”¨é è¨­å°å…¥application</p><ul><li>æ¥è‘—åˆ°layoutè³‡æ–™å¤¾ä¸‹ï¼Œæ‰‹å‹•æ–°å¢ä¸€å€‹admin.html.erbï¼Œå…§å®¹å¯ä»¥éš¨è‡ªå·±å–œå¥½èª¿æ•´</li></ul><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-comment">#views&gt;layout</span><br>æ–°å¢ <span class="hljs-comment">#admin.html.erb</span><br>&lt;!<span class="hljs-variable constant_">DOCTYPE</span> html&gt;<br>&lt;html&gt;<br>  &lt;head&gt;<br>    &lt;title&gt;<span class="hljs-title class_">Blog</span>&lt;<span class="hljs-regexp">/title&gt;</span><br><span class="hljs-regexp">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1&quot;&gt;</span><br><span class="hljs-regexp">    &lt;%= csrf_meta_tags %&gt;</span><br><span class="hljs-regexp">    &lt;%= csp_meta_tag %&gt;</span><br><span class="hljs-regexp"></span><br><span class="hljs-regexp">    &lt;%= stylesheet_link_tag &quot;application&quot;, &quot;data-turbo-track&quot;: &quot;reload&quot; %&gt;</span><br><span class="hljs-regexp">    &lt;%= javascript_importmap_tags %&gt;</span><br><span class="hljs-regexp">  &lt;/head</span>&gt;<br><br>  &lt;body&gt;<br>    &lt;h2&gt;æ­¤ç‚ºç®¡ç†è€…ä»‹é¢&lt;<span class="hljs-regexp">/h2&gt;</span><br><span class="hljs-regexp">    &lt;%= yield %&gt;</span><br><span class="hljs-regexp">  &lt;/body</span>&gt;<br>&lt;<span class="hljs-regexp">/html&gt;</span><br></code></pre></td></tr></table></figure><p>æ¥è‘—å¯ä»¥åˆ°home.html.erbé é¢ï¼Œå¯«è·³è½‰çš„åˆ¤æ–·</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-comment">#home.html.erb</span><br>      &lt;%<span class="hljs-comment">#æ˜¯å¦è½‰ç‚ºåº—å®¶å¾Œå°åˆ¤æ–·%&gt;</span><br>      &lt;% <span class="hljs-keyword">if</span> current_user %&gt;<br>        &lt;%= current_user.role %&gt;<br>          &lt;%= link_to <span class="hljs-string">&quot;logout&quot;</span>, destroy_user_session_path, <span class="hljs-symbol">method:</span> <span class="hljs-symbol">:delete</span>, <span class="hljs-symbol">data:</span> &#123; <span class="hljs-symbol">turbo_method:</span> <span class="hljs-symbol">:delete</span>&#125; %&gt;<br>      &lt;% <span class="hljs-keyword">else</span> %&gt;<br>          &lt;%= link_to <span class="hljs-string">&quot;log_in&quot;</span>, new_user_session_path %&gt;<br>      &lt;% <span class="hljs-keyword">end</span> %&gt;<br></code></pre></td></tr></table></figure><p>é€™å€‹å¯«çš„åœ°æ–¹å¯ä»¥è‡ªç”±é¸æ“‡ï¼Œå¦‚æœè¦åšå€‹ç¶²ç«™æœ‰å¾ˆå¤šé é¢çš„è©±ï¼Œ</p><p>æˆ‘ä¹Ÿæœ‰å˜—è©¦æ”¾åœ¨_navbar.html.barï¼Œè®“æ•´å€‹ç¶²é éƒ½å¯ä»¥å¥—ç”¨æ­¤è¨­å®š</p><p>æ¥è‘—å°±å¤§åŠŸå‘Šæˆäº†ï¼ï¼</p><p>é€™æ˜¯å‰›å‰›æ­¥é©Ÿåšå‡ºçš„é¦–é </p><div class="image-container"><img src="/images/rails_admin_layout_devise/03.png"></div><p>ç™»å…¥é é¢</p><div class="image-container"><img src="/images/rails_admin_layout_devise/04.png"></div><p>å› ç‚ºé‚„æ²’è¨­å®šcurrent_user.roleæ‰€ä»¥åœ¨html.erbé é¢æ”¾<code>&lt;% console %&gt;</code>ç¨‹å¼ç¢¼ï¼Œ</p><p>æ­é…æŒ‡ä»¤ï¼Œä¾†å¿«é€ŸæŒ‡å®šæŸä½¿ç”¨è€…çš„role</p><div class="image-container"><img src="/images/rails_admin_layout_devise/05.png"></div><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs ruby">current_user<br><br>current_user.role = <span class="hljs-title class_">User</span>.roles[<span class="hljs-symbol">:admin</span>]<br><br>current_user.save<br><br>current_user.admin?<br></code></pre></td></tr></table></figure><p>ç™»å…¥æˆåŠŸå¾Œï¼Œå°±æœ‰ç®¡ç†è€…çš„ä»‹é¢äº†ï¼ï¼</p><div class="image-container"><img src="/images/rails_admin_layout_devise/06.png"></div><p>å¯¦éš›æ‡‰ç”¨çš„æ™‚å€™ï¼Œå¯ä»¥æŠŠåªæœ‰ç®¡ç†è€…çŸ¥é“çš„é€£çµ&amp;è³‡è¨Šæ”¾åœ¨é€™ï¼Œ</p><p>è®“ä»–çš„ä»‹é¢çœ‹èµ·ä¾†å’Œä¸€ç­ä½¿ç”¨è€…æœ‰å€éš”</p><p>ä½¿ç”¨Deviseå¥—ä»¶çœŸçš„å¥½æ–¹ä¾¿Ù©(â—Ë™â–¿Ë™â—)Û¶â€¦â‹†à¸º æˆ‘åŸæœ¬æƒ³èªªè‡ªå·±åˆ»å¥½éº»ç…©ï¼Œ</p><p>é€™æ•´å€‹æ­¥é©Ÿå¤§ç´„10åˆ†é˜å°±å¯ä»¥å®Œæˆäº†ï¼ï¼</p><p>æœ‰èˆˆè¶£ä¹Ÿå¯ä»¥è©¦çœ‹çœ‹ï½ï½</p><hr><p>æœ¬ç¯‡æ–‡ç« æ˜¯æˆ‘ç”±ä»¥ä¸‹åƒè€ƒè³‡æ–™æ•´ç†+è‡ªå·±ç¹ªåœ–è€Œæˆï¼Œå¦‚æœæ‚¨æœ‰èˆˆè¶£äº†è§£æ›´å¤šï¼Œè«‹åƒè€ƒï¼š</p><h3 id="åƒè€ƒè³‡æ–™ï¼š"><a href="#åƒè€ƒè³‡æ–™ï¼š" class="headerlink" title="åƒè€ƒè³‡æ–™ï¼š"></a>åƒè€ƒè³‡æ–™ï¼š</h3><blockquote><p><a href="https://www.youtube.com/watch?v=SxwFyK9OtfY">Layouts For Admin Users with Devise in Ruby on Rails 7</a></p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;style&gt;
.em-div{
background-color: #d4a373;
color: white;
padding: 10px;
margin: 10px;
border-radius: 5px;
}

.em-div2{
border:2px #d4a373 s</summary>
      
    
    
    
    <category term="Ruby on Rails" scheme="http://adora-xu.com/categories/Ruby-on-Rails/"/>
    
    
    <category term="devise" scheme="http://adora-xu.com/tags/devise/"/>
    
    <category term="rails7" scheme="http://adora-xu.com/tags/rails7/"/>
    
    <category term="rails" scheme="http://adora-xu.com/tags/rails/"/>
    
    <category term="layout" scheme="http://adora-xu.com/tags/layout/"/>
    
  </entry>
  
  <entry>
    <title>Advent of code 2023 â€”Day 01</title>
    <link href="http://adora-xu.com/2023/12/17/AOC-day01/"/>
    <id>http://adora-xu.com/2023/12/17/AOC-day01/</id>
    <published>2023-12-17T01:30:16.000Z</published>
    <updated>2023-12-17T01:45:17.181Z</updated>
    
    <content type="html"><![CDATA[<style>.em-div{background-color: #d4a373;color: white;padding: 10px;margin: 10px;border-radius: 5px;}.em-div2{border:2px #d4a373 solid;margin:5px;padding:10px 2px 2px 2px;border-style:dashed;}</style><h3 id="é—œæ–¼Advent-of-code"><a href="#é—œæ–¼Advent-of-code" class="headerlink" title="é—œæ–¼Advent of code"></a>é—œæ–¼Advent of code</h3><blockquote><p><a href="https://adventofcode.com/">â€œAdvent of codeâ€</a>æ˜¯ä¸€å¹´ä¸€åº¦çš„ä»¥è–èª•ç¯€ç‚ºä¸»é¡Œçš„è¨ˆç®—æ©Ÿç¨‹å¼æŒ‘æˆ°ã€‚è‡ª2015å¹´ä»¥ä¾†ä¸€ç›´åœ¨é‹è¡Œã€‚ç¨‹å¼é›£é¡Œæ¶µè“‹å„ç¨®æŠ€èƒ½é›†å’ŒæŠ€èƒ½ç´šåˆ¥ï¼Œå¯ä»¥ä½¿ç”¨ä»»ä½•ç·¨ç¨‹èªè¨€ä¾†è§£æ±ºã€‚åƒèˆ‡è€…é‚„å¯ä»¥åœ¨å…¨çƒå’Œç§äººæ’è¡Œæ¦œä¸Šæ ¹æ“šé€Ÿåº¦é€²è¡Œç«¶çˆ­ã€‚è©²æ´»å‹•ç”±è»Ÿä»¶å·¥ç¨‹å¸«Eric Wastlå‰µç«‹ä¸¦ç¶­è­·ã€‚</p></blockquote><p>ä¾†æºï¼š<a href="https://en.wikipedia.org/wiki/Advent_of_Code">ç¶­åŸºç™¾ç§‘</a></p><h3 id="Day-1-part-1"><a href="#Day-1-part-1" class="headerlink" title="Day 1 - part.1"></a>Day 1 - part.1</h3><p>ä»Šå¹´ç¬¬ä¸€æ¬¡ä¾†åƒèˆ‡Advent of codeï¼Œé †ä¾¿æŠŠæˆ‘çš„è§£é¡Œéç¨‹ä¹Ÿè¨˜éŒ„ä¸‹ä¾†Ù©(^á´—^)Û¶</p><p>é€™æ˜¯ç¬¬ä¸€å¤© Part 1çš„é¡Œç›®ï¼š</p><img src="/images/AOC/01.png"><p>ç¬¬ä¸€éƒ¨åˆ†æ¯”è¼ƒç°¡å–®ï¼Œåªè¦é€égsubå°±å¯ä»¥è§£æ±ºï¼</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs ruby"><span class="hljs-keyword">def</span> <span class="hljs-title function_">process_input</span>(<span class="hljs-params">input_array</span>)<br>  results = []<br><span class="hljs-comment">#è¨­å®šä¸€å€‹ç©ºé™£åˆ—</span><br><br><span class="hljs-comment"># ä½¿ç”¨each doå°‡é™£åˆ—è£¡çš„æ•¸ä¸Ÿå‡ºè™•ç†ä¸¦æ›¿æ›</span><br>  input_array.each <span class="hljs-keyword">do</span> |<span class="hljs-params">input_string</span>|<br>    digits = input_string.gsub(<span class="hljs-regexp">/\D/</span>, <span class="hljs-string">&#x27;&#x27;</span>)<br>    result = <span class="hljs-string">&quot;<span class="hljs-subst">#&#123;digits[<span class="hljs-number">0</span>]&#125;</span><span class="hljs-subst">#&#123;digits[-<span class="hljs-number">1</span>]&#125;</span>&quot;</span><br><span class="hljs-comment">#åˆ©ç”¨å­—ä¸²å°‡é¦–ä½æ•¸+å°¾æ•¸ä¸²èµ·ä¾†ï¼Œå¦‚æœåªæœ‰ä¸€å€‹æ•¸å­—å‰‡é‡è¤‡</span><br>    results.push(result)<br><span class="hljs-comment">#å°‡çµæœæ¨é€²resultè£¡</span><br>  <span class="hljs-keyword">end</span><br><br>  <span class="hljs-comment"># è¨ˆç®—çµæœé™£åˆ—ä¸­æ•¸å­—çš„ç¸½å’Œ #åˆ©ç”¨.map(&amp;:to_i)å°‡é™£åˆ—è£¡çš„å­—ä¸²è½‰ç‚ºæ•¸å­—æ‰å¯ä»¥ç›¸åŠ </span><br>  sum_result = results.map(&amp;<span class="hljs-symbol">:to_i</span>).sum<br><br>  <span class="hljs-comment"># è¼¸å‡ºçµæœ</span><br>  puts sum_result<br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><h3 id="Day1-Part-2"><a href="#Day1-Part-2" class="headerlink" title="Day1 Part.2"></a>Day1 Part.2</h3><p>ç¬¬äºŒéƒ¨åˆ†æˆ‘æ•´å€‹å¤§å¡é—œ(á—’á—£á—•)Õ</p><img src="/images/AOC/02.png"><p>æœ‰æƒ³å‡ºèªªåšå‡ºä¸€å€‹hashï¼Œå°‡â€oneâ€ &#x3D;&gt; â€œ1â€ä¾åºè¼¸å…¥é€²å»ï¼Œ<br>æ¥è‘—ä½¿ç”¨each+gsubå°‡å°‡è£¡é¢çš„æ•¸å­—æ›¿æ›æ‰ï¼Œ<br>ä½†é‡åˆ°eightwothreeï¼Œè¼¸å‡ºçš„çµæœå»æ˜¯eigh23â€¦.</p><p>æœ€å¾Œä¸Šç¶²æ‰¾äº†<a href="https://www.youtube.com/@cjav_dev">CJ Avilla</a>åˆ†äº«çš„è§£æ³•ï¼Œ<br>ä¾†æºï¼š <a href="https://www.youtube.com/watch?v=lrJfC2dF84k&list=PLS6F722u-R6KYlGyUv65EFpGKl2Esmurr&index=15">Match and Scan - Day 01 - Advent of Code 2023</a></p><p>åŸä¾†ä½¿ç”¨matchæ–¹æ³•å°±å¯ä»¥äº†Ê• â€¢Ì€ o â€¢Ì Ê”</p><p>é—œæ–¼matchï¼Œ<a href="https://rubyapi.org/3.2/o/s?q=match">Ruby API</a>æ˜¯é€™æ¨£è§£é‡‹ï¼š<br><strong><strong><a href="https://rubyapi.org/3.2/o/string#method-i-match">String#match</a></strong></strong></p><div class="em-div2">Returns a MatchData object (orÂ `nil`) based onÂ `self`Â and the givenÂ `pattern`.Note: also updatesÂ [Special global variables atÂ `Regexp`](https://rubyapi.org/3.2/o/regexp#class-Regexp-label-Special+global+variables). ComputesÂ `regexp`Â by convertingÂ `pattern`Â (if not already a Regexp).</div>matchæœƒå›å‚³ç¬¦åˆå…§å®¹çš„ç‰©ä»¶ï¼Œçœ‹èµ·ä¾†åƒé€™å€‹æ¨£å­```'foo'.match('f') # => #<MatchData "f">```<p>å¦å¤–å¯ä»¥ä½¿ç”¨å¸¸è¦è¡¨é”æ³•è½‰æ›ï¼Œæ‰€ä»¥è§£æ³•å¯ä»¥é€™æ¨£å¯«ï¼š</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs ruby">input = <span class="hljs-string">&lt;&lt;~INPUT</span><br><span class="hljs-string">two1nine</span><br><span class="hljs-string">eightwothree</span><br><span class="hljs-string">abcone2threexyz</span><br><span class="hljs-string">xtwone3four</span><br><span class="hljs-string">4nineeightseven2</span><br><span class="hljs-string">zoneight234</span><br><span class="hljs-string">7pqrstsixteen</span><br><span class="hljs-string">INPUT</span><br><br>replacement = &#123;<br>  <span class="hljs-string">&quot;one&quot;</span> =&gt; <span class="hljs-string">&quot;1&quot;</span>,<br>  <span class="hljs-string">&quot;two&quot;</span> =&gt; <span class="hljs-string">&quot;2&quot;</span>,<br>  <span class="hljs-string">&quot;three&quot;</span> =&gt; <span class="hljs-string">&quot;3&quot;</span>,<br>  <span class="hljs-string">&quot;four&quot;</span> =&gt; <span class="hljs-string">&quot;4&quot;</span>,<br>  <span class="hljs-string">&quot;five&quot;</span> =&gt; <span class="hljs-string">&quot;5&quot;</span>,<br>  <span class="hljs-string">&quot;six&quot;</span> =&gt; <span class="hljs-string">&quot;6&quot;</span>,<br>  <span class="hljs-string">&quot;seven&quot;</span> =&gt; <span class="hljs-string">&quot;7&quot;</span>,<br>  <span class="hljs-string">&quot;eight&quot;</span> =&gt; <span class="hljs-string">&quot;8&quot;</span>,<br>  <span class="hljs-string">&quot;nine&quot;</span> =&gt; <span class="hljs-string">&quot;9&quot;</span>,<br>  <span class="hljs-string">&quot;1&quot;</span> =&gt; <span class="hljs-string">&quot;1&quot;</span>,<br>  <span class="hljs-string">&quot;2&quot;</span> =&gt; <span class="hljs-string">&quot;2&quot;</span>,<br>  <span class="hljs-string">&quot;3&quot;</span> =&gt; <span class="hljs-string">&quot;3&quot;</span>,<br>  <span class="hljs-string">&quot;4&quot;</span> =&gt; <span class="hljs-string">&quot;4&quot;</span>,<br>  <span class="hljs-string">&quot;5&quot;</span> =&gt; <span class="hljs-string">&quot;5&quot;</span>,<br>  <span class="hljs-string">&quot;6&quot;</span> =&gt; <span class="hljs-string">&quot;6&quot;</span>,<br>  <span class="hljs-string">&quot;7&quot;</span> =&gt; <span class="hljs-string">&quot;7&quot;</span>,<br>  <span class="hljs-string">&quot;8&quot;</span> =&gt; <span class="hljs-string">&quot;8&quot;</span>,<br>  <span class="hljs-string">&quot;9&quot;</span> =&gt; <span class="hljs-string">&quot;9&quot;</span>,<br>  <span class="hljs-string">&quot;0&quot;</span> =&gt; <span class="hljs-string">&quot;0&quot;</span><br>&#125;<br>result = input.each_line.map <span class="hljs-keyword">do</span> |<span class="hljs-params">line</span>|<br>  digits = line.match(<span class="hljs-regexp">/(<span class="hljs-subst">#&#123;replacement.keys.join(<span class="hljs-string">&#x27;|&#x27;</span>)&#125;</span>)/</span>, <span class="hljs-number">0</span>)<br><span class="hljs-comment">#åŒ¹é…hashçš„keyï¼Œä¸¦å°‡æ‰€æœ‰keysç”¨|(or)éš”é–‹ï¼Œä¸€å€‹ç¬¦åˆå³å¯ï¼Œå¾Œé¢çš„0ç‚ºå¾æœ€å·¦é‚Šæœ€ä¸€é–‹å§‹åŒ¹é…</span><br>  first = replacement[digits[<span class="hljs-number">0</span>]]<br><br>  digits = line.reverse.match(<span class="hljs-regexp">/(<span class="hljs-subst">#&#123;replacement.keys.map(&amp;<span class="hljs-symbol">:reverse</span>).join(<span class="hljs-string">&#x27;|&#x27;</span>)&#125;</span>)/</span>, <span class="hljs-number">0</span>)<br>  last = replacement[digits[<span class="hljs-number">0</span>].reverse]<br><span class="hljs-comment">#ä½¿ç”¨åè½‰æœç´¢æœ€å¾Œä¸€å€‹æ•¸</span><br><br>  (first+last).to_i<br><span class="hljs-keyword">end</span>.sum<br><br>p result<br></code></pre></td></tr></table></figure><p>è¼¸å…¥çµæœæœ€å¾Œæ‹¿åˆ°æ˜Ÿæ˜Ÿäº†(Â´âˆ€&#96;)ï¼ˆæœ‰é»å¿ƒè™›ï¼‰</p><img src="/images/AOC/03.png"><p>ä¸éåœ¨æŒ‘æˆ°çš„éç¨‹ä¸­ï¼Œæ„Ÿè¦ºè‡ªå·±åˆé€²æ­¥äº†ä¸€äº›ãƒ¾(*Â´âˆ‡&#96;)ï¾‰</p><p>æœ€å¾ŒçœŸçš„å¾ˆæ„Ÿè¬<a href="https://www.youtube.com/@cjav_dev">CJ Avilla</a>å¤§ç¥èƒ½å¤ æä¾›è§£æ³•ï¼</p><p>å¦‚æœæ‚¨æœ‰èˆˆè¶£äº†è§£æ›´å¤šï¼Œè«‹åƒè€ƒï¼š</p><h3 id="åƒè€ƒè³‡æ–™ï¼š"><a href="#åƒè€ƒè³‡æ–™ï¼š" class="headerlink" title="åƒè€ƒè³‡æ–™ï¼š"></a>åƒè€ƒè³‡æ–™ï¼š</h3><blockquote><p><a href="https://www.youtube.com/watch?v=lrJfC2dF84k&list=PLS6F722u-R6KYlGyUv65EFpGKl2Esmurr&index=15">Match and Scan - Day 01 - Advent of Code 2023</a></p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;style&gt;
.em-div{
background-color: #d4a373;
color: white;
padding: 10px;
margin: 10px;
border-radius: 5px;
}

.em-div2{
border:2px #d4a373 s</summary>
      
    
    
    
    <category term="Ruby" scheme="http://adora-xu.com/categories/Ruby/"/>
    
    
    <category term="AOC" scheme="http://adora-xu.com/tags/AOC/"/>
    
    <category term="Advent of code" scheme="http://adora-xu.com/tags/Advent-of-code/"/>
    
    <category term="Ruby" scheme="http://adora-xu.com/tags/Ruby/"/>
    
  </entry>
  
  <entry>
    <title>Ruby on Rails: MVCæ˜¯ä»€éº¼?</title>
    <link href="http://adora-xu.com/2023/12/02/MVC/"/>
    <id>http://adora-xu.com/2023/12/02/MVC/</id>
    <published>2023-12-02T06:11:56.000Z</published>
    <updated>2023-12-02T17:05:25.031Z</updated>
    
    <content type="html"><![CDATA[<style>  .em-div{  background-color: #d4a373;  color: white;  padding: 10px;  margin: 10px;  border-radius: 5px;  }  .em-div2{    border:2px #d4a373 solid;    margin:5px;    padding:10px 2px 2px 2px;    border-style:dashed;  }</style><img src="/images/MVC/banner.png" alt=""><h3 id="MVC-å®šç¾©ï¼š"><a href="#MVC-å®šç¾©ï¼š" class="headerlink" title="MVC å®šç¾©ï¼š"></a>MVC å®šç¾©ï¼š</h3><p>ä¾æ“š<a href="https://zh.wikipedia.org/zh-tw/MVC">ç¶­åŸºç™¾ç§‘</a>çš„ä»‹ç´¹ï¼š</p><div class="em-div2">MVCæ¨¡å¼ï¼ˆModelâ€“viewâ€“controllerï¼‰æ˜¯è»Ÿé«”å·¥ç¨‹ä¸­çš„ä¸€ç¨®è»Ÿé«”æ¶æ§‹æ¨¡å¼ï¼ŒæŠŠè»Ÿé«”ç³»çµ±åˆ†ç‚ºä¸‰å€‹åŸºæœ¬éƒ¨åˆ†ï¼šæ¨¡å‹ï¼ˆModelï¼‰ã€è¦–åœ–ï¼ˆViewï¼‰å’Œæ§åˆ¶å™¨ï¼ˆControllerï¼‰ã€‚</div><p>MVC æ¨¡å¼æœ€æ—©ç”± Trygve Reenskaug åœ¨ 1978 å¹´æå‡ºï¼Œæ˜¯å…¨éŒ„å¸•ç¾…å¥§å¤šç ”ç©¶ä¸­å¿ƒï¼ˆXerox PARCï¼‰åœ¨ 20 ä¸–ç´€ 80 å¹´ä»£ç‚ºç¨‹å¼èªè¨€ Smalltalk ç™¼æ˜çš„ä¸€ç¨®è»Ÿé«”æ¶æ§‹ã€‚</p><p>æˆ‘å€‘ä»Šå¤©ä½¿ç”¨çš„ç¶²ç«™æ˜¯å¾ˆè¤‡é›œçš„æ‡‰ç”¨ç¨‹åº( Ë˜â€¢Ï‰â€¢Ë˜ )ï¼Œç‚ºäº†ç°¡åŒ–ç¨‹å¼ç¢¼ä¸¦ä½¿å…¶æ›´æ–¹ä¾¿ä½¿ç”¨ï¼Œè¨±å¤šå·¥ç¨‹å¸«é¸æ“‡ä½¿ç”¨<strong>MVC</strong>ä¾†ä½ˆå±€ä»–å€‘çš„å°ˆæ¡ˆã€‚</p><p>å°‡å¤§å‹æ‡‰ç”¨ç¨‹å¼åˆ†è§£ç‚ºè¼ƒå°çš„éƒ¨åˆ†ï¼Œå†å„è‡ªè² è²¬å°ˆé–€çš„äº‹ o(<em>^â–½^</em>)o</p><h2 id="MVC-å„è‡ªè² è²¬ä»€éº¼ï¼Ÿ"><a href="#MVC-å„è‡ªè² è²¬ä»€éº¼ï¼Ÿ" class="headerlink" title="MVC å„è‡ªè² è²¬ä»€éº¼ï¼Ÿ"></a>MVC å„è‡ªè² è²¬ä»€éº¼ï¼Ÿ</h2><p>ç†è§£å®Œ MVC çš„èƒŒæ™¯äº†ï¼Œæ¥ä¸‹ä¾†çœ‹çœ‹ï¼ŒMVC å„è‡ªè² è²¬ä»€éº¼å·¥ä½œå…§å®¹ï¼š</p><ul><li>æ¨¡å‹ï¼ˆModelï¼‰ - ç¨‹å¼è¨­è¨ˆå¸«ç·¨å¯«ç¨‹å¼æ‡‰æœ‰çš„åŠŸèƒ½ï¼ˆå¯¦ç¾æ¼”ç®—æ³•ç­‰ç­‰ï¼‰ã€è³‡æ–™åº«å°ˆå®¶é€²è¡Œè³‡æ–™ç®¡ç†å’Œè³‡æ–™åº«è¨­è¨ˆ(å¯ä»¥å¯¦ç¾å…·é«”çš„åŠŸèƒ½)ã€‚</li><li>è¦–åœ–ï¼ˆViewï¼‰ - ä»‹é¢è¨­è¨ˆäººå“¡é€²è¡Œåœ–å½¢ä»‹é¢è¨­è¨ˆã€‚</li><li>æ§åˆ¶å™¨ï¼ˆControllerï¼‰- è² è²¬è½‰ç™¼è«‹æ±‚ï¼Œå°è«‹æ±‚é€²è¡Œè™•ç†ã€‚</li></ul><p>åƒè€ƒè³‡æ–™ï¼š<a href="https://zh.wikipedia.org/zh-tw/MVC">ç¶­åŸºç™¾ç§‘ MVC</a></p><h2 id="MVC-ç•¶å‰è¶¨å‹¢"><a href="#MVC-ç•¶å‰è¶¨å‹¢" class="headerlink" title="MVC ç•¶å‰è¶¨å‹¢"></a>MVC ç•¶å‰è¶¨å‹¢</h2><p>MVC æ¶æ§‹å·²ç¶“è®Šå¾—å¦‚æ­¤æµè¡Œï¼Œä»¥è‡³æ–¼ç¾åœ¨å¤§å¤šæ•¸æµè¡Œçš„æ¡†æ¶éƒ½éµå¾ª MVC è¨­è¨ˆæ¨¡å¼ä¾†é–‹ç™¼æ‡‰ç”¨ç¨‹å¼ã€‚</p><p>ç›®å‰ MVC è¨­è¨ˆæ¨¡å¼çš„æµè¡Œæ¡†æ¶æœ‰ï¼š <img src="/images/MVC/mvcframwork2.png" alt=""></p><h2 id="Ruby-on-Rails-çš„-MVC-æ¶æ§‹"><a href="#Ruby-on-Rails-çš„-MVC-æ¶æ§‹" class="headerlink" title="Ruby on Rails çš„ MVC æ¶æ§‹"></a>Ruby on Rails çš„ MVC æ¶æ§‹</h2><p>çœ‹å®Œäº†ä»¥ä¸Šä¸‰é …è§£é‡‹ï¼Œæ‡‰è©²é‚„æ˜¯å¾ˆé›£æ˜ç™½åˆ°åº• MVC çš„å¯¦éš›æ‡‰ç”¨ï¼Œä»¥ä¸‹å°‡ç”¨ Ruby on Rails è£¡çš„ï¼­é‹ä½œæµç¨‹ï¼Œæ­é…åœ–ç‰‡ä¾†è¬›è§£ d(&#96;ï½¥âˆ€ï½¥)b</p><p>å¯ä»¥é€éä»¥ä¸‹åœ–ç‰‡ä¾†ç†è§£ï¼š <img src="/images/MVC/01.png" alt=""></p><h3 id="1-Routes"><a href="#1-Routes" class="headerlink" title="1. Routes"></a>1. Routes</h3> <!-- <img src="/images/MVC/02.png" alt=""> --><p>ç•¶æœ‰ä½¿ç”¨è€…è¼¸å…¥ç¶²å€ï¼Œé€£åˆ°ç¶²ç«™çš„æ™‚å€™ï¼Œç¬¬ä¸€é—œæœƒé‡åˆ°çš„æ˜¯ routes Rails æœƒæ ¹æ“šä½¿ç”¨è€…è¼¸å…¥çš„ç¶²å€åŠåƒæ•¸ï¼Œå»å°‹æ‰¾ç›¸å°æ‡‰ Controller ä¸Šçš„ Actionã€‚</p><h3 id="2-Controller"><a href="#2-Controller" class="headerlink" title="2. Controller"></a>2. Controller</h3><!-- <img src="/images/MVC/03.png" alt=""> --><p>å¯ä»¥æƒ³åƒæˆæ§åˆ¶è™•ç†ä¸­å¿ƒ or æŒ‡æ®å®˜ï¼Œ Controller æœƒå’Œ model è¦è³‡æ–™ã€View è¦ç•«é¢ï¼Œæœ€å¾Œæä¾›çµ¦ routesï¼Œå†è®“ä½¿ç”¨è€…çœ‹åˆ°ç¶²é ç•«é¢ã€‚ Controller é€šå¸¸æœƒæœ‰ä¸€å€‹ä»¥ä¸Šçš„ Actionï¼Œé€™äº› Action å°±æ˜¯ Ruby è£¡çš„æ–¹æ³•ï¼ˆmethodï¼‰ã€‚</p><h3 id="3-Model"><a href="#3-Model" class="headerlink" title="3. Model"></a>3. Model</h3><!-- <img src="/images/MVC/04.png" alt=""> --><p>Model æœ¬èº«ä¸¦ä¸æ˜¯è³‡æ–™åº«ï¼Œä½ å¯ä»¥æŠŠå®ƒæƒ³åƒæˆç¿»è­¯å®˜ï¼Œå®ƒå¯ä»¥å¹«ä½ æŠŠä½ è·Ÿ Model èªªçš„ã€Œäººè©±ã€è½‰æˆè³‡æ–™åº«çœ‹å¾—æ‡‚çš„è³‡æ–™åº«æŸ¥è©¢èªè¨€ï¼ˆStructured Query Languageï¼Œç°¡ç¨± SQLï¼‰ï¼Œé€é SQLï¼ŒModel å¯ä»¥è·Ÿè³‡æ–™åº«å–å¾—ä½ æƒ³è¦çš„è³‡æ–™ã€‚</p><h3 id="4-View"><a href="#4-View" class="headerlink" title="4. View"></a>4. View</h3><!-- <img src="/images/MVC/05.png" alt=""> --><p>View ç‚ºä½¿ç”¨è€…æœ€å¾Œçœ‹åˆ°çš„ç•«é¢ï¼Œé›–ç„¶ Controller&#x2F;Action æ‹¿åˆ°è³‡æ–™äº†ï¼Œä½†ç›®å‰é€™åŒ…æ±è¥¿é‚„æ²’ç¾åŒ–ã€æ•´ç†éï¼Œé‚„ä¸é©åˆçµ¦ä½¿ç”¨è€…çœ‹ï¼Œæ‰€ä»¥ Controller&#x2F;Action é‚„éœ€è¦è·Ÿ View å€Ÿä¸€ä¸‹ç•«é¢ï¼Œè®“è³‡æ–™æ›´é©åˆä½¿ç”¨è€…é–±è®€ã€‚</p><p>é€šå¸¸ç•«é¢çš„å‘ˆç¾æœƒå¯«åœ¨é€™è£¡ï¼Œä½¿ç”¨çš„æ˜¯<code>.html.erb</code>æª”æ¡ˆã€‚</p><p>è©³ç´°å…§å®¹å¯ä»¥åƒè€ƒé¾å“¥çš„<a href="https://railsbook.tw/chapters/10-mvc#mvc-flow">ç‚ºä½ è‡ªå·±å­¸ Ruby on Rails</a></p><hr><p>æœ¬ç¯‡æ–‡ç« æ˜¯åƒè€ƒä»¥ä¸‹è³‡æ–™ï¼Œé€éè‡ªå·±ç¹ªåœ–+æ•´ç†è€Œæˆï¼Œå¦‚æœæœ‰ä»€éº¼å•é¡Œæ­¡è¿èˆ‡æˆ‘è¨è«–ï¼(<em>^â–½^</em>)</p><div class="em-div2">åƒè€ƒè³‡æ–™ï¼š<p><a href="https://railsbook.tw/chapters/10-mvc#mvc-flow">ç‚ºä½ è‡ªå·±å­¸ Ruby on Rails</a></p><p><a href="https://zh.wikipedia.org/zh-tw/MVC">ç¶­åŸºç™¾ç§‘ MVC</a></p><p><a href="https://www.interviewbit.com/blog/mvc-architecture/">MVC Architecture â€“ Detailed Explanation</a></p></div>]]></content>
    
    
      
      
    <summary type="html">&lt;style&gt;
  .em-div{
  background-color: #d4a373;
  color: white;
  padding: 10px;
  margin: 10px;
  border-radius: 5px;
  }

  .em-div2{
    </summary>
      
    
    
    
    <category term="Ruby on Rails" scheme="http://adora-xu.com/categories/Ruby-on-Rails/"/>
    
    
    <category term="Ruby" scheme="http://adora-xu.com/tags/Ruby/"/>
    
    <category term="Rails" scheme="http://adora-xu.com/tags/Rails/"/>
    
    <category term="MVC" scheme="http://adora-xu.com/tags/MVC/"/>
    
  </entry>
  
  <entry>
    <title>JavaScript: defer vs async</title>
    <link href="http://adora-xu.com/2023/11/18/async-vs-defer/"/>
    <id>http://adora-xu.com/2023/11/18/async-vs-defer/</id>
    <published>2023-11-18T14:00:00.000Z</published>
    <updated>2023-11-22T04:10:59.000Z</updated>
    
    <content type="html"><![CDATA[<style>  .em-div{  background-color: #d4a373;  color: white;  padding: 10px;  margin: 10px;  border-radius: 5px;  }</style><h3 id=""><a href="#" class="headerlink" title=""></a></h3><img src="/images/async_vs_defer/title.png"><p>åœ¨è£½ä½œç¶²é æ™‚ï¼Œé€šå¸¸æœƒç”¨ä¸‰å€‹æ–¹æ³•ä¾†å°‡ JavaScript è¼‰å…¥ç¶²é ï¼š</p><ol><li>å°‡<code>&lt;script&gt;</code>æ”¾åœ¨<code>&lt;/body&gt;</code>å‰ä¸€è¡Œ</li><li><code>async</code></li><li><code>defer</code></li></ol><p>é€™æ¨£ä½ çš„ç¶²é æ‰èƒ½å¤ é †åˆ©å‹•èµ·ä¾†ï¼Œç‚ºä»€éº¼è¦é€™æ¨£åšå‘¢ï¼Ÿç©¶ç«Ÿé€™ä¸‰ç¨®æ–¹æ³•æœ‰ä»€éº¼å·®åˆ¥å‘¢ï¼Ÿä»¥ä¸‹å°‡æœƒé€ä¸€èªªæ˜(ã†Ï‰ã†*)</p><p>è¦å…ˆç†è§£<code>async</code>,<code>defer</code>çš„å·®åˆ¥å‰ï¼Œè¦å…ˆäº†è§£ï¼Œç€è¦½å™¨æ˜¯æ€éº¼è½‰è­¯ç¶²é çš„ï¼Œé€™æ¨£èƒ½å¤ æ›´ç†è§£ JavaScript ä½¿ç”¨ä¸åŒæ–¹æ³•è¼‰å…¥çš„å·®åˆ¥</p><h2 id="ç€è¦½å™¨æ˜¯æ€éº¼ç¹ªè½‰è­¯é çš„å‘¢ï¼Ÿ"><a href="#ç€è¦½å™¨æ˜¯æ€éº¼ç¹ªè½‰è­¯é çš„å‘¢ï¼Ÿ" class="headerlink" title="ç€è¦½å™¨æ˜¯æ€éº¼ç¹ªè½‰è­¯é çš„å‘¢ï¼Ÿ"></a>ç€è¦½å™¨æ˜¯æ€éº¼ç¹ªè½‰è­¯é çš„å‘¢ï¼Ÿ</h2><img src="/images/async_vs_defer/1webdev.png"><blockquote><p>åœ–ç‰‡ä¾†æº<a href="https://web.dev/articles/critical-rendering-path/constructing-the-object-model?hl=zh-tw">web.dev</a></p></blockquote><h3 id="ç¶²é çš„è½‰è­¯æµç¨‹ï¼š"><a href="#ç¶²é çš„è½‰è­¯æµç¨‹ï¼š" class="headerlink" title="ç¶²é çš„è½‰è­¯æµç¨‹ï¼š"></a>ç¶²é çš„è½‰è­¯æµç¨‹ï¼š</h3><ul><li>Bytes â¡ï¸ Characters â¡ï¸ Tokens â¡ï¸ Nodes â¡ï¸ DOM</li></ul><h3 id="æµç¨‹è§£é‡‹ï¼š"><a href="#æµç¨‹è§£é‡‹ï¼š" class="headerlink" title="æµç¨‹è§£é‡‹ï¼š"></a>æµç¨‹è§£é‡‹ï¼š</h3><ol><li>å¾ä¼ºæœå™¨æ¥æ”¶åŸå§‹è³‡æ–™ä½å…ƒçµ„(raw bytes of data)ä¸¦å°‡å…¶è½‰æ›ç‚ºäººé¡çœ‹å¾—æ‡‚çš„å­—å…ƒ(Characters)ã€‚</li><li>è§£æå­—å…ƒä»¥æå– HTML çµæ§‹ï¼Œæ­¤æ­¥é©Ÿç¨±ç‚ºæ¨™è¨˜åŒ–ï¼ˆtokenizationï¼‰ï¼Œå®ƒæœƒç”¢ç”Ÿæ¨™è¨˜ï¼ˆtokensï¼‰ã€‚</li><li>å°‡æ¨™è¨˜ï¼ˆtokensï¼‰è½‰æ›ç‚ºç¯€é»ï¼ˆnodesï¼‰- å…·æœ‰å±¬æ€§çš„ä¸åŒç‰©ä»¶ã€‚</li><li>é€£çµç¯€é»ï¼ˆnodesï¼‰ä»¥å»ºç«‹è³‡æ–™çµæ§‹ï¼Œç¨±ç‚º <strong>DOM</strong>ï¼ˆæ–‡ä»¶ç‰©ä»¶æ¨¡å‹ï¼‰å’Œ CSSOMï¼ˆCSS ç‰©ä»¶æ¨¡å‹ï¼‰ã€‚</li></ol><p>ä»¥ä¸Šæµç¨‹ç¢ºä¿ HTML å’Œ CSS å¿«é€Ÿåœ°å‚³éåˆ°ç€è¦½å™¨(ã†Ï‰ã†*)</p><blockquote><p>è¦äº†è§£æ›´å¤šè«‹åƒè€ƒï¼š<a href="https://web.dev/articles/critical-rendering-path/constructing-the-object-model?hl=zh-tw">Web.dev å»ºæ§‹ç‰©ä»¶æ¨¡å‹</a></p></blockquote><p>é€™é‚Šå…ˆå¹«å¤§å®¶ç•«å€‹é‡é»ï¼Œã€Œ<strong>å»ºç«‹ DOM æ˜¯ç€è¦½å™¨è½‰è­¯ç¶²é çš„æœ€å¾Œä¸€æ­¥é©Ÿ</strong>ã€‚ã€è€Œã€Œ<strong>åœ¨ç€è¦½å™¨å¼•æ“å®Œæˆå»ºç½® DOM ä¹‹å‰ä½¿ç”¨è€…ä¸æœƒçœ‹åˆ°ç¶²ç«™</strong>ã€</p><h2 id="JavaScript-æ˜¯æ€éº¼è¢«å¼•å…¥åˆ°ç¶²é å‘¢ï¼Ÿ"><a href="#JavaScript-æ˜¯æ€éº¼è¢«å¼•å…¥åˆ°ç¶²é å‘¢ï¼Ÿ" class="headerlink" title="JavaScript æ˜¯æ€éº¼è¢«å¼•å…¥åˆ°ç¶²é å‘¢ï¼Ÿ"></a>JavaScript æ˜¯æ€éº¼è¢«å¼•å…¥åˆ°ç¶²é å‘¢ï¼Ÿ</h2><p>å¦‚æœä»»æ„æŠŠ<code>&lt;script&gt;</code>æ”¾åˆ° html æª”æ¡ˆå…§æœƒç™¼ç”Ÿä»€éº¼äº‹ï¼Ÿå¤§å®¶éƒ½çŸ¥é“ï¼Œç¶²é å¾ˆæœ‰å¯èƒ½æœƒå‡ºå•é¡Œ( Í¡Â° ÍœÊ– Í¡Â°)ï¼Œä¸éç©¶ç«Ÿæ˜¯ç‚ºä»€éº¼å‘¢ï¼Ÿ</p><p>åœ¨<strong>å»ºç«‹ DOM çµæ§‹çš„éç¨‹ä¸­</strong>ï¼Œç€è¦½å™¨å°‡ç™¼é€è«‹æ±‚ï¼Œä»¥ç²å–ç¶²ç«™é€£çµåˆ°çš„ä»»ä½•ç›¸é—œè³‡æºã€‚ï¼ˆåŒ…æ‹¬ JavaScript åœ¨å…§ï¼‰</p><p>ç‚ºäº†æ›´å¥½åœ°ç†è§£ï¼Œé€™è£¡æº–å‚™äº†ä¸€å€‹ç¯„ä¾‹ï¼Œå°‡<code>&lt;script&gt;</code>æ”¾åœ¨<code>&lt;head&gt;</code>å…§ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs css">&lt;!DOCTYPE <span class="hljs-selector-tag">html</span>&gt;<br>&lt;<span class="hljs-selector-tag">html</span> lang=&quot;en&quot;&gt;<br>&lt;head&gt;<br>    &lt;meta charset=&quot;UTF-<span class="hljs-number">8</span>&quot;&gt;<br>    &lt;meta name=&quot;viewport&quot; <span class="hljs-attribute">content</span>=&quot;<span class="hljs-attribute">width</span>=device-<span class="hljs-attribute">width</span>, initial-scale=<span class="hljs-number">1.0</span>&quot;&gt;<br>    &lt;title&gt;Document&lt;/title&gt;<br>    &lt;script <span class="hljs-attribute">src</span>=&quot;demo<span class="hljs-selector-class">.js</span>&quot;&gt;&lt;/script&gt;<br>&lt;/head&gt;<br>&lt;<span class="hljs-selector-tag">body</span>&gt;<br>    &lt;<span class="hljs-selector-tag">div</span> class=&quot;container&quot;&gt;ç¶²é å…§å®¹&lt;/<span class="hljs-selector-tag">div</span>&gt;<br>&lt;/<span class="hljs-selector-tag">body</span>&gt;<br>&lt;/<span class="hljs-selector-tag">html</span>&gt;<br></code></pre></td></tr></table></figure><p>é€™æ™‚å»ºæ§‹çš„æ™‚é–“åœ–å¦‚ä¸‹ï¼š <img src="/images/async_vs_defer/2rendering-time.png"></p><p>é€™æœƒé€ æˆä»€éº¼æ¨£çš„å•é¡Œï¼Ÿå› ç‚º DOM å°šæœªå»ºç½®å¥½ï¼Œæ‰€ä»¥ JavaScript æŠ“ä¸åˆ° DOMï¼Œé€²è€Œç„¡æ³•é€²è¡Œæ“ä½œã€‚ï¼ˆè¾›è‹¦å¯«çš„ JavaScript ç„¡æ³•ç™¼æ®ä½œç”¨ à®‡Ğ´à®‡ï¼‰</p><p>å»¶é² DOM å°±ç·’ç‹€æ…‹çš„ä¸åƒ…åƒ…æ˜¯ JavaScriptã€‚é‚„æœ‰ CSSã€åœ–åƒã€å½±ç‰‡ç­‰ã€‚ç€è¦½å™¨å¼•æ“å¿…é ˆå…ˆè¼‰å…¥æ‰€æœ‰è³‡æºæ‰èƒ½å®Œæˆå…·è±¡ã€‚</p><p>ç•¶ç„¶ç¿æ™ºçš„å·¥ç¨‹å¸«å€‘æ—©å°±çŸ¥é“é€™å€‹å•é¡Œçš„ç ´è§£æ–¹æ³•(à¹‘ËƒÌµá´—Ë‚Ìµ)ï»­ é€™è£¡å°±è¦æåˆ°åœ¨é–‹é ­èªªçš„ç¬¬ä¸€å€‹æ–¹æ³•</p><h2 id="å°‡æ”¾åœ¨å‰ä¸€è¡Œ"><a href="#å°‡æ”¾åœ¨å‰ä¸€è¡Œ" class="headerlink" title="å°‡&lt;script&gt;æ”¾åœ¨&lt;/body&gt;å‰ä¸€è¡Œ"></a>å°‡<code>&lt;script&gt;</code>æ”¾åœ¨<code>&lt;/body&gt;</code>å‰ä¸€è¡Œ</h2><img src="/images/async_vs_defer/3rendering-time-endofbody.png"><ul><li>ç€è¦½å™¨æœƒå…ˆè§£æå®Œæ•´å€‹ HTMLï¼Œå†ä¸‹è¼‰ JavaScript æª”æ¡ˆã€è§£æï¼Œå› æ­¤ä½¿ç”¨è€…å¯ä»¥åœ¨ç¬¬ä¸€æ™‚é–“çœ‹åˆ°ç•«é¢ã€‚</li><li>Script æœ‰å¯èƒ½æœƒç•°å‹•åˆ° HTML å…ƒç´ ï¼Œå› æ­¤å°‡<code> &lt;script&gt;</code> ç½®æ–¼<code>&lt;body&gt;</code>çš„åº•éƒ¨ï¼Œå¯ä»¥ç¢ºä¿ HTML å…ƒç´ å·²ç¶“å®Œå…¨è¼‰å…¥ï¼Œæ¸›å°‘ç•°å‹•å…ƒç´ é€ æˆéŒ¯èª¤çš„é¢¨éšªã€‚</li><li>ç›´åˆ° DOM å®Œå…¨å»ºç½®å¥½å¾Œï¼ˆä½†æœƒåœ¨ DOMContentLoaded äº‹ä»¶å‰ï¼‰æ‰è¢«ã€ŒåŸ·è¡Œã€</li></ul><p>ä½†é€™æ˜¯å¥½æ–¹æ³•å—ï¼Ÿä¸€åˆ‡éƒ½çœ‹ç¶²é çš„å…§å®¹è€Œå®šï¼Œå¦‚æœ JavaScript å¯«å¾—å¾ˆå¤šæª”æ¡ˆå¾ˆå¤§ï¼Œæˆ–æ˜¯ç”±å¤–éƒ¨è³‡æºè¼‰å…¥ï¼Œå¯èƒ½å°±æœƒå°è‡´ç¶²é è·‘å¾ˆæ…¢(ï½¡Åï¹Å)ï¼Œä½¿ç”¨è€…å¯èƒ½æœƒè¦ºå¾—ç¶²é å£æ‰ à² _à² </p><p>ä½†å¦‚æœæƒ³è¦ç¶²é è¼‰å…¥æ›´å¿«ä¸€é»æ€éº¼è¾¦ï¼Ÿé€™æ™‚å€™<code>async</code>å°±æ´¾ä¸Šç”¨å ´å•¦ ğŸ¤©</p><h2 id="async"><a href="#async" class="headerlink" title="async"></a>async</h2><p>async çš„æ„æ€æ˜¯ <strong>asynchrnous</strong>ï¼Œæ„å³<strong>éåŒæ­¥</strong> ä½¿ç”¨çš„ç¯„ä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css">&lt;script <span class="hljs-attribute">src</span>=&quot;demo1<span class="hljs-selector-class">.js</span>&quot; async&gt;&lt;/script&gt;<br>&lt;script <span class="hljs-attribute">src</span>=&quot;demo2<span class="hljs-selector-class">.js</span>&quot; async&gt;&lt;/script&gt;<br></code></pre></td></tr></table></figure><p>å¯ä»¥ç”¨åœ–ç‰‡ç†è§£ï¼š <img src="/images/async_vs_defer/4rendering-time-async.png"></p><ul><li>è§£æ HTML èˆ‡è¼‰å…¥è…³æœ¬ï¼Œæ˜¯éåŒæ­¥é€²è¡Œã€‚å› æ­¤<code>async</code>æœƒå‘Šè¨´ç€è¦½å™¨ï¼Œåœ¨è§£æ HTML æ™‚ä¸ç”¨ç­‰<code>&lt;script&gt;</code>è…³æœ¬çš„ä¸‹è¼‰èˆ‡åŸ·è¡Œã€‚</li><li>async çš„è…³æœ¬è¼‰å…¥èˆ‡ HTML è§£ææ˜¯å½¼æ­¤ç¨ç«‹ï¼Œasync<strong>ä¸‹è¼‰å®Œå°±æœƒé¦¬ä¸ŠåŸ·è¡Œ</strong>ã€‚</li><li>é™¤äº†è·Ÿ DOM çš„å»ºæ§‹æ˜¯å½¼æ­¤ç¨ç«‹ä¹‹å¤–ï¼Œå¸¶æœ‰ async å±¬æ€§çš„è…³æœ¬è·Ÿå…¶ä»–çš„è…³æœ¬ä¹Ÿæ˜¯<strong>å½¼æ­¤ç¨ç«‹</strong>ï¼Œå“ªå€‹å…ˆä¸‹è¼‰å®Œæˆå°±å…ˆåŸ·è¡Œã€‚</li><li>é›–ç„¶åœ¨ä¸‹è¼‰æ™‚ä¸æœƒæš«åœ HMTL çš„è§£æï¼Œä½†åœ¨åŸ·è¡Œæ™‚å…¶ä»–çš„ Script æ™‚æœƒæš«åœè§£æï¼ˆä¾‹å¦‚ç¯„ä¾‹çš„ demo1 æœƒå…ˆåŸ·è¡Œï¼Œæ¥è‘—å†è§£æ demo2ï¼‰</li><li>é€šå¸¸ä½¿ç”¨åœ¨ Script è¼‰å…¥è·Ÿ DOMã€å…¶ä»–è…³æœ¬æ˜¯æ²’æœ‰ç›¸äº’ä¾è³´é—œä¿‚æ™‚ï¼Œä¾‹å¦‚ Google Analytics é€™é¡åˆ†æç”¨çš„è…³æœ¬ã€‚</li><li>async è‹¥æ”¾åœ¨ html ä¸­é–“ï¼Œå‰‡æ‹¿ä¸åˆ°å¾Œé¢è§£æçš„ DOMã€‚</li></ul><p>async çœŸæ˜¯çœæ™‚é–“ Ê•â€¢á´¥â€¢Ê”ï¼Œä½†é€™æ˜¯æœ€å¥½çš„æ–¹æ³•å—ï¼Ÿä¸¦ä¸æ˜¯ï¼Œä¸€åˆ‡ä¹Ÿè¦çœ‹ç¶²é çš„å…§å®¹è€Œå®šï¼Œå¦‚æœæœ‰å¾ˆå¤šç›¸äº’ä¾è³´çš„ Script æˆ–æ˜¯ Script éœ€è¦å–å¾— DOM å…ƒç´ å°±ä¸é©åˆã€‚</p><p>æ‰€ä»¥å°±æœ‰äº†ç¬¬ä¸‰ç¨®è§£æ±ºé€™å•é¡Œçš„æ–¹æ³•å•¦ï¼é‚£å°±æ˜¯<code>defer</code></p><h2 id="ä»€éº¼æ˜¯-defer"><a href="#ä»€éº¼æ˜¯-defer" class="headerlink" title="ä»€éº¼æ˜¯ defer?"></a>ä»€éº¼æ˜¯ defer?</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css">&lt;script <span class="hljs-attribute">src</span>=&quot;demo1<span class="hljs-selector-class">.js</span>&quot; defer&gt;&lt;/script&gt;<br>&lt;script <span class="hljs-attribute">src</span>=&quot;demo1<span class="hljs-selector-class">.js</span>&quot; defer&gt;&lt;/script&gt;<br></code></pre></td></tr></table></figure><img src="/images/async_vs_defer/5rendering-time-defer.png"><ul><li>defer æœƒå‘Šè¨´ç€è¦½å™¨ï¼Œä¸ç”¨ç­‰è…³æœ¬çš„ä¸‹è¼‰èˆ‡åŸ·è¡Œï¼Œå¯ä»¥ç¹¼çºŒå®Œæˆ HTML çš„è§£æèˆ‡ DOM çš„å»ºæ§‹ï¼›åœ¨å»ºæ§‹ DOM çš„åŒæ™‚ï¼Œæœƒåœ¨èƒŒæ™¯ä¸­è¼‰å…¥è…³æœ¬ï¼Œå› æ­¤ defer ä¸æœƒæ“‹ä½ç•«é¢çš„å…·åƒï¼ˆæ¸²æŸ“ï¼‰ã€‚</li><li>å¦‚æœè…³æœ¬åœ¨ HTML è§£æå®Œæˆå‰å°±ä¸‹è¼‰å¥½ï¼Œæœƒç­‰åˆ° HTML éƒ½<strong>å®Œå…¨è§£æ</strong>å¾Œï¼Œæ‰æœƒåŸ·è¡Œã€‚å› æ­¤å¦‚æœæœ‰è…³æœ¬æ˜¯éœ€è¦ç­‰ HTML è§£æå®Œã€DOM å®Œæ•´å»ºç«‹å¾Œæ‰èƒ½è¼‰å…¥ï¼Œé‚£éº¼æœƒéœ€è¦é¸ deferã€‚</li><li>å¦‚æœåŒæ™‚æœ‰å¤šå€‹å¸¶æœ‰ defer å±¬æ€§çš„<code>&lt;script&gt;</code>è³‡æºï¼Œç€è¦½å™¨æœƒåŒæ­¥ä¸‹è¼‰ï¼Œåªæ˜¯æœƒä¾ç…§åœ¨ HTML ä¸­çš„é †åºåŸ·è¡Œã€‚</li><li>æœ‰äº›æ™‚å€™ï¼Œå¯èƒ½æŸå€‹è…³æœ¬æœƒä¾è³´å¦ä¸€å€‹è…³æœ¬ï¼Œä¾‹<code>demo1.js</code>ä¾è³´<code>demo2.js</code>ï¼Œåœ¨ç¯„ä¾‹ä¸­ä½¿<code>defer</code>å¯ä»¥ç¢ºä¿<code>demo1.js</code>æœƒåœ¨<code>demo2.js</code>ä¹‹å‰åŸ·è¡Œã€‚</li></ul><h2 id="æ”¾åœ¨å‰-v-s-Async-v-s-Defer"><a href="#æ”¾åœ¨å‰-v-s-Async-v-s-Defer" class="headerlink" title="æ”¾åœ¨&lt;/body&gt;å‰ v.s. Async v.s. Defer"></a>æ”¾åœ¨<code>&lt;/body&gt;</code>å‰ v.s. Async v.s. Defer</h2><p>äº†è§£é€™ä¸‰ç¨®ä¸åŒçš„æ–¹æ³•æ™‚ï¼Œè‡ªå·±ä¹Ÿé ­æ˜çœ¼èŠ±äº†ä¸€é™£å­ï¼Œæ‰€ä»¥ç‰¹åˆ¥è£½ä½œäº†è¡¨æ ¼ä¾†å¹«åŠ©å¤§å®¶é‡æ¸…ï¼š <img src="/images/async_vs_defer/6differ-table.png"></p><p>æœ¬ç¯‡æ–‡ç« æ˜¯æˆ‘ç”±ä»¥ä¸‹åƒè€ƒè³‡æ–™æ•´ç†+è‡ªå·±ç¹ªåœ–è€Œæˆï¼Œå¦‚æœæ‚¨æœ‰èˆˆè¶£äº†è§£æ›´å¤šï¼Œè«‹åƒè€ƒï¼š</p><h3 id="åƒè€ƒè³‡æ–™ï¼š"><a href="#åƒè€ƒè³‡æ–™ï¼š" class="headerlink" title="åƒè€ƒè³‡æ–™ï¼š"></a>åƒè€ƒè³‡æ–™ï¼š</h3><blockquote><p><a href="https://curiosum.com/blog/seo-speed-script-tags-async-vs-defer">curiosumï¼šAsync vs Defer</a></p></blockquote><blockquote><p><a href="https://www.explainthis.io/zh-hant/swe/script-link-in-html">ExplainThisï¼šscript æ¨™ç±¤æ‡‰è©²æ”¾åœ¨ HTML çš„ä»€éº¼ä½ç½®ï¼Ÿlink å‘¢ï¼Ÿ</a></p></blockquote><blockquote><p><a href="https://www.explainthis.io/zh-hant/swe/fe-script-async-defer-difference">ExplainThisï¼šscript çš„ async èˆ‡ defer æœ‰ä»€éº¼ä¸åŒï¼Ÿ</a></p></blockquote><blockquote><p><a href="https://pjchender.dev/javascript/js-async-defer/">PJchenderï¼š[JS] Async, defer attributes</a></p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;style&gt;
  .em-div{
  background-color: #d4a373;
  color: white;
  padding: 10px;
  margin: 10px;
  border-radius: 5px;
  }
&lt;/style&gt;

&lt;h3 id=</summary>
      
    
    
    
    <category term="JavaScript" scheme="http://adora-xu.com/categories/JavaScript/"/>
    
    
    <category term="JavaScript" scheme="http://adora-xu.com/tags/JavaScript/"/>
    
    <category term="defer" scheme="http://adora-xu.com/tags/defer/"/>
    
    <category term="async" scheme="http://adora-xu.com/tags/async/"/>
    
    <category term="Web" scheme="http://adora-xu.com/tags/Web/"/>
    
    <category term="rendering" scheme="http://adora-xu.com/tags/rendering/"/>
    
  </entry>
  
  <entry>
    <title>JavaScript: è®Šæ•¸æå‡ hoisting åˆ°åº•æ˜¯ä»€éº¼ï¼Ÿ</title>
    <link href="http://adora-xu.com/2023/11/18/hoisting/"/>
    <id>http://adora-xu.com/2023/11/18/hoisting/</id>
    <published>2023-11-18T13:58:00.000Z</published>
    <updated>2023-11-21T14:34:11.000Z</updated>
    
    <content type="html"><![CDATA[<style>  .em-div{  background-color: #d4a373;  color: white;  padding: 10px;  margin: 10px;  border-radius: 5px;  }  .em-div2{    border:2px #d4a373 solid;    margin:5px;    padding:10px 2px 2px 2px;    border-style:dashed;  }</style><img src="/images/hoisting/banner.png">ä¹‹å‰åœ¨<a href="https://adora-xu.com/2023/11/15/var-let-const/">ä½¿ç”¨var, let, constå®£å‘Šç©¶ç«Ÿå·®åœ¨å“ªå‘¢ï¼Ÿ</a>ï¼Œè£¡é¢æœ‰è«‡åˆ°è®Šæ•¸æå‡(Hoisting)ã€‚<p>è®Šæ•¸æå‡(hoisting)æ˜¯åœ¨ ECMAScriptÂ® 2015 Language Specification è£¡é¢æ‰¾ä¸åˆ°çš„å°ˆæœ‰åè©ï¼Œ<br>å®ƒæ˜¯ä¸€ç¨®é‡æ¸… JaveScript åœ¨åŸ·è¡Œéšæ®µå…§æ–‡å¦‚ä½•é‹è¡Œçš„æ€è·¯ï¼ˆå°¤å…¶æ˜¯åœ¨å‰µå»ºå’ŒåŸ·è¡Œéšæ®µï¼‰ã€‚</p><p>ç©¶ç«Ÿhoisting æ˜¯ä»€éº¼å‘¢ï¼Ÿè®“æˆ‘å€‘ä¾†ä¸€æ¢ç©¶ç«Ÿ Ù©(à¹‘â›á´—â›à¹‘)Û¶</p><p>é¦–å…ˆå…ˆä¾†çœ‹çœ‹<a href="https://developer.mozilla.org/zh-TW/docs/Glossary/Hoisting">MDN</a>è§£é‡‹<strong>hoisting</strong>çš„é‡é»</p><p>é€™æ®µè©±è£¡é¢æœ‰å¹¾å€‹é‡é»ï¼š</p><div class="em-div2"><ol><li><p>hosting æ˜¯ä¸€ç¨®é‡æ¸… JaveScript åœ¨åŸ·è¡Œéšæ®µå…§æ–‡<code>å¦‚ä½•é‹è¡Œçš„æ€è·¯</code>ï¼ˆå°¤å…¶æ˜¯åœ¨å‰µå»ºå’ŒåŸ·è¡Œéšæ®µï¼‰ã€‚</p></li><li><p><code>ä¸¦é</code>å–®ç´”åœ°å°‡è®Šæ•¸å’Œå‡½å¼å®£å‘Šï¼Œç§»å‹•åˆ°ç¨‹å¼çš„å€å¡Šé ‚ç«¯</p></li><li><p>è®Šæ•¸å’Œå‡½æ•¸çš„å®£å‘Šæœƒåœ¨<code>ç·¨è­¯éšæ®µå°±è¢«æ”¾å…¥è¨˜æ†¶é«”</code>ï¼Œä½†å¯¦éš›ä½ç½®å’Œç¨‹å¼ç¢¼ä¸­å®Œå…¨ä¸€æ¨£ã€‚</p></div></li></ol><h2 id="JavaScript-åŸ·è¡Œéç¨‹çš„å…©å¤§éšæ®µ"><a href="#JavaScript-åŸ·è¡Œéç¨‹çš„å…©å¤§éšæ®µ" class="headerlink" title="JavaScript åŸ·è¡Œéç¨‹çš„å…©å¤§éšæ®µ"></a>JavaScript åŸ·è¡Œéç¨‹çš„å…©å¤§éšæ®µ</h2><p>è¦ç†è§£ Hoistingï¼Œé¦–å…ˆå…ˆçŸ¥é“ JavaScript åŸ·è¡Œå…©å¤§éšæ®µï¼š</p><img src="/images/hoisting/01.png"><div class="em-div2"><ul><li><p>Creation Phase</p><ul><li>è¨»å†Šåç¨±(Declaration)</li><li>åˆå§‹åŒ–ï¼ˆInitialisationï¼‰</li></ul></li><li><p>Execution Phase</p><ul><li>è³¦å€¼(Assignment) &amp; åŸ·è¡Œ</li></ul></li></ul></div><hr><p>é€™æ¨£å°±èƒ½å¤ å¾ˆæ¸…æ¥šè§£é‡‹ä»¥ä¸‹ä¾‹å­ï¼š</p><img src="/images/hoisting/02.png"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);<br><span class="hljs-keyword">var</span> a = <span class="hljs-number">1</span>;<br></code></pre></td></tr></table></figure><div class="em-div">undefined</div><p>è§£é‡‹ï¼š</p><ul><li>åœ¨ Creation Phaseï¼Œæœƒé€²è¡Œè®Šæ•¸çš„è¨»å†Šåç¨±å’Œ undefined çš„åˆå§‹åŒ–ã€‚</li><li>åœ¨ Execution Phaseï¼Œç•¶ç¨‹å¼ç¢¼é€è¡ŒåŸ·è¡Œæ™‚ï¼Œundefined è¢«å°å‡ºã€‚ç„¶å¾Œè³¦å€¼ a &#x3D; 1 ã€‚</li></ul><h2 id="let-const-çš„è®Šæ•¸æå‡"><a href="#let-const-çš„è®Šæ•¸æå‡" class="headerlink" title="let &amp; const çš„è®Šæ•¸æå‡"></a>let &amp; const çš„è®Šæ•¸æå‡</h2><p>ä½†é€™å€‹æƒ…æ³åœ¨ let å®£å‘Šå’Œ const å®£å‘Šæ™‚ï¼Œå»è®Šå¾—ä¸ä¸€æ¨£ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);<br><span class="hljs-keyword">let</span> a = <span class="hljs-number">1</span>;<br></code></pre></td></tr></table></figure><div class="em-div">ReferenceError: Cannot access 'a' before initialization</div>å‚™è¨»ï¼šconstå®£å‘Šçš„çµæœå’Œletä¸€æ¨£<p>é€™æ™‚æˆ‘å€‘ä¾†çœ‹çœ‹ let &amp; const å®£å‘Šæ™‚ï¼ŒJS çš„å…©éšæ®µåœ–é‡‹ï¼š <img src="/images/hoisting/03.png"></p><p>è§£é‡‹ï¼š</p><ul><li>åœ¨ä½¿ç”¨ let &amp; const å®£å‘Šçš„è®Šæ•¸ç›´åˆ°åˆå§‹åŒ–å‰ï¼Œéƒ½æœƒå°‡è®Šæ•¸å­˜åœ¨ TDZ æš«æ™‚æ­»å€ä¸­</li><li>å¦‚æœåœ¨åˆå§‹åŒ–ï¼†è³¦å€¼å‰å–å¾—æ­¤è®Šæ•¸æ™‚ï¼Œä¾¿æœƒæ”¶åˆ°éŒ¯èª¤</li></ul><p>é€éä»¥ä¸Šåœ–ç‰‡è§£é‡‹ï¼Œæ‡‰è©²æ›´å¥½åœ°ç†è§£ä¹‹å‰æåˆ°çš„ç‹€æ³ Ù©(â—Ë™â–¿Ë™â—)Û¶ï¼Œæœ¬ç¯‡æ–‡ç« éƒ½æ˜¯åƒè€ƒä»¥ä¸‹è³‡æ–™æ•´ç†+è‡ªå·±ç¹ªåœ–è€Œæˆï¼Œå¦‚æœæœ‰ä»»ä½•æƒ³æ³•ï¼Œæ­¡è¿ç•™è¨€çµ¦æˆ‘ï¼</p><div class="em-div2">åƒè€ƒè³‡æ–™ï¼š<p><a href="https://developer.mozilla.org/zh-TW/docs/Glossary/Hoisting">MDN - Hoisting</a></p><p><a href="https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Statements/let">MDN - let</a></p><p><a href="https://www.scaler.com/topics/hoisting-in-javascript/">Hoisting in Javascript</a></p><p><a href="https://www.youtube.com/watch?v=EvfRXyKa_GI">JavaScript Tutorial #20 | Variable &amp; Function Hoisting in JavaScript </a></p></div>]]></content>
    
    
      
      
    <summary type="html">&lt;style&gt;
  .em-div{
  background-color: #d4a373;
  color: white;
  padding: 10px;
  margin: 10px;
  border-radius: 5px;
  }

  .em-div2{
    </summary>
      
    
    
    
    <category term="JavaScript" scheme="http://adora-xu.com/categories/JavaScript/"/>
    
    
    <category term="JavaScript" scheme="http://adora-xu.com/tags/JavaScript/"/>
    
    <category term="hoisting" scheme="http://adora-xu.com/tags/hoisting/"/>
    
    <category term="è®Šæ•¸æå‡" scheme="http://adora-xu.com/tags/%E8%AE%8A%E6%95%B8%E6%8F%90%E5%8D%87/"/>
    
  </entry>
  
  <entry>
    <title>JavaScript: ä½¿ç”¨ var, let, const å®£å‘Šç©¶ç«Ÿå·®åœ¨å“ªå‘¢ï¼Ÿ</title>
    <link href="http://adora-xu.com/2023/11/15/var-let-const/"/>
    <id>http://adora-xu.com/2023/11/15/var-let-const/</id>
    <published>2023-11-15T07:29:55.000Z</published>
    <updated>2023-11-22T04:10:49.000Z</updated>
    
    <content type="html"><![CDATA[<style>  .em-div{  background-color: #d4a373;  color: white;  padding: 10px;  margin: 10px;  border-radius: 5px;  }  .em-div2{    border:2px #d4a373 solid;    margin:5px;    padding:10px 2px 2px 2px;    border-style:dashed;  }</style><h3 id=""><a href="#" class="headerlink" title=""></a></h3><img src="/images/var-let-const/banner.png"><p>åœ¨ JavaScript ä¸­ï¼Œç¶“å¸¸ä½¿ç”¨<code>var</code>, <code>let</code>, <code>const</code>é€™ä¸‰å€‹æ•¸ä¾†å®£å‘Šï¼Œç©¶ç«Ÿé€™ä¸‰å€‹æœ‰ä»€éº¼ä¸åŒå‘¢ï¼Ÿä¸‹é¢ä¾†è©³ç´°èªªæ˜(^_^)</p><div class="em-div2">è¨»ï¼šæ­¤ç¯‡æ–‡ç« æœ‰å¤šå€‹ç¨‹å¼ç¢¼è¼”åŠ©è§£é‡‹ï¼Œç¯‡å¹…è¼ƒé•·ï¼Œæ‚¨ä¹Ÿå¯ä»¥æ‹‰åˆ°æœ€åº•éƒ¨çœ‹æ¯”è¼ƒè¡¨æ ¼ã€‚</div><h2 id="ç”±ä¾†"><a href="#ç”±ä¾†" class="headerlink" title="ç”±ä¾†"></a>ç”±ä¾†</h2><blockquote><p><code>var</code>, <code>let</code>, ä»¥åŠ <code>const</code> éƒ½æ˜¯åœ¨ JavaScript ç”¨ä¾†åšè®Šæ•¸å®£å‘Šçš„ä¿ç•™å­—ï¼Œåœ¨ JavaScript æ—©æœŸåªæœ‰ <code>var</code>ï¼Œç›´åˆ° ES2015 (ES6) æ™‚æ‰åŠ å…¥äº† <code>let</code> èˆ‡ <code>const</code> ã€‚</p></blockquote><h2 id="é—œæ–¼-var"><a href="#é—œæ–¼-var" class="headerlink" title="é—œæ–¼ var"></a>é—œæ–¼ var</h2><h3 id="é‡é»"><a href="#é‡é»" class="headerlink" title="é‡é»"></a>é‡é»</h3><div class="em-div2"><ul><li><code>var</code>ç‚º<strong>å‡½æ•¸ä½œç”¨åŸŸ(function scope)<strong>ï¼Œè‹¥åœ¨å‡½æ•¸å¤–å®£å‘Šå‰‡ç‚º</strong>å…¨ä½œç”¨åŸŸ(global scope)</strong></li><li>åƒ…æœ‰ function scope èƒ½å¤ é—œä½ varï¼ˆå®¹æ˜“æ±¡æŸ“ï¼‰</li><li>var å®£å‘Šçš„è®Šæ•¸ï¼Œå¯ä»¥é‡æ–°è¢«å®£å‘Š &amp; è³¦å€¼</li><li>æœ‰<a href="https://adora-xu.com/2023/11/18/hoisting/">è®Šæ•¸æå‡</a>ï¼Œè‹¥å…ˆæå–è®Šæ•¸ï¼Œå†ä½¿ç”¨ var å®£å‘Šï¼Œæœƒå‡ºç¾ undefined</div></li></ul><p>æ¥è‘—æœƒç”¨å››å€‹ç¯„ä¾‹é¡Œç›®ï¼Œä¾†å¹«åŠ©è§£é‡‹é€™å››å€‹é‡é» Ù©(ËŠá—œË‹ )Ùˆ</p><h3 id="var-ç‚ºå…¨ä½œç”¨åŸŸ"><a href="#var-ç‚ºå…¨ä½œç”¨åŸŸ" class="headerlink" title="var ç‚ºå…¨ä½œç”¨åŸŸ"></a>var ç‚ºå…¨ä½œç”¨åŸŸ</h3><p><code>var</code>å¯ä»¥ç‚º<strong>å…¨ä½œç”¨åŸŸï¼ˆglobal scopeï¼‰</strong>æˆ–<strong>å‡½æ•¸ä½œç”¨åŸŸï¼ˆfunction scopeï¼‰</strong>ã€‚é€™ä»£è¡¨åœ¨å‡½å¼<strong>å¤–é¢</strong>å®šç¾©çš„è®Šæ•¸å¯ä»¥<strong>å…¨åŸŸè¨ªå•</strong>ï¼Œåœ¨ç‰¹å®šå‡½æ•¸å…§éƒ¨å®šç¾©çš„è®Šæ•¸å¯ä»¥åœ¨å‡½æ•¸å…§éƒ¨å­˜å–ã€‚(è£œå……ï¼šæœªå®£å‘Šçš„è®Šæ•¸ä¹Ÿæœƒæ”¾åœ¨å…¨åŸŸè®Šæ•¸)</p><ul><li>ç¯„ä¾‹ 1ï¼šå…¨åŸŸå®£å‘Šè®Šæ•¸<code>a</code>ï¼Œæˆ‘å€‘å¯ä»¥åœ¨ç¨‹å¼çš„<strong>ä»»ä½•åœ°æ–¹</strong>æŠ“åˆ°<code>a</code></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> a = <span class="hljs-number">100</span>;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);<br>&#125;<br><span class="hljs-title function_">fn</span>();<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);<br></code></pre></td></tr></table></figure><div class="em-div">output:1010</div><ul><li>ç¯„ä¾‹ 2ï¼šåƒ…æœ‰ function scope èƒ½å¤ é—œä½ varï¼Œè®Šæ•¸â€œaâ€åœ¨å‡½æ•¸å…§ä½¿ç”¨ var å®£å‘Šã€‚å¦‚æœä½¿ç”¨è€…åœ¨å‡½æ•¸ä¹‹å¤–å­˜å–ï¼Œå‰‡æœƒé¡¯ç¤º<code>ReferenceError: a is not defined</code>ã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">var</span> a = <span class="hljs-number">10</span>;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);<br>&#125;<br><span class="hljs-title function_">fn</span>();<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a); <span class="hljs-comment">//varç„¡æ³•åœ¨functionå¤–è¢«å­˜å–;</span><br></code></pre></td></tr></table></figure><div class="em-div">outputï¼š10 <br>ReferenceError: a is not defined</div><ul><li>ç¯„ä¾‹ 3ï¼švar å®£å‘Šçš„è®Šæ•¸ï¼Œå¯ä»¥é‡æ–°è¢«å®£å‘Š&amp;è³¦å€¼</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> a = <span class="hljs-number">10</span>;<br><span class="hljs-keyword">var</span> a = <span class="hljs-number">8</span>;<br>a = <span class="hljs-number">7</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);<br></code></pre></td></tr></table></figure><div class="em-div">output: 7</div><ul><li>ç¯„ä¾‹ 4ï¼šå¦‚æœä½¿ç”¨è€…åœ¨å®£å‘Šä¹‹å‰ä½¿ç”¨ var è®Šæ•¸ï¼Œå› ç‚º<a href="https://adora-xu.com/2023/11/18/hoisting/">è®Šæ•¸æå‡ï¼ˆHostingï¼‰</a>çš„é—œä¿‚ã€‚åœ¨åŸ·è¡Œå‡½æ•¸ä¹‹å‰ï¼Œæœƒå„ªå…ˆå°‡ var è®Šæ•¸æ”¾å…¥è¨˜æ†¶é«”ã€‚è¦æ³¨æ„çš„æ˜¯ï¼šé€™åªæ˜¯åœ¨è¨˜æ†¶é«”æœ‰é€™è®Šæ•¸çš„ç©ºé–“ï¼Œä½†<strong>å°šæœªåˆå§‹åŒ–</strong>ã€‚é€™ä¹Ÿæ˜¯ç‚ºä½•æœƒæ‹¿åˆ° undefined çš„åŸå› ã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);<br><span class="hljs-keyword">var</span> a = <span class="hljs-number">10</span>;<br></code></pre></td></tr></table></figure><div class="em-div">output: undefined</div><h2 id="é—œæ–¼-let"><a href="#é—œæ–¼-let" class="headerlink" title="é—œæ–¼ let"></a>é—œæ–¼ let</h2><h3 id="é‡é»-1"><a href="#é‡é»-1" class="headerlink" title="é‡é»"></a>é‡é»</h3><div class="em-div2"><ul><li><code>let</code>ç‚º<b>å€å¡Šä½œç”¨åŸŸ(block scoped)</b>ï¼Œç„¡æ³•åœ¨<code>&#123;block&#125;</code>ä¹‹å¤–å­˜å–å®ƒ</li><li>æœ‰<a href="https://adora-xu.com/2023/11/18/hoisting/">è®Šæ•¸æå‡ï¼ˆHostingï¼‰</a>ï¼Œä½†å› ç‚º let ä¸æœƒå¹«å¿™åˆå§‹åŒ–ï¼Œè€Œæ˜¯å­˜åœ¨<strong>æš«æ™‚åŸ·è¡Œæ­»å€ï¼ˆTDZï¼‰</strong>ï¼Œå› æ­¤<code>let</code>ä¸èƒ½åœ¨å®£å‘Šå‰ä½¿ç”¨ï¼Œä¸èƒ½å¤šæ¬¡å®£å‘Šã€‚</div></li><li>ç¯„ä¾‹ 1ï¼šæ­£å¸¸é‹è¡Œçš„æ¨£å­</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> a = <span class="hljs-number">10</span>;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">f</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">let</span> b = <span class="hljs-number">9</span>;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b);<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);<br>&#125;<br><span class="hljs-title function_">f</span>();<br></code></pre></td></tr></table></figure><div class="em-div">output:9</br>10</div><ul><li>ç¯„ä¾‹ 2: <code>let</code>å®£å‘Šç„¡æ³•åœ¨<code>&#123;block&#125;</code>ä¹‹å¤–å­˜å–è®Šæ•¸<code>b</code>ï¼Œå› æ­¤æœƒå‡ºç¾<code>ReferenceError: b is not defined</code></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">let</span> b = <span class="hljs-number">9</span>;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b);<br>&#125;<br><span class="hljs-title function_">fn</span>();<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b);<br></code></pre></td></tr></table></figure><div class="em-div">output:9</br>ReferenceError: b is not defined</div><ul><li>ç¯„ä¾‹ 3: <code>let</code>å®£å‘Šçš„è®Šæ•¸ä¸èƒ½é‡è¤‡å®£å‘Šï¼Œä½†å¯ä»¥æ”¹è®Šå…¶å€¼</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> a = <span class="hljs-number">10</span>;<br><span class="hljs-keyword">let</span> a = <span class="hljs-number">10</span>;<br></code></pre></td></tr></table></figure><div class="em-div">output:Identifier 'a' has already been declared</div><ul><li>ç¯„ä¾‹ 4: <code>let</code>å®£å‘Šçš„è®Šæ•¸ä¸èƒ½é‡è¤‡å®£å‘Šï¼Œä½†å¯ä»¥æ”¹è®Šå…¶å€¼</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> a = <span class="hljs-number">1</span>;<br>a = <span class="hljs-number">2</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);<br></code></pre></td></tr></table></figure><div class="em-div">output:2</div><ul><li>ç¯„ä¾‹ 5:<code>let</code>ä½œç”¨åŸŸåƒ…åœ¨<code>&#123;block&#125;</code>å…§ï¼Œå› æ­¤åœ¨<code>&#123;block&#125;</code>å¤–å¯ä»¥ä½¿ç”¨åŒå€‹è®Šæ•¸åç¨±å®£å‘Š</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> a = <span class="hljs-number">10</span>;<br><span class="hljs-keyword">if</span> (<span class="hljs-literal">true</span>) &#123;<br>  <span class="hljs-keyword">let</span> a = <span class="hljs-number">9</span>;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);<br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);<br></code></pre></td></tr></table></figure><div class="em-div">output:9</br>10</div><ul><li>ç¯„ä¾‹ 6: åœ¨<code>let</code>å®£å‘Šå‰å…ˆæå–è®Šæ•¸<code>a</code>ï¼Œä½†å› ç‚º<code>let</code>ä¸æœƒå¹«å¿™åˆå§‹åŒ–ï¼Œè€Œæ˜¯<strong>å­˜åœ¨ TDZ</strong>ï¼Œå› æ­¤æœƒå‡ºç¾<code>Cannot access &#39;a&#39; before initialization</code></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);<br><span class="hljs-keyword">let</span> a = <span class="hljs-number">10</span>;<br></code></pre></td></tr></table></figure><div class="em-div">output: Cannot access 'a' before initialization</div><h2 id="é—œæ–¼-const"><a href="#é—œæ–¼-const" class="headerlink" title="é—œæ–¼ const"></a>é—œæ–¼ const</h2><blockquote><p>å¸¸æ•¸ï¼ˆconstantï¼‰åˆç¨±å®šæ•¸ï¼Œæ˜¯æŒ‡ä¸€å€‹æ•¸å€¼å›ºå®šä¸è®Šçš„æ•¸ï¼Œä¾‹å¦‚åœ“å‘¨ç‡ï¼Œèˆ‡ä¹‹ç›¸åçš„æ˜¯è®Šæ•¸ã€‚</p></blockquote><h3 id="é‡é»-2"><a href="#é‡é»-2" class="headerlink" title="é‡é»"></a>é‡é»</h3><div class="em-div2"><ul><li><code>const</code>ç‚º<b>å€å¡Šä½œç”¨åŸŸ(block scoped)</b>ï¼Œç„¡æ³•åœ¨<code>&#123;block&#125;</code>ä¹‹å¤–å­˜å–å®ƒ</li><li>ä½¿ç”¨<code>const</code>å®£å‘Šçš„è®Šæ•¸ä¸èƒ½æ”¹è®Šï¼Œäº¦ä¸èƒ½é‡è¤‡å®£å‘Šã€‚</li><li>è‹¥ä½¿ç”¨ <code>const</code> å®£å‘Šï¼Œä¸èƒ½æ”¹è®Šå…¶å±¬æ€§ï¼Œä½†èƒ½å¤ æ”¹è®Šå…§å«çš„æ±è¥¿ã€‚</div></li></ul><p>ç›¸å°å…¶ä»–çš„å®£å‘Šæ–¹å¼ï¼Œ<code>const</code>è¦å®šç›¸å°åš´æ ¼ï¼Œæ‰€ä»¥ä¸åƒ<code>var</code>æœƒæœ‰å¾ˆå¤šèŠ±è£¡èƒ¡å“¨çš„ä¾‹å¤–è¡Œç‚ºï¼Œæ˜¯å€‹å¾ˆä¹–å·§çš„å¥½å­©å­å‘¢(à¹‘Â¯â—¡Â¯à¹‘)ã€‚</p><ul><li>ç¯„ä¾‹ 1: ä½¿ç”¨<code>const</code>å®£å‘Šçš„<code>a</code>ï¼Œä¸èƒ½å¤ é‡æ–°è³¦å€¼ï¼Œæœƒå‡ºç¾<code>TypeError</code></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> a = <span class="hljs-number">10</span>;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params"></span>) &#123;<br>  a = <span class="hljs-number">9</span>;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);<br>&#125;<br><span class="hljs-title function_">fn</span>();<br></code></pre></td></tr></table></figure><div class="em-div"> output: TypeError: Assignment to constant variable.</div><ul><li>ç¯„ä¾‹ 2: <code>const</code>åŒæ¨£ç‚º<b>å€å¡Šä½œç”¨åŸŸ(block scoped)</b>ï¼Œåœ¨<code>&#123;block&#125;</code>å¤–ä¸èƒ½å­˜å–ï¼Œæœƒå‡ºç¾ <code>ReferenceError: a is not defined</code></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">const</span> a = <span class="hljs-number">9</span>;<br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);<br></code></pre></td></tr></table></figure><div class="em-div">output:ReferenceError: a is not defined</div><ul><li>ç¯„ä¾‹ 3:ä½¿ç”¨ <code>const</code> å®£å‘Šï¼Œä¸èƒ½æ”¹è®Šç‰©ä»¶ï¼Œä½†èƒ½å¤ æ›¿æ›ç‰©ä»¶å…§çš„æ±è¥¿ã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> a = &#123;<br>  <span class="hljs-attr">prop1</span>: <span class="hljs-number">10</span>,<br>  <span class="hljs-attr">prop2</span>: <span class="hljs-number">9</span>,<br>&#125;;<br>a.<span class="hljs-property">prop1</span> = <span class="hljs-number">3</span>;<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);<br></code></pre></td></tr></table></figure><div class="em-div">output:{ prop1: 3, prop2: 9 }</div><ul><li>ç¯„ä¾‹ 4:<code>const</code>å®£å‘Šä¸èƒ½æ”¹è®Šç‰©ä»¶</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> a = &#123;<br>  <span class="hljs-attr">prop1</span>: <span class="hljs-number">10</span>,<br>  <span class="hljs-attr">prop2</span>: <span class="hljs-number">9</span>,<br>&#125;;<br><br>a = &#123;<br>  <span class="hljs-attr">prop1</span>: <span class="hljs-number">20</span>,<br>&#125;;<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a);<br></code></pre></td></tr></table></figure><div class="em-div">output: TypeError: Assignment to constant variable.</div><p>ç¯„ä¾‹ 3 å’Œ 4 å¯ä»¥æƒ³åƒæˆï¼Œä¹–å¯¶å¯¶<code>const</code>å®£å‘Šäº† a æ˜¯ä¸€ç›’å·¥å…·ç®±ï¼Œä½ å¯ä»¥å¾€è£¡é¢åŠ æŠŠæ‰‹ã€èºçµ²èµ·å­ç­‰ç­‰å·¥å…·ï¼Œä¹Ÿå¯ä»¥æ‹¿èµ°è£¡é¢çš„å·¥å…·ï¼Œä½†ä½ ä¸èƒ½å†èªªå·¥å…·ç®±æ˜¯é†«è—¥ç®±ï¼Œä¹–å¯¶å¯¶<code>const</code>å®£å‘Šäº†é†«è—¥ç®±å°±æ˜¯é†«è—¥ç®±ï¼(é™¤éè¢«{â€¦}åŒ…ä½äº†)</p><p>æˆ‘è‡ªå·±æ˜¯é€™æ¨£è¨˜æ†¶çš„ï¼Œæœƒæ¯”è¼ƒå¥½æ‡‚ Ù©(ËŠá—œË‹ )Ùˆ</p><hr><p>çœ‹äº†ä¸Šé¢é€™éº¼å¤šç¯„ä¾‹ï¼Œæ„Ÿè¦ºå°±ç¼ºå°‘ä¸€å€‹æ±è¥¿ï¼Œé‚£å°±æ˜¯æ¯”è¼ƒè¡¨æ ¼ï¼æˆ‘ç‰¹åˆ¥æ•´ç†äº†ä¸€å€‹è¡¨æ ¼çµ¦å¤§å®¶åƒè€ƒ o(^â–½^)o</p><h3 id="var-let-const-æ¯”è¼ƒè¡¨æ ¼"><a href="#var-let-const-æ¯”è¼ƒè¡¨æ ¼" class="headerlink" title="var, let, const æ¯”è¼ƒè¡¨æ ¼"></a>var, let, const æ¯”è¼ƒè¡¨æ ¼</h3><img src="/images/var-let-const/table2.png"><h3 id="å®£å‘Šæº–å‰‡ï¼ˆå»ºè­°ï¼‰"><a href="#å®£å‘Šæº–å‰‡ï¼ˆå»ºè­°ï¼‰" class="headerlink" title="å®£å‘Šæº–å‰‡ï¼ˆå»ºè­°ï¼‰"></a>å®£å‘Šæº–å‰‡ï¼ˆå»ºè­°ï¼‰</h3><p>ç‚ºäº†é˜²å…¶ä»–çš„ç¨‹å¼ç¢¼è¢«å®£å‘Šæ‰€æ±¡æŸ“åˆ°è™•éƒ½æ‹¿å¾—åˆ° var å®£å‘Šçš„è®Šæ•¸ï¼Œå°±åƒä»»ä½•äººéƒ½å¯ä»¥æŠŠè­¦å¯Ÿå±€èªªæˆæ˜¯æ•™å ‚ï¼ŒæŠŠæ¿æ‰‹èªªæˆæ˜¯æ£’æ£’ç³–ï¼Œæƒ³èµ·ä¾†æœ‰é»å¯æ€• â•°(Â°â–½Â°)â•¯ï¼Œæ‰€ä»¥å»ºè­°çš„å®£å‘Šé †åºå¦‚ä¸‹ï¼š</p><ol><li>const</li><li>let</li><li>var</li></ol><p>ç•¶ç„¶å¯¦éš›é‚„æ˜¯ä¾ç…§éœ€æ±‚è€Œå®šï¼Œå¸Œæœ›ä»Šå¤©çš„æ–‡ç« æœ‰å¹«åŠ©åˆ°æ‚¨ï¼</p><p>å¦å¤–åœ¨æ–‡ç« å…§æåˆ°çš„è®Šæ•¸æå‡ï¼Œä¹Ÿæ­¡è¿åƒè€ƒæˆ‘å¦å¤–ä¸€ç¯‡æ–‡ç« çš„è§£é‡‹ï¼š<a href="https://adora-xu.com/2023/11/18/hoisting/">JavaScript: è®Šæ•¸æå‡ hoisting åˆ°åº•æ˜¯ä»€éº¼ï¼Ÿ</a></p><p>æ–‡ç« å…§å®¹æ˜¯æ ¹æ“šä»¥ä¸‹åƒè€ƒè³‡æ–™æ•´ç†ï¼‹è‡ªå·±ç¹ªåœ–è€Œå¾—ï¼Œå¦‚æœæœ‰ä»»ä½•å»ºè­°éƒ½æ­¡è¿æä¾›å”· (Â´ï½¥âˆ€ï½¥ï½€)</p><p>åƒè€ƒè³‡æ–™ï¼š</p><blockquote><p><a href="https://5xcampus.com/courses/js101">äº”å€å­¸é™¢ - ç‚ºä½ è‡ªå·±å­¸ JavaScript èª²ç¨‹å…§å®¹</a></p></blockquote><blockquote><p><a href="https://www.explainthis.io/zh-hant/swe/js-var-let-const-in-javascript">ExplainThisï¼šåœ¨ JavaScript ä¸­ç”¨ var, let, ä»¥åŠ const æœ‰ä»€éº¼å·®åˆ¥ï¼Ÿä»€éº¼æ™‚å€™è©²ç”¨å“ªå€‹ï¼Ÿ</a></p></blockquote><blockquote><p><a href="https://www.geeksforgeeks.org/difference-between-var-let-and-const-keywords-in-javascript/">Difference between var, let and const keywords in JavaScript</a></p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;style&gt;
  .em-div{
  background-color: #d4a373;
  color: white;
  padding: 10px;
  margin: 10px;
  border-radius: 5px;
  }

  .em-div2{
    </summary>
      
    
    
    
    <category term="JavaScript" scheme="http://adora-xu.com/categories/JavaScript/"/>
    
    
    <category term="JavaScript" scheme="http://adora-xu.com/tags/JavaScript/"/>
    
    <category term="var" scheme="http://adora-xu.com/tags/var/"/>
    
    <category term="let" scheme="http://adora-xu.com/tags/let/"/>
    
    <category term="const" scheme="http://adora-xu.com/tags/const/"/>
    
  </entry>
  
  <entry>
    <title>JavaScript: ç©¶ç«Ÿä»€éº¼æ˜¯ Event Loopï¼Ÿ</title>
    <link href="http://adora-xu.com/2023/11/08/javascript-event-loop/"/>
    <id>http://adora-xu.com/2023/11/08/javascript-event-loop/</id>
    <published>2023-11-08T03:22:00.000Z</published>
    <updated>2023-11-22T04:07:46.000Z</updated>
    
    <content type="html"><![CDATA[<style>  .em-div{  background-color: #d4a373;  color: white;  padding: 10px;  margin: 10px;  border-radius: 5px;  }</style><h3 id=""><a href="#" class="headerlink" title=""></a></h3><img src="/images/eventLoop/blocks.jpg">JavaScript æ˜¯å–®åŸ·è¡Œç·’åˆç¨±ç‚ºå–®ç·šç¨‹ï¼ˆSingle Threadï¼‰çš„è¨­è¨ˆï¼Œå®ƒä¸€æ¬¡åªèƒ½åŸ·è¡Œä¸€å€‹ä»»å‹™ï¼Œ è€Œã€ŒEvent Loopã€å°±æ˜¯ä½¿ JavaScript èƒ½å¤ è™•ç†å¤šå€‹ä»»å‹™çš„ç§˜è¨£<p>å…¶ä¸­åŒ…å«äº†ï¼šCall Stackï¼ˆå‘¼å«å †ç–Šï¼‰ã€Event Loopï¼ˆäº‹ä»¶å¾ªç’°ï¼‰ã€Callback Queqe(å›èª¿ä½‡åˆ—)ï¼Œä»¥ä¸‹æœƒé€æ­¥ä»‹ç´¹ã€‚</p><h3 id="Call-Stack-å‘¼å«å †ç–Š"><a href="#Call-Stack-å‘¼å«å †ç–Š" class="headerlink" title="Call Stack å‘¼å«å †ç–Š"></a>Call Stack å‘¼å«å †ç–Š</h3><img src="/images/eventLoop/callstack.png"><ul>  <li>å› ç‚º JavaScript ç‚ºå–®åŸ·è¡Œç·’çš„è¨­è¨ˆï¼Œ**ä¸€æ¬¡åªèƒ½åŸ·è¡Œä¸€å€‹å‹•ä½œ**ï¼Œå› æ­¤ç­‰å¾…åŸ·è¡Œçš„ä»»å‹™æœƒè¢«æ”¾å…¥ Call Stackã€‚</li>  <li>æº–å‚™åŸ·è¡Œçš„ä»»å‹™æœƒåƒç©æœ¨ä¸€æ¨£ï¼Œç”±ä¸‹å¾€ä¸Šå †ç–Šã€‚</li>  <li>åŸ·è¡Œæ™‚ï¼Œä¹Ÿåƒç©æœ¨ä¸€æ¨£ï¼Œç”±ä¸Šå¾€ä¸‹æ‹¿å–ï¼Œä¹Ÿç¨±ç‚ºå…ˆé€²å¾Œå‡ºæ³•ï¼ˆLIFO, Last in First outï¼‰</li></ul><div class="em-div">ä½†å¦‚æœå‡ºç¾åƒ SetTimeout()ã€fetch()ç­‰ç­‰é‹è¡Œæ™‚é–“è¼ƒé•·çš„å‡½æ•¸ï¼Œè©²æ€éº¼è¾¦å‘¢ï¼Ÿé€™å€‹æ™‚å€™ Web API å°±æ´¾ä¸Šç”¨å ´äº†ï¼</div><h3 id="Web-APIs"><a href="#Web-APIs" class="headerlink" title="Web APIs"></a>Web APIs</h3><img src="/images/eventLoop/webapis.png"><ul>  <li>æ¯ç•¶å‘¼å«éåŒæ­¥å‡½æ•¸æ™‚ï¼Œå®ƒéƒ½æœƒè¢«å‚³é€åˆ°å°æ‡‰çš„ç€è¦½å™¨ APIï¼Œè©² API æœƒç­‰å¾…å®Œæˆå‡½æ•¸å»¶é²çš„æ“ä½œå¾Œå†å‚³å›é€²è¡Œè™•ç†ã€‚</li>  <li>ä»¥ setTimeout()ç‚ºä¾‹ï¼Œç•¶ Call Stack åŸ·è¡Œæ™‚ï¼ŒsetTimeout()æœƒè¢«å‚³é€åˆ° Web APIï¼Œç­‰å¾…æŒ‡å®šçš„æ™‚é–“å®Œæˆå†å°‡è©²æ“ä½œå‚³å›é€²è¡Œè™•ç†ã€‚</li><div class="em-div">å¾ Web API ç­‰æ™‚é–“è·‘å®Œå¾Œï¼Œå®ƒå°‡æ“ä½œç™¼é€åˆ°å“ªè£¡ï¼Ÿä»–å€‘è¢«ç™¼é€åˆ°ã€Œäº‹ä»¶ä½‡åˆ—ï¼ˆEvent Queueï¼‰ã€</div><h3 id="Event-Queue-äº‹ä»¶ä½‡åˆ—"><a href="#Event-Queue-äº‹ä»¶ä½‡åˆ—" class="headerlink" title="Event Queue äº‹ä»¶ä½‡åˆ—"></a>Event Queue äº‹ä»¶ä½‡åˆ—</h3><img src="/images/eventLoop/eventque.png"><ul>  <li>Event Queue è£¡é¢æ˜¯å¾…åŸ·è¡Œçš„ä»»å‹™ï¼Œå…¶ä¸­æ¯å€‹è¨Šæ¯éƒ½èˆ‡ä¸€å€‹ function ç›¸é—œè¯ã€‚</li>  <li>ç•¶å †ç–Šä¸­æœ‰è¶³å¤ ç©ºé–“æ™‚ï¼Œæœƒå¾ Event Queue äº‹ä»¶ä½‡åˆ—æ‹¿å–ä¸€å€‹ä»»å‹™é€²è¡Œè™•ç†ï¼Œè™•ç†éç¨‹åŒ…å«äº†å‘¼å«ç›¸é—œè¯çš„ functionã€‚åªæœ‰ç•¶å †ç–Šæ¸…ç©ºæ™‚ï¼Œè©²ä½‡åˆ—æ‰ç®—æ˜¯å®Œæˆè™•ç†ã€‚</li></ul><div class="em-div">ä¸Šé¢åˆ†åˆ¥ä»‹ç´¹äº† Call Stackã€Web APIsã€Event Queueï¼Œæ¥ä¸‹ä¾†å¯ä»¥å°‡ä»–å€‘çµ„èµ·ä¾†äº†ï¼çµ„èµ·ä¾†å¾Œå¯ä»¥æ›´å¥½åœ°ç†è§£ Event Loopã€‚</div><h3 id="Event-Loop-äº‹ä»¶å¾ªç’°"><a href="#Event-Loop-äº‹ä»¶å¾ªç’°" class="headerlink" title="Event Loop äº‹ä»¶å¾ªç’°"></a>Event Loop äº‹ä»¶å¾ªç’°</h3><img src="/images/eventLoop/eventloop.png"><ul>  <li>Event Loop å®ƒä¸æ–·æª¢æŸ¥ Call Stack å‘¼å«å †ç–Šæ˜¯å¦ç‚ºç©ºã€‚</li>  <li>å¦‚æœç‚ºç©ºï¼šå‰‡å¾äº‹ä»¶ä½‡åˆ— Event Queue ä¸­æ–°å¢å‡½å¼è‡³ Call Stackã€‚</li>  <li>æ–°å¢å‡½å¼è‡³ Call Stack çš„æ­¥é©Ÿï¼Œåˆç¨±ç‚ºéåŒæ­¥å›èª¿ï¼ˆasynchronous ï¼‰</li>  <li>å¦‚æœä¸ç‚ºç©ºï¼šè™•ç† Call Stack å…§çš„å‡½æ•¸ã€‚</li></ul><h3 id="ç¯„ä¾‹ç¤ºæ„"><a href="#ç¯„ä¾‹ç¤ºæ„" class="headerlink" title="ç¯„ä¾‹ç¤ºæ„"></a>ç¯„ä¾‹ç¤ºæ„</h3><p>ç•¶ç„¶ï¼Œå¦‚æœåƒ…ä»¥ä¸Šä»‹ç´¹ï¼Œç„¡æ³•å®Œæ•´äº†è§£ï¼Œé€™ç­æº–å‚™äº†å¹¾å€‹ç¨‹å¼ç¢¼åŠæ­é…<a href="http://latentflip.com/loupe/?code=JC5vbignYnV0dG9uJywgJ2NsaWNrJywgZnVuY3Rpb24gb25DbGljaygpIHsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gdGltZXIoKSB7CiAgICAgICAgY29uc29sZS5sb2coJ1lvdSBjbGlja2VkIHRoZSBidXR0b24hJyk7ICAgIAogICAgfSwgMjAwMCk7Cn0pOwoKY29uc29sZS5sb2coIkhpISIpOwoKc2V0VGltZW91dChmdW5jdGlvbiB0aW1lb3V0KCkgewogICAgY29uc29sZS5sb2coIkNsaWNrIHRoZSBidXR0b24hIik7Cn0sIDUwMDApOwoKY29uc29sZS5sb2coIldlbGNvbWUgdG8gbG91cGUuIik7!!!PGJ1dHRvbj5DbGljayBtZSE8L2J1dHRvbj4=">loupe</a>ï¼Œè®“è®€è€…èƒ½å¤ æ›´äº†è§£å…¶é‹è¡Œæ­¥é©Ÿ</p><p>å¯ä»¥æŒ‰æ­¤<a href="http://latentflip.com/loupe/?code=Y29uc29sZS5sb2coIkhpIik7CnNldFRpbWVvdXQoZnVuY3Rpb24gY2IoKSB7CiAgY29uc29sZS5sb2coInRoZXJlIik7Cn0sIDUwMDApOwpjb25zb2xlLmxvZygiZW5kIik7!!!PGJ1dHRvbj5DbGljayBtZSE8L2J1dHRvbj4=">loupe</a>äº†è§£ JavaScript é‹è¡Œä»¥ä¸Šç¨‹å¼çš„æ­¥é©Ÿ</p><h3 id="ç¯„ä¾‹ç¤ºç¯„"><a href="#ç¯„ä¾‹ç¤ºç¯„" class="headerlink" title="ç¯„ä¾‹ç¤ºç¯„"></a>ç¯„ä¾‹ç¤ºç¯„</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Hi&quot;</span>);<br><span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span> <span class="hljs-title function_">cb</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;there&quot;</span>);<br>&#125;, <span class="hljs-number">5000</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;end&quot;</span>);<br></code></pre></td></tr></table></figure><p>æœƒå¾—åˆ°ä»¥ä¸‹çµæœï¼š</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ada">Hi<br><span class="hljs-keyword">end</span><br>there<br></code></pre></td></tr></table></figure><h3 id="ç¯„ä¾‹ç¤ºç¯„-2"><a href="#ç¯„ä¾‹ç¤ºç¯„-2" class="headerlink" title="ç¯„ä¾‹ç¤ºç¯„ 2"></a>ç¯„ä¾‹ç¤ºç¯„ 2</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-title function_">foo</span>();<br>&#125;<br><br><span class="hljs-title function_">foo</span>();<br></code></pre></td></tr></table></figure><p>æœƒå¾—åˆ°ä»¥ä¸‹çµæœï¼š</p><img src="/images/eventLoop/pasted-0.png"><p>æ­¤åˆç¨±ç‚º<strong>Stack Overflow</strong>ï¼Œç•¶ Stack ä¸æ–·å¢é•·ï¼Œç›´åˆ°ç€è¦½å™¨è¨˜æ†¶é«”è€—ç›¡ã€‚æ˜¯ç€è¦½å™¨åœ¨å“€åšçš„è²éŸ³ ğŸ˜‚ğŸ˜‚</p><p>ä»¥ä¸Šæ˜¯é—œæ–¼ Event Loop çš„ä»‹ç´¹ï¼Œæ˜¯æˆ‘ç”±ä»¥ä¸‹åƒè€ƒè³‡æ–™æ•´ç†+è‡ªå·±ç¹ªåœ–è€Œæˆï¼Œå¦‚æœæ‚¨æœ‰èˆˆè¶£äº†è§£æ›´å¤šï¼Œè«‹åƒè€ƒï¼š</p><h3 id="åƒè€ƒè³‡æ–™ï¼š"><a href="#åƒè€ƒè³‡æ–™ï¼š" class="headerlink" title="åƒè€ƒè³‡æ–™ï¼š"></a>åƒè€ƒè³‡æ–™ï¼š</h3><blockquote><p>What the heck is the event loop anyway? | Philip Roberts <a href="https://www.youtube.com/watch?v=8aGhZQkoFbQ">https://www.youtube.com/watch?v=8aGhZQkoFbQ</a></p></blockquote><blockquote><p>è«‹èªªæ˜ç€è¦½å™¨ä¸­çš„äº‹ä»¶å¾ªç’° (Event Loop) <a href="https://www.explainthis.io/zh-hant/swe/what-is-event-loop">https://www.explainthis.io/zh-hant/swe/what-is-event-loop</a></p></blockquote><blockquote><p>What is an event loop in JavaScript? <a href="https://www.educative.io/answers/what-is-an-event-loop-in-javascript">https://www.educative.io/answers/what-is-an-event-loop-in-javascript</a></p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;style&gt;
  .em-div{
  background-color: #d4a373;
  color: white;
  padding: 10px;
  margin: 10px;
  border-radius: 5px;
  }
&lt;/style&gt;

&lt;h3 id=</summary>
      
    
    
    
    <category term="JavaScript" scheme="http://adora-xu.com/categories/JavaScript/"/>
    
    
    <category term="JavaScript" scheme="http://adora-xu.com/tags/JavaScript/"/>
    
    <category term="Event Loop" scheme="http://adora-xu.com/tags/Event-Loop/"/>
    
  </entry>
  
</feed>
